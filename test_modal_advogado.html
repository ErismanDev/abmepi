<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Modal Advogado</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>Teste Modal Advogado</h1>
        
        <button class="btn btn-primary" onclick="testModal()">
            <i class="fas fa-plus me-2"></i>Testar Modal
        </button>
        
        <div id="status" class="mt-3"></div>
    </div>

    <!-- Modal Base -->
    <div class="modal fade" id="formModal" tabindex="-1" aria-labelledby="formModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="formModalLabel">
                        <i class="fas fa-edit me-2"></i>Título do Modal
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="formModalBody">
                    <!-- Conteúdo do formulário será inserido aqui -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times me-2"></i>Cancelar
                    </button>
                    <button type="button" class="btn btn-primary" id="formModalSubmit">
                        <i class="fas fa-save me-2"></i>Salvar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        function testModal() {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = '<div class="alert alert-info">Testando modal...</div>';
            
            // Testar se o modal pode ser aberto
            try {
                const modalElement = document.getElementById('formModal');
                if (modalElement) {
                    const modal = new bootstrap.Modal(modalElement);
                    modal.show();
                    
                    // Carregar conteúdo de teste
                    const modalBody = document.getElementById('formModalBody');
                    modalBody.innerHTML = `
                        <div class="alert alert-success">
                            <h5>Modal funcionando!</h5>
                            <p>O modal foi aberto com sucesso.</p>
                        </div>
                        <form id="advogadoForm" method="post">
                            <div class="mb-3">
                                <label class="form-label">Nome</label>
                                <input type="text" class="form-control" name="nome" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">CPF</label>
                                <input type="text" class="form-control" name="cpf" required>
                            </div>
                        </form>
                    `;
                    
                    // Configurar botão salvar
                    const submitBtn = document.getElementById('formModalSubmit');
                    if (submitBtn) {
                        submitBtn.onclick = function() {
                            const form = document.getElementById('advogadoForm');
                            if (form) {
                                const formData = new FormData(form);
                                console.log('Dados do formulário:');
                                for (let [key, value] of formData.entries()) {
                                    console.log(`${key}: ${value}`);
                                }
                                alert('Formulário enviado com sucesso!');
                            }
                        };
                    }
                    
                    statusDiv.innerHTML = '<div class="alert alert-success">Modal aberto com sucesso!</div>';
                } else {
                    statusDiv.innerHTML = '<div class="alert alert-danger">Modal não encontrado!</div>';
                }
            } catch (error) {
                statusDiv.innerHTML = `<div class="alert alert-danger">Erro ao abrir modal: ${error.message}</div>`;
                console.error('Erro:', error);
            }
        }
        
        // Verificar se Bootstrap está carregado
        document.addEventListener('DOMContentLoaded', function() {
            const statusDiv = document.getElementById('status');
            if (typeof bootstrap !== 'undefined') {
                statusDiv.innerHTML = '<div class="alert alert-success">Bootstrap carregado com sucesso!</div>';
            } else {
                statusDiv.innerHTML = '<div class="alert alert-danger">Bootstrap não está disponível!</div>';
            }
        });
    </script>
</body>
</html>
