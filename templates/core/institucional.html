{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if meta_description %}{{ titulo_principal }} - {{ meta_description|truncatechars:60 }}{% else %}{{ titulo_principal }} - Associação de Bombeiros e Policiais Militares{% endif %}</title>
    
    {% if meta_description %}
    <meta name="description" content="{{ meta_description }}">
    {% endif %}
    
    {% if meta_keywords %}
    <meta name="keywords" content="{{ meta_keywords }}">
    {% endif %}
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #1a365d;
            --secondary-color: #2d3748;
            --accent-color: #3182ce;
            --accent-light: #63b3ed;
            --success-color: #38a169;
            --warning-color: #d69e2e;
            --danger-color: #e53e3e;
            --text-dark: #1a202c;
            --text-light: #4a5568;
            --bg-light: #f7fafc;
            --bg-dark: #1a365d;
            --white: #ffffff;
            --gradient-primary: linear-gradient(135deg, #1a365d 0%, #2d3748 100%);
            --gradient-accent: linear-gradient(135deg, #3182ce 0%, #63b3ed 100%);
            --gradient-hero: linear-gradient(135deg, #1a365d 0%, #3182ce 50%, #63b3ed 100%);
            --gradient-card: linear-gradient(135deg, #ffffff 0%, #f7fafc 100%);
            --shadow-light: 0 4px 20px rgba(26, 54, 93, 0.08);
            --shadow-medium: 0 8px 30px rgba(26, 54, 93, 0.12);
            --shadow-heavy: 0 20px 60px rgba(26, 54, 93, 0.15);
            --shadow-large: 0 20px 40px rgba(26, 54, 93, 0.2);
            --shadow-glow: 0 0 30px rgba(49, 130, 206, 0.3);
            --border-radius: 20px;
            --border-radius-lg: 24px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: all 0.2s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            overflow-x: hidden;
            background: 
                radial-gradient(circle at 20% 80%, rgba(49, 130, 206, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(26, 54, 93, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(99, 179, 237, 0.05) 0%, transparent 50%),
                linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            position: relative;
        }
        
        /* Token CSRF para AJAX */
        .csrf-token {
            display: none;
        }
        
        /* Animações para o modal do Instagram */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                transform: translateY(20px);
                opacity: 0;
            }
            to { 
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="0.5" fill="%23e2e8f0" opacity="0.3"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
            z-index: -1;
        }
        
        /* Scrollbar personalizada */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-light);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }
        
        /* Navegação Moderna */
        .modern-navbar {
            background: rgba(26, 54, 93, 0.95) !important;
            backdrop-filter: blur(25px);
            box-shadow: 0 8px 40px rgba(26, 54, 93, 0.25);
            transition: all 0.4s ease;
            padding: 1rem 0;
            height: 85px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modern-navbar.scrolled {
            background: rgba(26, 54, 93, 0.98) !important;
            box-shadow: 0 12px 50px rgba(26, 54, 93, 0.35);
            height: 75px;
            backdrop-filter: blur(30px);
        }
        
        .modern-navbar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(99, 179, 237, 0.5), transparent);
        }
        
        /* Logo Container */
        .logo-container {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            flex-shrink: 0;
        }
        
        .brand-logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 4px 15px rgba(44, 62, 80, 0.3);
            transition: all 0.3s ease;
            background: white;
            padding: 4px;
        }
        
        .modern-navbar.scrolled .brand-logo {
            width: 45px;
            height: 45px;
        }
        
        .brand-text {
            display: flex;
            flex-direction: column;
            line-height: 1.2;
            min-width: 250px;
        }
        
        .brand-title {
            font-weight: 800;
            font-size: 1.5rem;
            color: #ffffff;
            letter-spacing: 1px;
            white-space: nowrap;
        }
        
        .modern-navbar.scrolled .brand-title {
            font-size: 1.3rem;
        }
        
        .brand-subtitle {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
            white-space: nowrap;
            overflow: visible;
            text-overflow: unset;
        }
        
        .modern-navbar.scrolled .brand-subtitle {
            font-size: 0.65rem;
        }
        
        /* Botão Mobile */
        .modern-toggler {
            border: none;
            padding: 0.5rem;
            border-radius: 8px;
            background: transparent;
            transition: all 0.3s ease;
        }
        
        .modern-toggler:focus {
            box-shadow: none;
            outline: none;
        }
        
        .toggler-icon {
            display: block;
            width: 25px;
            height: 3px;
            background: #ffffff;
            margin: 4px 0;
            border-radius: 2px;
            transition: all 0.3s ease;
        }
        
        .modern-toggler[aria-expanded="true"] .toggler-icon:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .modern-toggler[aria-expanded="true"] .toggler-icon:nth-child(2) {
            opacity: 0;
        }
        
        .modern-toggler[aria-expanded="true"] .toggler-icon:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
        
        /* Menu de Navegação */
        .modern-nav {
            margin: 0 auto;
            align-items: center;
            flex-grow: 1;
            justify-content: center;
        }
        
        .modern-nav .nav-item {
            margin: 0 0.5rem;
        }
        
        .modern-link {
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9) !important;
            padding: 0.75rem 1.25rem !important;
            border-radius: 25px;
            transition: all 0.3s ease;
            position: relative;
            font-size: 0.9rem;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 120px;
        }
        
        .modern-link:hover {
            color: #ffffff !important;
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2);
        }
        
        .modern-link i {
            font-size: 0.9rem;
            margin-right: 0.5rem;
        }
        
        /* Botão de Login */
        .nav-actions {
            margin-left: 1rem;
        }
        
        .btn-modern-login {
            background: var(--gradient-primary);
            border: none;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(30, 60, 114, 0.3);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
        }
        
        .btn-modern-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(30, 60, 114, 0.4);
            color: white;
        }
        
        .btn-modern-login::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-modern-login:hover::before {
            left: 100%;
        }
        
        /* Indicador de Scroll */
        .scroll-indicator {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: var(--gradient-primary);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        /* Responsividade */
        @media (max-width: 991.98px) {
            .modern-navbar {
                height: auto;
                padding: 1rem 0;
            }
            
            .modern-navbar.scrolled {
                height: auto;
            }
            
<<<<<<< HEAD
        }
            
=======
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
            .brand-logo {
                width: 45px;
                height: 45px;
            }
            
            .brand-title {
                font-size: 1.3rem;
            }
            
            .brand-subtitle {
                font-size: 0.65rem;
                max-width: 200px;
            }
            
            .modern-nav {
                margin: 1rem 0;
                text-align: center;
                flex-grow: 0;
            }
            
            .modern-nav .nav-item {
                margin: 0.5rem 0;
            }
            
            .modern-link {
                min-width: auto;
                justify-content: center;
            }
            
            .nav-actions {
                margin: 1rem 0 0 0;
                text-align: center;
            }
            
            .btn-modern-login {
                width: 100%;
                justify-content: center;
            }
        }
        
        @media (max-width: 575.98px) {
            .logo-container {
                gap: 0.75rem;
            }
            
            .brand-logo {
                width: 40px;
                height: 40px;
            }
            
            .brand-title {
                font-size: 1.2rem;
            }
            
            .brand-subtitle {
                font-size: 0.6rem;
                max-width: 120px;
            }
        }
        
        .btn-login::before {
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-login:hover::before {
            left: 100%;
        }
        
        .btn-login:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-heavy);
            color: white;
        }
        
        /* Hero Section */
        .hero-section {
            background: var(--gradient-hero);
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            padding: 8rem 0 4rem;
        }
        
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="rgba(255,255,255,0.03)" points="0,1000 1000,0 1000,1000"/></svg>');
            background-size: cover;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            color: white;
        }
        
        .hero-title {
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 900;
            margin-bottom: 2rem;
            line-height: 1.1;
            background: linear-gradient(135deg, #ffffff 0%, #f0f8ff 50%, #63b3ed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            /* animation: titleGlow 3s ease-in-out infinite alternate; */
        }
        
        /* @keyframes titleGlow {
            0% { filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.2)); }
            100% { filter: drop-shadow(0 0 40px rgba(255, 255, 255, 0.4)); }
        } */
        
        .hero-subtitle {
            font-size: clamp(1.2rem, 2.8vw, 1.6rem);
            margin-bottom: 3rem;
            opacity: 0.95;
            font-weight: 500;
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            /* animation: fadeInUp 1s ease-out 0.5s both; */
        }
        
        /* @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 0.95;
                transform: translateY(0);
            }
        } */
        
        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.15);
            padding: 1.5rem;
            border-radius: var(--border-radius-lg);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .stat-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }
        
        .stat-item:hover::before {
            left: 100%;
        }
        
        .stat-item:hover {
            transform: translateY(-8px) scale(1.02);
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .stat-number {
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-color), var(--accent-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.75rem;
            text-shadow: 0 0 20px rgba(49, 130, 206, 0.3);
            /* animation: numberPulse 2s ease-in-out infinite; */
        }
        
        /* @keyframes numberPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        } */
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
            color: #000000;
        }
        
        .hero-image {
            position: relative;
            z-index: 2;
        }
        
        .hero-image img {
            max-width: 100%;
            height: auto;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-heavy);
            transition: var(--transition);
        }
        
        .hero-image:hover img {
            transform: scale(1.05);
        }
        
        /* Botões de ação */
        .btn-primary-custom {
            background: var(--gradient-accent);
            border: none;
            color: white;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: var(--transition);
            box-shadow: var(--shadow-medium);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary-custom:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-heavy);
            color: white;
        }
        
        .btn-secondary-custom {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            backdrop-filter: blur(10px);
        }
        
        .btn-secondary-custom:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.5);
            color: white;
            transform: translateY(-2px);
        }
        
        /* Indicador de scroll */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            text-align: center;
            animation: bounce 2s infinite;
            cursor: pointer;
        }
        
        .scroll-indicator i {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .hero-section {
                padding: 6rem 0 3rem;
                text-align: center;
            }
            
            .hero-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .stat-item {
                padding: 1rem;
            }
            
            .navbar-nav {
                text-align: center;
                margin: 1rem 0;
            }
            
            .btn-login {
                margin-top: 1rem;
                width: 100%;
                justify-content: center;
            }
        }
        
        /* Seções gerais */
        .section-title {
            font-size: clamp(2rem, 4vw, 2.5rem);
            font-weight: 700;
            margin-bottom: 0.75rem;
            color: #000000;
        }
        
        .section-subtitle {
            font-size: 1.1rem;
            color: #000000;
            max-width: 600px;
            margin: 0 auto 1rem;
            line-height: 1.6;
        }
        
        /* Fundo sutil para seções */
        .py-4, .py-5 {
            background: rgba(44, 62, 80, 0.02);
            border-radius: 8px;
            margin: 0;
            padding: 2rem 0 !important;
        }
        
        .py-4:nth-child(even), .py-5:nth-child(even) {
            background: rgba(52, 73, 94, 0.01);
        }
        
        /* Remover margens entre seções adjacentes */
        .py-4 + .py-4, .py-5 + .py-4, .py-4 + .py-5, .py-5 + .py-5 {
            margin-top: 0;
        }
        
        /* Otimização de espaçamento entre seções */
        section {
            margin-bottom: 0;
        }
        
        /* Reduzir espaçamento do hero */
        .hero-section {
            padding: 6rem 0 3rem !important;
        }
        
        /* Reduzir espaçamento das seções internas */
        .container {
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        
        /* Remover espaçamento entre CTA e Footer */
        .cta-section + .footer {
            margin-top: 0;
        }
        
        .cta-section {
            margin-bottom: 0;
        }
        
        .footer {
            margin-top: 0;
        }
        
        /* Features Section */
        .features-section {
            background: var(--bg-light);
            padding: 2rem 0;
        }
        
        .feature-card {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            text-align: center;
            transition: var(--transition);
            height: 100%;
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }
        
        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transition: var(--transition);
        }
        
        .feature-card:hover::before {
            transform: scaleX(1);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-heavy);
        }
        
        .feature-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            color: white;
            font-size: 2rem;
            transition: var(--transition);
        }
        
        .feature-card:hover .feature-icon {
            transform: scale(1.1) rotate(5deg);
        }
        
        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #000000;
        }
        
        .feature-description {
            color: #000000;
            line-height: 1.6;
        }
        
        /* About Section */
        .about-section {
            background: white;
            padding: 2rem 0;
        }
        
        .about-content h3 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #000000;
        }
        
        .about-text {
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }
        
        .about-image img {
            width: 100%;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-heavy);
            transition: var(--transition);
        }
        
        .about-image:hover img {
            transform: scale(1.02);
        }
        
        /* Community Section */
        .community-section {
            background: var(--bg-light);
        }
        
        .community-card {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            height: 100%;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .community-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }
        
        .community-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient-accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 1.5rem;
            transition: var(--transition);
        }
        
        .community-card:hover .community-icon {
            transform: scale(1.1);
        }
        
        .community-card h5 {
            font-weight: 600;
            color: #000000;
            margin-bottom: 0.5rem;
        }
        
        .community-card p {
            color: #000000;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        /* CTA Section */
        .cta-section {
            background: var(--gradient-primary);
            color: white;
            position: relative;
            overflow: hidden;
            margin-bottom: 0;
            padding-bottom: 2rem;
        }
        
        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="rgba(255,255,255,0.03)" points="0,1000 1000,0 1000,1000"/></svg>');
            background-size: cover;
        }
        
        .cta-title {
            font-size: clamp(2rem, 4vw, 2.5rem);
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
        }
        
        .cta-description {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            z-index: 2;
        }
        
        /* Footer */
        .footer {
            background: var(--bg-dark);
            color: #000000 !important;
            margin-top: 0;
            padding-top: 2rem;
        }
        
        .footer-title {
            color: #000000 !important;
            margin-bottom: 1rem;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .footer-text {
            color: #000000 !important;
            line-height: 1.6;
        }
        
        .footer-link {
            color: #000000 !important;
            text-decoration: none;
            margin-bottom: 0.5rem;
            display: block;
            transition: var(--transition);
        }
        
        .footer-link:hover {
            color: var(--accent-color);
            transform: translateX(5px);
        }
        
        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #000000 !important;
            background: var(--bg-dark);
            padding: 1rem 0;
        }
        
        /* Forçar cor preta em todos os elementos do footer */
        .footer,
        .footer *,
        .footer .footer-title,
        .footer .footer-text,
        .footer .footer-link,
        .footer .footer-bottom,
        .footer .footer-section,
        .footer .footer-section * {
            color: #000000 !important;
        }
        

        
        /* Animações adicionais */
        @keyframes slideInUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .slide-in-up {
            animation: slideInUp 0.6s ease-out;
        }
        
        /* Melhorias de responsividade */
        @media (max-width: 768px) {
            .feature-card,
            .community-card {
                padding: 1.5rem;
            }
            
            .about-content {
                text-align: center;
                margin-bottom: 2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .hero-stats {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }
        
        @media (max-width: 576px) {
            .hero-section {
                padding: 5rem 0 2rem;
            }
            
            .btn-primary-custom,
            .btn-secondary-custom {
                width: 100%;
                justify-content: center;
                margin-bottom: 1rem;
            }
            
            .feature-card,
            .community-card {
                padding: 1rem;
            }
            
            /* Estilos responsivos para o layout vertical Instagram */
            .feed-carousel-section {
                padding: 3rem 0 1rem;
                min-height: 100vh;
            }
            
            .feed-carousel-section h2 {
                font-size: 1.5rem;
                margin-bottom: 0.75rem;
            }
            
            .feed-carousel-section p {
                font-size: 0.875rem;
                margin-bottom: 1.5rem;
                max-width: 300px;
            }
            
            /* Moldura do smartphone responsiva */
            .smartphone-frame {
                width: 320px;
                height: 700px;
                border-radius: 35px;
                padding: 6px;
                transform: perspective(800px) rotateY(-3deg) rotateX(3deg);
            }
            
            .smartphone-frame:hover {
                transform: perspective(800px) rotateY(-1deg) rotateX(1deg);
            }
            
            .smartphone-screen {
                border-radius: 28px;
            }
            
            .smartphone-notch {
                width: 120px;
                height: 25px;
                border-radius: 0 0 15px 15px;
            }
            
            .smartphone-content {
                padding-top: 25px;
            }
            
            .feed-vertical-layout {
                max-width: 100%;
                margin: 0;
            }
            
            .feed-header {
                padding: 0.75rem 1rem;
            }
            
            .feed-interaction-area {
                padding: 0.5rem 1rem;
            }
            
            .feed-image-container img {
                max-height: none;
            }
            
            .feed-item {
                min-height: auto;
            }
            
            .carousel-control {
                width: 36px;
                height: 36px;
                font-size: 0.875rem;
            }
            
            .carousel-control.prev-control {
                left: -50px;
            }
            
            .carousel-control.next-control {
                right: -50px;
            }
            
            .carousel-indicators {
                margin-top: 0.75rem;
                gap: 0.375rem;
            }
            
            .indicator-btn {
                width: 6px;
                height: 6px;
            }
            
            .indicator-dot {
                width: 3px;
                height: 3px;
            }
        }
        
        /* Estilos para tablets */
        @media (min-width: 577px) and (max-width: 768px) {
            .feed-carousel-section {
                padding: 3.5rem 1.5rem 2rem;
            }
            
            .feed-carousel-section h2 {
                font-size: 1.75rem;
            }
            
            .feed-carousel-section p {
                font-size: 0.95rem;
                max-width: 350px;
            }
            
            /* Moldura do smartphone para tablets */
            .smartphone-frame {
                width: 350px;
                height: 750px;
                border-radius: 38px;
                padding: 7px;
                transform: perspective(900px) rotateY(-4deg) rotateX(4deg);
            }
            
            .smartphone-frame:hover {
                transform: perspective(900px) rotateY(-2deg) rotateX(2deg);
            }
            
            .smartphone-screen {
                border-radius: 30px;
            }
            
            .smartphone-notch {
                width: 135px;
                height: 28px;
                border-radius: 0 0 18px 18px;
            }
            
            .smartphone-content {
                padding-top: 28px;
            }
            
            .feed-vertical-layout {
                max-width: 100%;
            }
            
            .carousel-control {
                width: 44px;
                height: 44px;
            }
            
            .carousel-control.prev-control {
                left: -55px;
            }
            
            .carousel-control.next-control {
                right: -55px;
            }
        }
        
        /* Estilos para desktop */
        @media (min-width: 769px) {
            .smartphone-frame {
                transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
            }
            
            .smartphone-frame:hover {
                transform: perspective(1000px) rotateY(-2deg) rotateX(2deg);
            }
        }
        
        .emoji-btn:hover {
            background-color: #f0f0f0;
        }
        
        /* Feed Carrossel Styles */
        .feed-carousel-section {
            padding: 0.5rem 2rem 2rem;
            min-height: auto;
            display: flex;
            align-items: flex-start;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            position: relative;
            margin-top: 0;
        }
        
        .feed-carousel-section h2 {
            text-align: left;
            color: #2c3e50;
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }
        
        .feed-carousel-section p {
            text-align: left;
            color: #5a6c7d;
            font-size: 1.25rem;
            margin-bottom: 2.5rem;
            max-width: 500px;
            line-height: 1.6;
        }
        
        /* Conteúdo informativo do lado esquerdo */
        .feed-info-content {
            padding: 0.25rem 2rem;
            max-width: 600px;
            margin-top: 0;
        }
        
        .feed-features {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .feature-item:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .feature-item i {
            font-size: 1.5rem;
            color: var(--accent-color);
            width: 40px;
            text-align: center;
        }
        
        .feature-item span {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .feed-carousel-container {
            max-width: 100%;
            margin: 0 auto;
            position: relative;
            overflow: visible;
            border-radius: 0;
            box-shadow: none;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 0.25rem 0;
            margin-top: 0;
        }
        
        /* Estilos para o Mural da AASJUR */
        .aasjur-mural-content {
            padding: 0.25rem 2rem;
            max-width: 600px;
            margin-top: 0;
        }
        
        .aasjur-mural-content .section-title {
            color: #2c3e50;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
            margin-top: 2rem;
            line-height: 1.2;
            text-align: center;
        }
        
        .aasjur-mural-content .section-subtitle {
            color: #5a6c7d;
            font-size: 1rem;
            margin-bottom: 0.5rem;
            margin-top: 0;
            line-height: 1.6;
            text-align: center;
        }
        
        /* Carrossel de Notícias - Estilo Jornal Clássico */
        .classic-newspaper-carousel {
            margin-bottom: 0.5rem;
            overflow: visible;
            border-radius: 12px;
            max-width: 100%;
            width: 100%;
        }
        
        .newspaper-header {
            background: #1a1a1a;
            color: #ffffff;
            padding: 2rem;
            text-align: center;
            border-radius: 12px 12px 0 0;
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        
        .newspaper-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%),
                repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255, 255, 255, 0.05) 2px, rgba(255, 255, 255, 0.05) 4px);
        }
        
        .newspaper-title {
            position: relative;
            z-index: 2;
        }
        
        .paper-name {
            font-family: 'Times New Roman', serif;
            font-size: 2.5rem;
            font-weight: 900;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            color: #ffffff;
        }
        
        .paper-subtitle {
            font-family: 'Georgia', serif;
            font-size: 1rem;
            font-style: italic;
            margin: 0.4rem 0;
            color: #cccccc;
            letter-spacing: 0.5px;
        }
        
        .paper-date {
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: #999999;
            margin-top: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .newspaper-content {
            background: #ffffff;
            border: 2px solid #1a1a1a;
            border-top: none;
            border-radius: 0 0 12px 12px;
            padding: 2rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: visible;
            width: 100%;
        }
        
        .newspaper-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #1a1a1a, transparent);
        }
        
        .news-carousel-track {
            position: relative;
            min-height: 550px;
            width: 100%;
            overflow: hidden;
            max-width: 100%;
        }
        
        .newspaper-item {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            pointer-events: none;
            overflow: visible;
            transition: opacity 0.3s ease-in-out;
        }
        
        .newspaper-item.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        .newspaper-article {
            font-family: 'Georgia', serif;
            line-height: 1.8;
            height: 100%;
            overflow: visible;
            display: flex;
            flex-direction: column;
            padding: 0.75rem;
            min-height: 500px;
            width: 100%;
        }
        
        .article-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid #1a1a1a;
        }
        
        .article-category {
            background: #1a1a1a;
            color: #ffffff;
            padding: 0.4rem 0.8rem;
            border-radius: 18px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-family: 'Arial', sans-serif;
        }
        
        .article-date {
            font-family: 'Courier New', monospace;
            color: #666666;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .article-headline {
            font-family: 'Times New Roman', serif;
            font-size: 1.1rem;
            font-weight: 900;
            color: #1a1a1a;
            margin-bottom: 1rem;
            line-height: 1.3;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            overflow: visible;
            word-wrap: break-word;
            hyphens: auto;
        }
        

        
        .article-lead {
            margin: 1rem 0;
            padding: 1.5rem;
            background: #f8f9fa;
            border-left: 4px solid #1a1a1a;
            border-radius: 0 8px 8px 0;
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 300px;
            width: 100%;
        }
        
        .lead-text {
            font-family: 'Georgia', serif;
            font-size: 0.95rem;
            color: #333333;
            margin: 0;
            line-height: 1.6;
            font-weight: 500;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            margin-bottom: 1rem;
            flex: 1;
        }
        

        
        .article-link {
            margin-top: 0.5rem;
            text-align: center;
            flex-shrink: 0;
            position: relative;
            z-index: 5;
        }
        
        .read-more-link {
            display: inline-flex;
            align-items: center;
            background: #1a1a1a;
            color: #ffffff;
            padding: 0.6rem 1.2rem;
            border-radius: 22px;
            text-decoration: none;
            font-family: 'Arial', sans-serif;
            font-weight: 600;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(26, 26, 26, 0.3);
            position: relative;
            z-index: 10;
            white-space: nowrap;
        }
        
        .read-more-link:hover {
            background: #333333;
            color: #ffffff;
            text-decoration: none;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(26, 26, 26, 0.4);
        }
        
        .read-more-link i {
            transition: transform 0.3s ease;
        }
        
        .read-more-link:hover i {
            transform: translateX(3px);
        }
        
        @keyframes slideInRight {
            from { 
                opacity: 0; 
                transform: translateX(100%); 
            }
            to { 
                opacity: 1; 
                transform: translateX(0); 
            }
        }
        
        @keyframes slideOutLeft {
            from { 
                opacity: 1; 
                transform: translateX(0); 
            }
            to { 
                opacity: 0; 
                transform: translateX(-100%); 
            }
        }
        
        .news-category {
            background: var(--gradient-accent);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 25px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.6px;
            box-shadow: var(--shadow-light), 0 0 20px rgba(49, 130, 206, 0.4);
            display: inline-block;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .news-category::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }
        
        .news-category:hover::before {
            left: 100%;
        }
        
        .news-category:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium), 0 0 30px rgba(49, 130, 206, 0.6);
        }
        
        .news-category-container {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .news-excerpt-container {
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .news-excerpt {
            color: #7f8c8d;
            font-size: 12px;
            line-height: 1.5;
            margin-bottom: 0;
            font-weight: 400;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
        }
        
        .news-title {
            color: var(--text-dark);
            font-size: 14px;
            font-weight: 800;
            margin-bottom: 1.5rem;
            line-height: 1.3;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            position: relative;
            max-width: 95%;
            margin-left: auto;
            margin-right: auto;
        }
        
        .news-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 3px;
            background: var(--gradient-accent);
            border-radius: 2px;
            transition: width 0.4s ease;
        }
        
        .news-item:hover .news-title::after {
            width: 60px;
        }
        
        .news-excerpt {
            color: #5a6c7d;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1.5rem;
            font-weight: 400;
        }
        
        /* Estilos para a introdução da notícia */
        .news-intro {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
        }
        
        .news-intro .news-excerpt {
            margin-bottom: 0;
            font-style: italic;
            color: #6c757d;
        }
        
        /* Estilos para imagens das notícias */
        .news-image-preview {
            border-radius: 12px;
            overflow: visible;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .news-image-preview img {
            max-width: 100%;
            height: auto;
            max-height: 220px;
            width: auto;
            border-radius: 12px;
            transition: transform 0.3s ease;
            object-fit: contain;
            display: block;
            margin: 0 auto;
        }
        
        .news-image-preview:hover img {
            transform: scale(1.05);
        }
        
<<<<<<< HEAD
        /* Estilos para imagens do carrossel de notícias */
        .news-image {
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .news-image img {
            max-width: 100%;
            height: auto;
            max-height: 200px;
            width: auto;
            border-radius: 8px;
            transition: transform 0.3s ease;
            object-fit: cover;
            display: block;
            margin: 0 auto;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .news-image:hover img {
            transform: scale(1.02);
        }
        
        .news-image-placeholder {
            margin-bottom: 1rem;
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            border: 2px dashed #dee2e6;
        }
        
        .news-image-placeholder i {
            color: #6c757d;
            opacity: 0.7;
        }
        
=======
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
        .news-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 0.75rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .news-meta-left {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .news-date {
            color: #7f8c8d;
            font-size: 12px;
            font-weight: 500;
            display: flex;
            align-items: center;
        }
        
        .news-priority {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            box-shadow: 0 2px 8px rgba(231, 76, 60, 0.3);
        }
        
        .read-more-btn {
            background: linear-gradient(135deg, var(--accent-color), #2980b9);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            min-width: 120px;
        }
        
        .read-more-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
            background: linear-gradient(135deg, #2980b9, var(--accent-color));
            color: white;
        }
        
        .news-date {
            color: #7f8c8d;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .news-link {
            color: #ffffff;
            text-decoration: none;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #3498db, #2980b9);
            border-radius: 25px;
            border: none;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            cursor: pointer;
        }
        
        .news-link:hover {
            color: #ffffff;
            background: linear-gradient(135deg, #2980b9, #3498db);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.5);
        }
        
        /* Controles do Carrossel */
        .news-carousel-controls {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            left: 0;
            display: flex;
            justify-content: space-between;
            pointer-events: none;
            z-index: 10;
            padding: 0 1rem;
        }
        
        .news-control {
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(44, 62, 80, 0.9);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            pointer-events: auto;
            backdrop-filter: blur(10px);
            position: relative;
        }
        
        .news-control:hover {
            background: rgba(44, 62, 80, 1);
            transform: scale(1.1);
        }
        
        .news-control.prev-control {
            left: 0;
        }
        
        .news-control.next-control {
            right: 0;
        }
        
        /* Indicadores do Carrossel */
        .news-carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .news-indicator {
            width: 8px;
            height: 8px;
            border: none;
            background: rgba(44, 62, 80, 0.3);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .news-indicator.active {
            background: var(--accent-color);
            transform: scale(1.2);
        }
        
        .news-indicator:hover {
            background: rgba(44, 62, 80, 0.6);
        }
        
        /* Seção de Notícias Anteriores */
        .aasjur-old-news {
            background: var(--gradient-card);
            border-radius: var(--border-radius-lg);
            padding: 2.5rem;
            box-shadow: var(--shadow-heavy);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .aasjur-old-news::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-accent);
            border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
        }
        
        .old-news-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .old-news-title {
            color: var(--text-dark);
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 0.75rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            position: relative;
        }
        
        .old-news-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--gradient-accent);
            border-radius: 2px;
        }
        
        .old-news-subtitle {
            color: var(--text-light);
            font-size: 1rem;
            margin-bottom: 0;
        }
        
        .old-news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .old-news-item {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
        }
        
        .old-news-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--gradient-accent);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }
        
        .old-news-item:hover::before {
            transform: scaleY(1);
        }
        
        .old-news-item:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-heavy), 0 0 30px rgba(49, 130, 206, 0.2);
            border-color: var(--accent-color);
        }
        
        .old-news-image {
            height: auto;
            overflow: visible;
            text-align: center;
            padding: 1rem;
        }
        
        .old-news-image img {
            max-width: 100%;
            height: auto;
            max-height: 180px;
            width: auto;
            border-radius: 8px;
            transition: transform 0.3s ease;
            object-fit: contain;
            display: block;
            margin: 0 auto;
        }
        
        .old-news-item:hover .old-news-image img {
            transform: scale(1.05);
        }
        
        .old-news-content {
            padding: 1.5rem;
        }
        
        .old-news-category {
            margin-bottom: 1rem;
        }
        
        .news-category-badge {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-block;
        }
        
        .old-news-title-text {
            color: var(--text-dark);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            line-height: 1.4;
        }
        
        .old-news-excerpt {
            color: var(--text-light);
            font-size: 0.8rem;
            line-height: 1.4;
            margin-bottom: 1rem;
        }
        
        .old-news-meta {
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }
        
        .old-news-date {
            color: var(--text-light);
            font-size: 0.8rem;
            font-weight: 500;
            display: flex;
            align-items: center;
        }
        
        .old-news-date i {
            color: var(--accent-color);
            margin-right: 0.25rem;
        }
        
        /* Informativos */
        .aasjur-informativos {
            margin-bottom: 2rem;
            background: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .informativos-title {
            color: #2c3e50;
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .informativos-title i {
            color: var(--accent-color);
        }
        
        .informativos-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .informativo-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .informativo-item:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .informativo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent-color), #ff8c42);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .informativo-icon i {
            color: white;
            font-size: 1rem;
        }
        
        .informativo-content h5 {
            color: #2c3e50;
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .informativo-content p {
            color: #5a6c7d;
            font-size: 0.9rem;
            line-height: 1.4;
            margin: 0;
        }
        
        /* Botão de Acesso */
        .aasjur-access {
            text-align: center;
        }
        
        .aasjur-access .btn {
            background: linear-gradient(135deg, var(--accent-color), #ff8c42);
            border: none;
            padding: 1rem 2rem;
            font-weight: 600;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }
        
        .aasjur-access .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
        }
        
        /* Estilos para o botão de acesso ao portal */
        .aasjur-access {
            text-align: center;
            margin-top: 2rem;
        }
        
        .aasjur-access .btn {
            background: var(--gradient-accent);
            border: none;
            padding: 1.2rem 2.5rem;
            font-weight: 700;
            border-radius: var(--border-radius);
            transition: var(--transition);
            box-shadow: var(--shadow-medium), 0 0 20px rgba(49, 130, 206, 0.3);
            font-size: 1.2rem;
            position: relative;
            overflow: hidden;
        }
        
        .aasjur-access .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }
        
        .aasjur-access .btn:hover::before {
            left: 100%;
        }
        
        .aasjur-access .btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-heavy), 0 0 30px rgba(49, 130, 206, 0.5);
            background: linear-gradient(135deg, #2d3748, #3182ce);
        }
        
        .aasjur-access .btn i {
            margin-right: 0.5rem;
        }
        
        /* Botão do Portal de Notícias */
        .portal-news-btn {
            background: var(--gradient-primary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-weight: 700;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light), 0 0 25px rgba(26, 54, 93, 0.4);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            font-size: 1.1rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .portal-news-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-heavy), 0 0 35px rgba(26, 54, 93, 0.6);
            color: white;
            text-decoration: none;
        }
        
        .portal-news-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .portal-news-btn:hover::before {
            left: 100%;
        }
        
        /* Estilos para Botões de Edição */
        .aasjur-header {
            position: relative;
            margin-bottom: 2rem;
            text-align: center;
            padding: 2rem 0;
        }
        
        .aasjur-header .section-title {
            color: #2c3e50;
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #2c3e50, #34495e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .aasjur-header .section-subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
            font-weight: 400;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        
        .edit-aasjur-btn {
            position: absolute;
            top: 0;
            right: 0;
            font-size: 0.85rem;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .edit-aasjur-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }
        
        /* Estilos para o Cabeçalho do Carrossel de Notícias */
        .news-carousel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding: 0 0.5rem;
        }
        
        .news-section-title {
            color: #2c3e50;
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .news-section-title i {
            color: var(--accent-color);
        }
        
        .news-management-buttons {
            display: flex;
            gap: 0.5rem;
        }
        
        .news-management-buttons .btn {
            font-size: 0.8rem;
            padding: 0.375rem 0.75rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .news-management-buttons .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        /* Estilos para Ações das Notícias */
        .news-item-actions {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            display: flex;
            gap: 0.5rem;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 10;
            background: rgba(255, 255, 255, 0.95);
            padding: 0.5rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .news-item:hover .news-item-actions {
            opacity: 1;
            transform: translateY(-2px);
        }
        
        .edit-news-btn, .delete-news-btn {
            font-size: 0.75rem;
            padding: 0.4rem 0.6rem;
            border-radius: 20px;
            transition: all 0.3s ease;
            position: relative;
            z-index: 10;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }
        
        .edit-news-btn:hover {
            background-color: #3498db;
            border-color: #3498db;
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }
        
        .delete-news-btn:hover {
            background-color: #e74c3c;
            border-color: #e74c3c;
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
        }
        
        .edit-news-btn:focus, .delete-news-btn:focus {
            outline: none;
            box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
        }
        
        /* Estilos para usuários não administradores */
        .news-item-actions {
            display: none;
        }
        
        .user-admin .news-item-actions {
            display: flex;
            opacity: 1;
        }
        
        .news-management-buttons {
            display: none;
        }
        
        .user-admin .news-management-buttons {
            display: flex;
        }
        
        .informativos-header, .historico-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .informativos-actions, .historico-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .informativos-actions .btn, .historico-actions .btn {
            font-size: 0.8rem;
            padding: 0.25rem 0.5rem;
        }
        
        .informativo-item {
            position: relative;
            padding: 1rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }
        
        .informativo-item:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .informativo-content {
            flex: 1;
            position: relative;
        }
        
        .informativo-actions {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            display: flex;
            gap: 0.25rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .informativo-item:hover .informativo-actions {
            opacity: 1;
        }
        
        .informativo-actions .btn {
            font-size: 0.7rem;
            padding: 0.2rem 0.4rem;
        }
        
        /* Estilos para Histórico de Notícias */
        .aasjur-historico {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .historico-title {
            color: #2c3e50;
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .historico-title i {
            color: var(--accent-color);
        }
        
        .historico-content {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .historico-description {
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--accent-color);
            padding: 1rem;
            border-radius: 8px;
        }
        
        .historico-description p {
            margin: 0;
            font-size: 0.9rem;
            color: #2c3e50;
        }
        
        .historico-description i {
            color: var(--accent-color);
            margin-right: 0.5rem;
        }
        
        .historico-filters {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        .filter-group {
            flex: 1;
            min-width: 200px;
        }
        
        .historico-list {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }
        
        .historico-item {
            padding: 1rem;
            margin-bottom: 0.75rem;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .historico-item:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateX(5px);
        }
        
        .historico-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }
        
        .historico-item-title {
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.95rem;
            margin: 0;
        }
        
        .historico-item-date {
            font-size: 0.8rem;
            color: #7f8c8d;
            background: rgba(52, 152, 219, 0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
        }
        
        .historico-item-category {
            font-size: 0.75rem;
            background: linear-gradient(135deg, var(--accent-color), #ff8c42);
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 10px;
            display: inline-block;
            margin-bottom: 0.5rem;
        }
        
        .historico-item-excerpt {
            font-size: 0.85rem;
            color: #5a6c7d;
            line-height: 1.4;
            margin: 0;
        }
        
        .historico-pagination {
            text-align: center;
            padding-top: 1rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .historico-empty {
            text-align: center;
            padding: 2rem;
            color: #7f8c8d;
        }
        
        .historico-empty i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--accent-color);
            opacity: 0.5;
        }
        
        /* Estilos para Modais */
        .modal-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-bottom: none;
        }
        
        .modal-header .btn-close {
            filter: invert(1);
        }
        
        .modal-content {
            border: none;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }
        
        .form-label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
        }
        
        .form-control-color {
            width: 100%;
            height: 40px;
            border-radius: 8px;
        }
        
        /* Estilos para a tabela de gerenciamento */
        .table-responsive {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .table {
            margin-bottom: 0;
        }
        
        .table thead th {
            border: none;
            padding: 1rem 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 0.5px;
        }
        
        .table tbody td {
            padding: 1rem 0.75rem;
            vertical-align: middle;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .table tbody tr:hover {
            background-color: rgba(52, 152, 219, 0.05);
        }
        
        .badge {
            font-size: 0.75rem;
            padding: 0.375rem 0.75rem;
            border-radius: 20px;
        }
        
        .btn-group-sm .btn {
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
        }
        
        /* Estilos para estatísticas */
        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .card-body {
            padding: 1.5rem;
        }
        
        /* Moldura do Smartphone */
        .smartphone-frame {
            width: 375px;
            height: 900px;
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border-radius: 40px;
            padding: 8px;
            box-shadow: 
                0 0 0 2px #000000,
                0 20px 40px rgba(0, 0, 0, 0.4),
                0 0 0 1px #333333,
                inset 0 0 0 1px #000000;
            position: relative;
            transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
            transition: transform 0.3s ease;
            margin-top: -5rem;
        }
        
        .smartphone-frame:hover {
            transform: perspective(1000px) rotateY(-2deg) rotateX(2deg);
        }
        
        .smartphone-screen {
            width: 100%;
            height: 100%;
            background: #000000;
            border-radius: 32px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 0 1px #000000;
        }
        
        .smartphone-notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 30px;
            background: #000000;
            border-radius: 0 0 20px 20px;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .smartphone-content {
            width: 100%;
            height: 100%;
            padding-top: 30px;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        /* Controles do carrossel dentro do smartphone */
        .smartphone-carousel-controls {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            z-index: 20;
            pointer-events: none;
        }
        
        .smartphone-control {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            color: #000000;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            pointer-events: auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .smartphone-control:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .smartphone-control:active {
            transform: translateY(-50%) scale(0.95);
        }
        
        .smartphone-control.prev-control {
            left: 10px;
        }
        
        .smartphone-control.next-control {
            right: 10px;
        }
        
        .smartphone-control:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: translateY(-50%) scale(1);
            background: rgba(255, 255, 255, 0.5);
            color: #666666;
        }
        
        .smartphone-control:disabled:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: translateY(-50%) scale(1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* Indicadores do carrossel dentro do smartphone */
        .smartphone-carousel-indicators {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            z-index: 20;
        }
        
        .smartphone-indicator-btn {
            width: 8px;
            height: 8px;
            border: none;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .smartphone-indicator-btn:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: scale(1.2);
        }
        
        .smartphone-indicator-btn.active {
            background: #ffffff;
            transform: scale(1.3);
        }
        
        .smartphone-indicator-dot {
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: currentColor;
            transition: all 0.3s ease;
        }
        
        .smartphone-indicator-btn.active .smartphone-indicator-dot {
            background: #000000;
        }
        
        .feed-carousel-wrapper {
            position: relative;
            overflow: hidden;
            border-radius: 0;
            height: 100%;
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .feed-carousel-track {
            position: relative;
            height: 100%;
            min-height: 100%;
            width: 100%;
            flex: 1;
            overflow: hidden;
        }
        
        .feed-item {
            position: absolute;
            top: 0;
            left: 0;
            padding: 0;
            min-height: 100%;
            display: none;
            flex-direction: column;
            justify-content: flex-start;
            opacity: 0;
            transform: scale(0.95);
            transition: all 0.3s ease;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }
        
        .feed-item.active {
            opacity: 1;
            transform: scale(1);
            display: flex;
        }
        
        .feed-vertical-layout {
            display: flex;
            flex-direction: column;
            width: 100%;
            background: #000000;
            border-radius: 0;
            overflow: hidden;
            box-shadow: none;
            margin: 0;
            max-width: 100%;
            height: 100%;
            min-height: 600px;
            max-height: 700px;
            flex: 1;
        }
        
        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.875rem 1rem;
            border-bottom: 1px solid #262626;
            background: #000000;
            flex-shrink: 0;
        }
        
        .feed-author {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .author-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            overflow: hidden;
            border: none;
        }
        
        .author-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .author-info h6 {
            margin: 0;
            font-weight: 600;
            font-size: 0.875rem;
            color: #ffffff;
        }
        
        .post-time {
            font-size: 0.75rem;
            color: #8e8e8e;
            display: block;
            margin-top: 0.125rem;
        }
        
        .feed-actions .action-btn {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: background-color 0.2s;
        }
        
        .feed-actions .action-btn:hover {
            background-color: #262626;
        }
        
        .feed-image-container {
            width: 100%;
            background: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            flex-shrink: 0;
            max-height: 220px;
            padding: 0.5rem;
            position: relative;
            min-height: 140px;
        }
        
        .feed-image-container img {
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 200px;
            object-fit: contain;
            object-position: center;
            border-radius: 0;
            box-shadow: none;
            display: block;
        }
        
        .image-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .brand-overlay {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.9);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 600;
            color: #333;
            backdrop-filter: blur(5px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .feed-interaction-area {
            padding: 0.75rem 1rem;
            background: #000000;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            min-height: 240px;
            max-height: 300px;
        }
        
        .feed-stats {
            display: flex;
            gap: 1rem;
            margin-bottom: 0.75rem;
            flex-shrink: 0;
            align-items: center;
        }
        
        .stat-item {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.2s;
            position: relative;
        }
        
        .stat-item:hover {
            background-color: #262626;
            transform: scale(1.1);
        }
        
        .stat-item.liked {
            color: #ed4956;
            animation: likeAnimation 0.3s ease-in-out;
        }
        
        .stat-item.comment-btn:hover {
            color: #0095f6;
        }
        
        .stat-item.share-btn:hover {
            color: #00d4aa;
        }
        
        .stat-item.save-btn {
            margin-left: auto;
        }
        
        .stat-item.save-btn:hover {
            color: #ff6b6b;
        }
        
        .stat-item.save-btn {
            margin-left: auto;
        }
        
        .stat-item.save-btn:hover {
            color: #ff6b6b;
        }
        
        @keyframes likeAnimation {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .likes-count {
            font-weight: 600;
            font-size: 0.875rem;
            color: #ffffff;
            margin-bottom: 0.75rem;
            flex-shrink: 0;
        }
        
        .feed-content {
            margin-bottom: 0.75rem;
            flex-shrink: 0;
        }
        
        .post-title {
            font-weight: 700;
            font-size: 0.875rem;
            color: #ffffff;
            margin-bottom: 0.5rem;
            line-height: 1.4;
            text-align: center;
        }
        
        .feed-text {
            font-size: 0.875rem;
            line-height: 1.4;
            color: #ffffff;
            margin-bottom: 0.5rem;
            text-align: center;
        }
        
        .feed-comments {
            margin-bottom: 0.75rem;
            flex: 1;
            overflow-y: auto;
            max-height: 150px;
            padding: 0.5rem 0;
            min-height: 80px;
        }
        
        .comment-item {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            padding: 0.25rem 0;
        }
        
        .comment-author {
            font-weight: 600;
            font-size: 0.875rem;
            color: #ffffff;
        }
        
        .comment-text {
            font-size: 0.875rem;
            color: #ffffff;
            line-height: 1.3;
        }
        
        .comment-time {
            font-size: 0.75rem;
            color: #8e8e8e;
            margin-left: 0.5rem;
        }
        
        /* Modal de Notícias */
        .news-modal-content {
            border: none;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.98);
        }
        
        .news-modal-header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding: 2rem 2rem 1.5rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-radius: 20px 20px 0 0;
        }
        
        .news-modal-title-container {
            flex: 1;
        }
        
        .news-modal-title {
            color: #2c3e50;
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            line-height: 1.3;
        }
        
        .news-modal-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .news-modal-category {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }
        
        .news-modal-date {
            color: #7f8c8d;
            font-size: 0.95rem;
            font-weight: 500;
        }
        
        .news-modal-close {
            background: rgba(220, 53, 69, 0.1);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .news-modal-close:hover {
            background: rgba(220, 53, 69, 0.2);
            transform: scale(1.1);
        }
        
        .news-modal-body {
            padding: 2rem;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .news-full-content {
            color: #2c3e50;
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            text-align: justify;
        }
        
        .news-full-content:last-child {
            margin-bottom: 0;
        }
        
        /* Estilos para o modal de notícias */
        .news-modal-content {
            border: none;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.98);
        }
        
        .news-modal-header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding: 2rem 2rem 1.5rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-radius: 20px 20px 0 0;
        }
        
        .news-modal-body {
            padding: 2rem;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .news-modal-footer {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding: 1.5rem 2rem;
            background: rgba(248, 249, 250, 0.8);
            border-radius: 0 0 20px 20px;
            justify-content: center;
        }
        
        .news-external-link {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .news-external-link .btn {
            padding: 0.75rem 2rem;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .news-external-link .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.3);
        }
        
        .news-modal-footer {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding: 1.5rem 2rem;
            background: rgba(248, 249, 250, 0.8);
            border-radius: 0 0 20px 20px;
            justify-content: center;
        }
        
        .news-modal-footer .btn {
            padding: 0.75rem 2rem;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .news-modal-footer .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(108, 117, 125, 0.3);
        }
        
        .comments-preview {
            margin-bottom: 0.5rem;
        }
        
        .comment-item {
            font-size: 0.875rem;
            line-height: 1.4;
            color: #000000;
            margin-bottom: 0.25rem;
        }
        
        .comment-item strong {
            font-weight: 600;
        }
        
        .view-all-comments {
            color: #8e8e8e;
            font-size: 0.75rem;
            text-decoration: none;
            cursor: pointer;
        }
        
        .view-all-comments:hover {
            color: #000000;
        }
        
        .comment-form {
            border-top: 1px solid #262626;
            padding-top: 0.75rem;
            flex-shrink: 0;
        }
        
        .comment-name {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #262626;
            border-radius: 4px;
            margin-bottom: 0.5rem;
            font-size: 0.75rem;
            background: #000000;
            color: #ffffff;
        }
        
        .comment-name::placeholder {
            color: #8e8e8e;
        }
        
        .comment-input-row {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .comment-input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #262626;
            border-radius: 4px;
            font-size: 0.875rem;
            background: #000000;
            color: #ffffff;
        }
        
        .comment-input::placeholder {
            color: #8e8e8e;
        }
        
        .emoji-btn {
            background: none;
            border: none;
            color: #8e8e8e;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: background-color 0.2s;
        }
        
        .emoji-btn:hover {
            background-color: #262626;
        }
        
        /* Estilos responsivos */
        @media (max-width: 1200px) {
            .smartphone-frame {
                width: 350px;
                height: 750px;
                border-radius: 35px;
            }
            
            .smartphone-notch {
                width: 130px;
                height: 25px;
            }
            
            .feed-image-container {
                max-height: none;
            }
            
            .feed-image-container img {
                max-height: none;
            }
        }
        
        @media (max-width: 992px) {
            .feed-carousel-section {
                padding: 3rem 1rem 2rem;
            }
            
            .feed-info-content {
                padding: 1rem;
                text-align: center;
                margin-bottom: 2rem;
            }
            
            .feed-info-content h2 {
                text-align: center;
                font-size: 2.5rem;
            }
            
            .feed-info-content p {
                text-align: center;
                font-size: 1.1rem;
                margin: 0 auto 2rem;
            }
            
            .smartphone-frame {
                width: 320px;
                height: 680px;
                border-radius: 30px;
                transform: perspective(1000px) rotateY(0deg) rotateX(0deg);
            }
            
            .smartphone-notch {
                width: 120px;
                height: 22px;
            }
            
            .feed-image-container {
                max-height: none;
            }
            
            .feed-image-container img {
                max-height: none;
            }
            
            .smartphone-control {
                width: 32px;
                height: 32px;
                font-size: 0.75rem;
            }
            
            .smartphone-control.prev-control {
                left: 8px;
            }
            
            .smartphone-control.next-control {
                right: 8px;
            }
        }
        
        @media (max-width: 768px) {
            .feed-carousel-section {
                padding: 2rem 1rem 1rem;
                min-height: auto;
            }
            
            /* Estilos responsivos para notícias */
            .news-meta {
                flex-direction: column;
                align-items: stretch;
                gap: 1rem;
            }
            
            .news-meta-left {
                text-align: center;
            }
            
            .read-more-btn {
                width: 100%;
                justify-content: center;
            }
            
            .news-intro {
                padding: 0.75rem;
            }
            
            .feed-info-content h2 {
                font-size: 2rem;
                margin-bottom: 1rem;
            }
            
            .feed-info-content p {
                font-size: 1rem;
                margin-bottom: 1.5rem;
            }
            
            .feed-features {
                gap: 1rem;
                margin-top: 1.5rem;
            }
            
            .feature-item {
                padding: 0.75rem;
            }
            
            .feature-item i {
                font-size: 1.25rem;
                width: 35px;
            }
            
            .feature-item span {
                font-size: 1rem;
            }
            
            /* Estilos responsivos para o Mural da AASJUR */
            .aasjur-mural-content {
                padding: 1.5rem;
                margin-bottom: 2rem;
            }
            
            .aasjur-mural-content .section-title {
                font-size: 2rem;
                margin-bottom: 0.75rem;
            }
            
            .aasjur-mural-content .section-subtitle {
                font-size: 1rem;
                margin-bottom: 1.5rem;
            }
            
            .news-carousel-container {
                padding: 1rem;
            }
            
            .news-title {
                font-size: 1.1rem;
            }
            
            .news-excerpt {
                font-size: 0.9rem;
            }
            
            .news-control {
                width: 35px;
                height: 35px;
            }
            
            .news-control.prev-control {
                left: 0;
            }
            
            .news-control.next-control {
                right: 0;
            }
            
            .informativos-title {
                font-size: 1.1rem;
            }
            
            .informativo-item {
                padding: 0.75rem;
            }
            
            .informativo-icon {
                width: 35px;
                height: 35px;
            }
            
            .informativo-content h5 {
                font-size: 0.95rem;
            }
            
            .informativo-content p {
                font-size: 0.85rem;
            }
            

            
            .smartphone-frame {
                width: 300px;
                height: 640px;
                border-radius: 25px;
                padding: 6px;
            }
            
            .smartphone-notch {
                width: 110px;
                height: 20px;
            }
            
            .feed-image-container {
                max-height: none;
            }
            
            .feed-image-container img {
                max-height: none;
            }
            
            .smartphone-control {
                width: 28px;
                height: 28px;
                font-size: 0.7rem;
            }
            
            .smartphone-control.prev-control {
                left: 6px;
            }
            
            .smartphone-control.next-control {
                right: 6px;
            }
            
            .smartphone-carousel-indicators {
                bottom: 15px;
                gap: 0.4rem;
            }
            
            .smartphone-indicator-btn {
                width: 6px;
                height: 6px;
            }
        }
        
        @media (max-width: 576px) {
            .feed-carousel-section {
                padding: 1.5rem 0.5rem 1rem;
            }
            
            .classic-newspaper-carousel {
                margin-bottom: 0.25rem;
            }
            
            .newspaper-header {
                padding: 1.5rem;
                width: 100%;
            }
            
            .newspaper-content {
                padding: 1rem;
                width: 100%;
            }
            
            .news-carousel-track {
                min-height: 400px;
            }
            
            .paper-name {
                font-size: 1.8rem;
            }
            
            .paper-subtitle {
                font-size: 0.9rem;
            }
            
            .article-headline {
                font-size: 1rem;
                overflow: visible;
                word-wrap: break-word;
                hyphens: auto;
            }
            
            .article-lead {
                padding: 1rem;
                overflow: visible;
            }
            
            .article-link {
                margin-top: 0.25rem;
            }
            
            .read-more-link {
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
            }
            
            .news-carousel-controls {
                padding: 0 0.5rem;
            }
            
            .news-control {
                width: 35px;
                height: 35px;
            }
            
            .feed-info-content {
                padding: 0.5rem;
                margin-bottom: 1.5rem;
            }
            
            .feed-info-content h2 {
                font-size: 1.75rem;
                margin-bottom: 0.75rem;
            }
            
            .feed-info-content p {
                font-size: 0.9rem;
                margin-bottom: 1.25rem;
            }
            
            /* Estilos responsivos para o Mural da AASJUR em dispositivos muito pequenos */
            .aasjur-mural-content {
                padding: 1rem 0.5rem;
                margin-bottom: 1.5rem;
            }
            
            .aasjur-mural-content .section-title {
                font-size: 1.75rem;
                margin-bottom: 0.5rem;
            }
            
            .aasjur-mural-content .section-subtitle {
                font-size: 0.9rem;
                margin-bottom: 1rem;
            }
            
            .news-carousel-container {
                padding: 0.75rem;
            }
            
            .classic-newspaper-carousel {
                margin-bottom: 0.25rem;
            }
            
            .newspaper-content {
                padding: 1.5rem;
                width: 100%;
            }
            
            .news-carousel-track {
                min-height: 450px;
            }
            
            .paper-name {
                font-size: 2rem;
            }
            
            .article-headline {
                font-size: 0.8rem;
                overflow: visible;
                word-wrap: break-word;
                hyphens: auto;
            }
            
            .news-title {
                font-size: 1rem;
            }
            
            .news-excerpt {
                font-size: 0.85rem;
            }
            
            .news-control {
                width: 30px;
                height: 30px;
            }
            
            /* Modal responsivo */
            .news-modal-header {
                padding: 1.5rem 1rem 1rem;
            }
            
            .news-modal-title {
                font-size: 1.5rem;
            }
            
            .news-modal-body {
                padding: 1.5rem 1rem;
                max-height: 60vh;
            }
            
            .news-control.prev-control {
                left: 0;
            }
            
            .news-control.next-control {
                right: 0;
            }
            
            .informativos-title {
                font-size: 1rem;
            }
            
            .informativo-item {
                padding: 0.5rem;
            }
            
            .informativo-icon {
                width: 30px;
                height: 30px;
            }
            
            .informativo-content h5 {
                font-size: 0.9rem;
            }
            
            .informativo-content p {
                font-size: 0.8rem;
            }
            

            
            .feed-features {
                gap: 0.75rem;
                margin-top: 1.25rem;
            }
            
            .feature-item {
                padding: 0.5rem;
            }
            
            .feature-item i {
                font-size: 1.1rem;
                width: 30px;
            }
            
            .feature-item span {
                font-size: 0.9rem;
            }
            
            .smartphone-frame {
                width: 280px;
                height: 600px;
                border-radius: 20px;
                padding: 5px;
            }
            
            .smartphone-notch {
                width: 100px;
                height: 18px;
            }
            
            .feed-image-container {
                max-height: none;
            }
            
            .feed-image-container img {
                max-height: none;
            }
            
            .smartphone-control {
                width: 24px;
                height: 24px;
                font-size: 0.6rem;
            }
            
            .smartphone-control.prev-control {
                left: 5px;
            }
            
            .smartphone-control.next-control {
                right: 6px;
            }
            
            .smartphone-carousel-indicators {
                bottom: 12px;
                gap: 0.3rem;
            }
            
            .smartphone-indicator-btn {
                width: 5px;
                height: 5px;
            }
        }
        
        .emoji-btn:hover {
            background-color: #262626;
        }
        
        /* Modal de Notícias */
        .news-modal-content {
            border: none;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.98);
        }
        
        .news-modal-header {
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
            padding: 2rem 2rem 1.5rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-radius: 20px 20px 0 0;
        }
        
        .news-modal-title {
            color: #2c3e50;
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            line-height: 1.3;
        }
        
        .news-modal-category {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }
        
        .news-modal-date {
            color: #7f8c8d;
            font-size: 0.95rem;
            font-weight: 500;
        }
        
        .news-modal-body {
            padding: 2rem;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .news-full-content {
            line-height: 1.8;
        }
        
        .news-summary h5,
        .news-content h5 {
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 0.5rem;
        }
        
        .news-text {
            font-size: 1rem;
            color: #2c3e50;
            line-height: 1.8;
        }
        
        .news-tags {
            border-top: 1px solid #e9ecef;
            padding-top: 1rem;
        }
        
        .tags-container .badge {
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
        }
        
        /* Modal de Comentários */
        .comments-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
        }
        
        .comments-modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .comments-modal-content {
            background: #000000;
            border-radius: 12px;
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            border: 1px solid #262626;
        }
        
        .comments-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #262626;
            background: #000000;
        }
        
        .comments-modal-header h3 {
            margin: 0;
            color: #ffffff;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .comments-modal-close {
            background: none;
            border: none;
            color: #8e8e8e;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        .comments-modal-close:hover {
            background: #262626;
            color: #ffffff;
        }
        
        .comments-modal-body {
            padding: 1rem 1.5rem;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .modal-comment-item {
            padding: 1rem 0;
            border-bottom: 1px solid #262626;
        }
        
        .modal-comment-item:last-child {
            border-bottom: none;
        }
        
        .modal-comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .modal-comment-header strong {
            color: #ffffff;
            font-size: 0.9rem;
        }
        
        .modal-comment-time {
            color: #8e8e8e;
            font-size: 0.75rem;
        }
        
        .modal-comment-content {
            color: #ffffff;
            font-size: 0.875rem;
            line-height: 1.4;
        }
        
        /* Estilo para comentários sem comentários */
        .comment-item.no-comments {
            color: #8e8e8e;
            font-style: italic;
        }
        
        /* Scrollbar personalizada para o modal */
        .comments-modal-body::-webkit-scrollbar {
            width: 6px;
        }
        
        .comments-modal-body::-webkit-scrollbar-track {
            background: #262626;
            border-radius: 3px;
        }
        
        .comments-modal-body::-webkit-scrollbar-thumb {
            background: #666666;
            border-radius: 3px;
        }
        
        .comments-modal-body::-webkit-scrollbar-thumb:hover {
            background: #888888;
        }
    </style>
</head>
<body>
    <!-- Token CSRF para AJAX -->
    {% csrf_token %}
    
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top modern-navbar">
        <div class="container">
            <!-- Logo ABMEPI Destacada -->
            <a class="navbar-brand modern-brand" href="#">
                <div class="logo-container">
                    <img src="{% static 'Logo_abmepi.png' %}" alt="Logo ABMEPI" class="brand-logo">
                    <div class="brand-text">
                        <span class="brand-title">ABMEPI</span>
                        <span class="brand-subtitle">Associação de Bombeiros e Policiais Militares</span>
                    </div>
                </div>
            </a>
            
            <!-- Botão Mobile -->
            <button class="navbar-toggler modern-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="toggler-icon"></span>
                <span class="toggler-icon"></span>
                <span class="toggler-icon"></span>
            </button>
            
            <!-- Menu de Navegação -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav modern-nav">
                    <li class="nav-item">
                        <a class="nav-link modern-link" href="#feed">
                            <i class="fas fa-home me-2"></i>Início
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link modern-link" href="#sobre">
                            <i class="fas fa-info-circle me-2"></i>Sobre
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link modern-link" href="#servicos">
                            <i class="fas fa-cogs me-2"></i>Serviços
                        </a>
                    </li>
                    <li class="nav-item">
<<<<<<< HEAD
                        <a class="nav-link modern-link" href="#comunidade">
                            <i class="fas fa-users me-2"></i>Comunidade
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link modern-link" href="{% url 'core:ex_presidentes' %}">
                            <i class="fas fa-users-cog me-2"></i>Ex-Presidentes
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link modern-link" href="{% url 'core:historia_associacao' %}">
                            <i class="fas fa-history me-2"></i>Nossa História
                        </a>
=======
                                                    <a class="nav-link modern-link" href="#comunidade">
                                <i class="fas fa-users me-2"></i>
                            </a>
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
                    </li>
                    <li class="nav-item">
                        <a class="nav-link modern-link" href="#contato">
                            <i class="fas fa-envelope me-2"></i>Contato
                        </a>
                    </li>
                </ul>
                
                <!-- Botão de Acesso ao Sistema -->
                <div class="nav-actions">
                    <a href="{% url 'login' %}" class="btn btn-modern-login">
                        <i class="fas fa-sign-in-alt me-2"></i>Acessar Sistema
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Indicador de Scroll -->
        <div class="scroll-indicator"></div>
    </nav>
    


    <!-- Seção Principal - Portal ABMEPI -->
    <section id="feed" class="main-portal-section py-5">
        <!-- Menu Lateral -->
        <div class="sidebar-menu">
            <div class="sidebar-header">
                <h3>Links Especiais</h3>
                <p>Acesso rápido aos recursos mais importantes da ABMEPI</p>
            </div>
            
            <div class="sidebar-content">
<<<<<<< HEAD
                <!-- Galeria de Ex-Presidentes (movido para o início) -->
                <div class="sidebar-item ex-presidents">
                    <!-- Presidente Atual -->
                    {% if presidente_atual %}
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                        {% if presidente_atual.associado.foto %}
                            <img src="{{ presidente_atual.associado.foto.url }}" alt="{{ presidente_atual.associado.nome }}" style="width: 50px; height: 60px; border-radius: 8px; object-fit: cover; border: 2px solid #1a365d;">
                        {% else %}
                            <div style="width: 50px; height: 60px; border-radius: 8px; background: #1a365d; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-user text-white" style="font-size: 1.2rem;"></i>
                            </div>
                        {% endif %}
                        <div>
                            <h6 style="margin: 0; font-size: 0.9rem; color: #1a365d; font-weight: 600;">{{ presidente_atual.associado.nome }}</h6>
                            <small style="color: #6c757d; font-size: 0.75rem;">{{ presidente_atual.associado.get_posto_graduacao_display }}</small>
                            <br><small style="color: #6c757d; font-size: 0.7rem;">Presidente Atual</small>
                        </div>
                    </div>
                    {% endif %}
                    
                    <div class="sidebar-icon">
                        <i class="fas fa-users-cog"></i>
                    </div>
                    <div class="sidebar-text">
                        <h5>Ex-Presidentes</h5>
                        <p>Conheça a história de liderança da ABMEPI</p>
                        
                        <a href="{% url 'core:ex_presidentes' %}" class="action-link">
                            <i class="fas fa-arrow-right me-1"></i>Ver Galeria Completa
                        </a>
                    </div>
                </div>
                
=======
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
                <!-- Seja Associado -->
                <div class="sidebar-item membership">
                    <div class="sidebar-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="sidebar-text">
                        <h5>Seja Associado</h5>
                        <p>Junte-se à nossa comunidade e aproveite os benefícios</p>
                        <a href="{% url 'associados:pre_cadastro_form' %}" class="action-link">
                            <i class="fas fa-arrow-right"></i>
                            Solicitar Associação
                        </a>
                    </div>
                </div>
                
                <!-- Reserva do Hotel de Trânsito -->
                <div class="sidebar-item hotel-reservation">
                    <div class="sidebar-icon">
                        <i class="fas fa-bed"></i>
                    </div>
                    <div class="sidebar-text">
                        <h5>Hotel de Trânsito</h5>
                        <p>Faça sua reserva para hospedagem</p>
                        <div class="hotel-contact">
                            
                            
                            <!-- Seção da Imagem do Hotel -->
                            <div class="hotel-image-section mb-3">
                                {% if config.hotel_transito_imagem and config.hotel_transito_imagem.name %}
                                    <div class="hotel-image-container">
                                        <img 
                                            src="{{ config.hotel_transito_imagem.url }}" 
                                            alt="Hotel de Trânsito" 
                                            class="hotel-img"
                                            onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                                        >
                                        <div class="hotel-image-fallback" style="display: none;">
                                            <div class="no-image-placeholder">
                                                <i class="fas fa-image text-muted" style="font-size: 2rem;"></i>
                                                <small class="text-muted d-block mt-2">
                                                    <i class="fas fa-info-circle me-1"></i>
                                                    Imagem não disponível
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                {% else %}
                                    <div class="no-image-placeholder">
                                        <i class="fas fa-image text-muted" style="font-size: 2rem;"></i>
                                        <small class="text-muted d-block mt-2">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Nenhuma imagem configurada
                                        </small>
                                    </div>
                                {% endif %}
                            </div>
                            
                            <!-- Seção do Telefone -->
                            <div class="hotel-phone">
                                <i class="fas fa-phone text-success me-2"></i>
                                <span class="phone-number">
                                    {% if config.hotel_transito_telefone %}
                                        {{ config.hotel_transito_telefone }}
                                    {% else %}
                                        (11) 99999-9999
                                    {% endif %}
                                </span>
                            </div>
                            
                            <!-- Informações Adicionais -->
                            <div class="hotel-info">
                                <small class="text-muted">
                                    <i class="fas fa-info-circle me-1"></i>
                                    Entre em contato para verificar disponibilidade e fazer reserva
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Serviços Prestados aos Associados -->
                <div class="sidebar-item services">
                    <div class="sidebar-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <div class="sidebar-text">
                        <h5>Serviços aos Associados</h5>
                        <p>Conheça os benefícios exclusivos disponíveis</p>
                        
                        
                        <div class="services-list">
                            {% if config.servicos_juridicos %}
                            <div class="service-item">
                                <i class="fas fa-gavel text-primary"></i>
                                <span>Serviços Jurídicos</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_psicologicos %}
                            <div class="service-item">
                                <i class="fas fa-brain text-success"></i>
                                <span>Serviços Psicológicos</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_medicos %}
                            <div class="service-item">
                                <i class="fas fa-user-md text-danger"></i>
                                <span>Serviços Médicos</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_odontologicos %}
                            <div class="service-item">
                                <i class="fas fa-tooth text-info"></i>
                                <span>Serviços Odontológicos</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_financeiros %}
                            <div class="service-item">
                                <i class="fas fa-chart-line text-warning"></i>
                                <span>Serviços Financeiros</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_educacionais %}
                            <div class="service-item">
                                <i class="fas fa-graduation-cap text-primary"></i>
                                <span>Serviços Educacionais</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_recreativos %}
                            <div class="service-item">
                                <i class="fas fa-gamepad text-success"></i>
                                <span>Serviços Recreativos</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_sociais %}
                            <div class="service-item">
                                <i class="fas fa-hands-helping text-info"></i>
                                <span>Serviços Sociais</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_esportivos %}
                            <div class="service-item">
                                <i class="fas fa-dumbbell text-warning"></i>
                                <span>Serviços Esportivos</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_culturais %}
                            <div class="service-item">
                                <i class="fas fa-theater-masks text-danger"></i>
                                <span>Serviços Culturais</span>
                            </div>
                            {% endif %}
                            {% if config.servicos_hotel_transito %}
                            <div class="service-item">
                                <i class="fas fa-bed text-success"></i>
                                <span>Hotel de Trânsito</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
<<<<<<< HEAD
                
                <!-- História da Associação -->
                <div class="sidebar-item history">
                    <div class="sidebar-icon">
                        <i class="fas fa-landmark"></i>
                    </div>
                    <div class="sidebar-text">
                        <h5>Nossa História</h5>
                        <p>Marcos históricos e conquistas da ABMEPI</p>
                        <a href="{% url 'core:historia_associacao' %}" class="action-link">
                            <i class="fas fa-arrow-right"></i>
                            Conhecer História
                        </a>
                    </div>
                </div>
                
=======
                <!-- Redes Sociais -->
                <div class="sidebar-item social-media">
                    <div class="sidebar-icon">
                        <i class="fas fa-share-alt"></i>
                    </div>
                    <div class="sidebar-text">
                        <h5>Siga a ABMEPI nas redes sociais</h5>
                        <p>Fique por dentro das novidades e eventos</p>
                        <div class="social-buttons">
                            {% if facebook_url %}
                            <a href="{{ facebook_url }}" target="_blank" class="social-btn facebook" title="Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            {% endif %}
                            {% if instagram_url %}
                            <a href="{{ instagram_url }}" target="_blank" class="social-btn instagram" title="Instagram">
                                <i class="fab fa-instagram"></i>
                            </a>
                            {% endif %}
                            {% if linkedin_url %}
                            <a href="{{ linkedin_url }}" target="_blank" class="social-btn linkedin" title="LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            {% endif %}
                            {% if youtube_url %}
                            <a href="{{ youtube_url }}" target="_blank" class="social-btn youtube" title="YouTube">
                                <i class="fab fa-youtube"></i>
                            </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                

                
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
                <!-- Contato Rápido -->
                <div class="sidebar-item contact">
                    <div class="sidebar-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <div class="sidebar-text">
                        <h5>Contato Rápido</h5>
                        <p>Entre em contato conosco</p>
                        <div class="contact-info">
                            {% if telefone %}
                            <div class="contact-item">
                                <i class="fas fa-phone"></i>
                                <a href="tel:{{ telefone }}" class="contact-link">{{ telefone }}</a>
                            </div>
                            {% endif %}
                            {% if email %}
                            <div class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <a href="mailto:{{ email }}" class="contact-link">{{ email }}</a>
                            </div>
                            {% endif %}
                            {% if endereco %}
                            <div class="contact-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>{{ endereco }}</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="container main-content-container">
            <!-- Espaçamento para baixar as colunas -->
            <div class="section-spacer" style="height: 100px;"></div>
            
            <style>
                /* Estilos para o Portal Principal */
                .main-portal-section {
                    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
                    min-height: 100vh;
                    position: relative;
                }
                
                /* Container principal com margem para o menu lateral */
                .main-content-container {
                    padding-left: 3rem !important;
                    padding-right: 3rem !important;
                    margin-right: 380px !important; /* Espaço para o menu lateral */
                    max-width: calc(100% - 380px) !important;
                }
                
                /* Garantir que as duas colunas fiquem lado a lado */
                .main-portal-section .row {
                    display: flex !important;
                    flex-wrap: nowrap !important;
                    justify-content: space-between !important;
                    margin: 0 !important;
                    gap: 2rem !important;
                }
                
                .main-portal-section .col-lg-6 {
                    flex: 1 !important;
                    max-width: calc(50% - 1rem) !important;
                    margin: 0 !important;
                }
                
                /* Responsivo para tablets */
                @media (max-width: 1200px) {
                    .main-content-container {
                        margin-right: 350px !important;
                        max-width: calc(100% - 350px) !important;
                    }
                }
                
                @media (max-width: 991px) {
                    .main-content-container {
                        padding-left: 1rem !important;
                        padding-right: 1rem !important;
                        margin-right: 0 !important;
                        max-width: 100% !important;
                    }
                    
                    .main-portal-section .row {
                        flex-wrap: wrap !important;
                        gap: 1rem !important;
                    }
                    
                    .main-portal-section .col-lg-6 {
                        flex-basis: 100% !important;
                        max-width: 100% !important;
                        margin-bottom: 1rem;
                    }
                    
                    /* Ajustes para controles em telas menores */
                    .instagram-carousel-controls {
                        position: relative;
                        top: auto;
                        transform: none;
                        margin-top: 1rem;
                    }
                    
                    .instagram-carousel-indicators {
                        position: relative;
                        bottom: auto;
                        left: auto;
                        transform: none;
                        margin-top: 1rem;
                    }
                }
                
                /* Garantir que as colunas tenham altura consistente */
                .main-portal-section .portal-card {
                    height: 100% !important;
                    min-height: 600px !important;
                    margin: 0 !important;
                }
                
                .main-portal-section .compact-card {
                    height: 100% !important;
                    min-height: 600px !important;
                    margin: 0 !important;
                }
                
                /* Ajustes finais para o layout */
                .main-portal-section {
                    padding-top: 2rem;
                    padding-bottom: 2rem;
                }
                
                .section-spacer {
                    height: 80px !important;
                }
                
                /* Menu Lateral */
                .sidebar-menu {
                    position: fixed;
                    right: 0;
                    top: 120px;
                    width: 350px;
                    background: white;
                    border-radius: 15px 0 0 15px;
                    box-shadow: -5px 0 25px rgba(0,0,0,0.1);
                    z-index: 1000;
                    max-height: calc(100vh - 140px);
                    overflow-y: auto;
                    padding: 2rem;
                    transition: transform 0.3s ease, opacity 0.3s ease, box-shadow 0.3s ease;
                    /* Estado inicial: visível */
                    transform: translateX(0);
                    opacity: 1;
                    visibility: visible;
                    display: block;
                }
                
                /* Scrollbar personalizada para o menu lateral */
                .sidebar-menu::-webkit-scrollbar {
                    width: 6px;
                }
                
                .sidebar-menu::-webkit-scrollbar-track {
                    background: #f1f1f1;
                    border-radius: 3px;
                }
                
                .sidebar-menu::-webkit-scrollbar-thumb {
                    background: var(--primary-color);
                    border-radius: 3px;
                }
                
                .sidebar-menu::-webkit-scrollbar-thumb:hover {
                    background: var(--accent-color);
                }
                
                /* Efeito de sombra dinâmica para o menu lateral */
                .sidebar-menu.sticky-shadow {
                    box-shadow: -5px 0 25px rgba(0,0,0,0.15);
                }
                
                /* Animação suave para o menu lateral */
                .sidebar-menu {
                    animation: slideInRight 0.5s ease-out;
                }
                
                /* Estado padrão do menu */
                .sidebar-menu:not(.hidden) {
                    transform: translateX(0);
                    opacity: 1;
                    visibility: visible;
                    display: block;
                }
                
                @keyframes slideInRight {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
                
                .sidebar-header {
                    text-align: center;
                    margin-bottom: 2rem;
                    padding-bottom: 1rem;
                    border-bottom: 2px solid #f8f9fa;
                }
                
                .sidebar-header h3 {
                    font-size: 1.5rem;
                    font-weight: 700;
                    color: #2c3e50;
                    margin-bottom: 0.5rem;
                }
                
                .sidebar-header p {
                    font-size: 0.9rem;
                    color: #6c757d;
                    margin: 0;
                }
                
                .sidebar-content {
                    display: flex;
                    flex-direction: column;
                    gap: 2rem;
                }
                
                .sidebar-item {
                    background: #f8f9fa;
                    border-radius: 12px;
                    padding: 1.5rem;
                    transition: all 0.3s ease;
                    border: 1px solid #e9ecef;
                }
                
                .sidebar-item:hover {
                    transform: translateX(-5px);
                    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                    background: white;
                }
                
                .sidebar-icon {
                    width: 50px;
                    height: 50px;
                    background: linear-gradient(135deg, #007bff, #28a745);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin-bottom: 1.5rem;
                }
                
                .sidebar-icon i {
                    color: white;
                    font-size: 1.2rem;
                }
                
                .sidebar-text h5 {
                    font-size: 1.1rem;
                    font-weight: 600;
                    color: #2c3e50;
                    margin-bottom: 0.75rem;
                }
                
                .sidebar-text p {
                    font-size: 0.9rem;
                    color: #6c757d;
                    margin-bottom: 1.25rem;
                    line-height: 1.5;
                }
                
                .social-buttons {
                    display: flex;
                    gap: 0.75rem;
                    justify-content: center;
                }
                
                .social-btn {
                    width: 40px;
                    height: 40px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: white;
                    text-decoration: none;
                    transition: all 0.3s ease;
                    font-size: 1rem;
                }
                
                .social-btn.facebook { background: #1877f2; }
                .social-btn.instagram { background: #e4405f; }
                .social-btn.linkedin { background: #0077b5; }
                .social-btn.youtube { background: #ff0000; }
                
                .social-btn:hover {
                    transform: scale(1.1);
                    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
                }
                
                .action-link {
                    display: inline-flex;
                    align-items: center;
                    gap: 0.75rem;
                    color: #007bff;
                    text-decoration: none;
                    font-weight: 500;
                    font-size: 1rem;
                    transition: all 0.3s ease;
                }
                
                .action-link:hover {
                    color: #0056b3;
                    transform: translateX(3px);
                }
                
                .contact-info {
                    display: flex;
                    flex-direction: column;
                    gap: 0.75rem;
                    color: #000000 !important;
                }
                
                /* Forçar cor preta em todos os elementos de contato */
                .sidebar-item.contact,
                .sidebar-item.contact *,
                .sidebar-item.contact .contact-info,
                .sidebar-item.contact .contact-info *,
                .sidebar-item.contact .contact-item,
                .sidebar-item.contact .contact-item *,
                .sidebar-item.contact .contact-link,
                .sidebar-item.contact .contact-link * {
                    color: #000000 !important;
                }
                
                .contact-item {
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                    font-size: 0.9rem;
                    color: #000000 !important;
                }
                
                .contact-item * {
                    color: #000000 !important;
                }
                
                .contact-item a {
                    color: #000000 !important;
                }
                
                .contact-item span {
                    color: #000000 !important;
                }
                
                .contact-item i {
                    color: #007bff;
                    width: 18px;
                }
                
                /* Estilos para a seção de serviços */
                .sidebar-item.services .services-list {
                    display: flex;
                    flex-direction: column;
                    gap: 0.75rem;
                    margin-top: 1rem;
                }
                
                .service-item {
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                    padding: 0.5rem;
                    background: rgba(0, 123, 255, 0.05);
                    border-radius: 8px;
                    transition: all 0.3s ease;
                    border-left: 3px solid transparent;
                }
                
                .service-item:hover {
                    background: rgba(0, 123, 255, 0.1);
                    border-left-color: #007bff;
                    transform: translateX(3px);
                }
                
                .service-item i {
                    width: 16px;
                    font-size: 0.9rem;
                }
                
                .service-item span {
                    font-size: 0.85rem;
                    color: #495057;
                    font-weight: 500;
                }
                
                /* Estilos para a seção do Hotel de Trânsito */
                .sidebar-item.hotel-reservation .hotel-contact {
                    margin-top: 1rem;
                }
                
<<<<<<< HEAD
                
=======
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
                .hotel-phone {
                    display: flex;
                    align-items: center;
                    margin-bottom: 0.75rem;
                    padding: 0.75rem;
                    background: rgba(40, 167, 69, 0.1);
                    border-radius: 8px;
                    border-left: 3px solid #28a745;
                }
                
                .hotel-phone .phone-number {
                    font-size: 1.1rem;
                    font-weight: 600;
                    color: #28a745;
                    margin-left: 0.5rem;
                }
                
                .hotel-info {
                    margin-top: 0.5rem;
                }
                
                .hotel-info small {
                    font-size: 0.8rem;
                    line-height: 1.4;
                }
                
                /* Estilos para a imagem do hotel */
                .hotel-image-section {
                    text-align: center;
                }
                
                .hotel-image-container {
                    position: relative;
                    display: inline-block;
                }
                
                .hotel-img {
                    width: 100%;
                    max-width: 200px;
                    height: auto;
                    border-radius: 8px;
                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                    transition: all 0.3s ease;
                    display: block;
                }
                
                .hotel-img:hover {
                    transform: scale(1.05);
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                }
                
                .hotel-image-fallback {
                    width: 100%;
                    max-width: 200px;
                    margin: 0 auto;
                }
                
                /* Placeholder para quando não há imagem */
                .no-image-placeholder {
                    text-align: center;
                    padding: 1rem;
                    background-color: #f8f9fa;
                    border: 2px dashed #dee2e6;
                    border-radius: 8px;
                    color: #6c757d;
                    width: 100%;
                    max-width: 200px;
                    margin: 0 auto;
                }
                
                .no-image-placeholder i.fa-image {
                    color: #adb5bd;
                }
                
                /* Responsivo para o menu lateral */
                @media (max-width: 1200px) {
                    .sidebar-menu {
                        width: 320px;
                        padding: 1.5rem;
                        top: 120px;
                    }
                }
                
                @media (max-width: 991px) {
                    .sidebar-menu {
                        position: relative;
                        right: auto;
                        top: auto;
                        transform: none;
                        width: 100%;
                        border-radius: 15px;
                        margin-bottom: 2rem;
                        max-height: none;
                        overflow-y: visible;
                    }
                    
                    /* Responsivo para serviços */
                    .sidebar-item.services .services-list {
                        gap: 0.5rem;
                    }
                    
                    .service-item {
                        padding: 0.4rem;
                    }
                    
                    .service-item span {
                        font-size: 0.8rem;
                    }
                    
                    /* Responsivo para hotel */
                    .hotel-phone {
                        padding: 0.6rem;
                    }
                    
                    .hotel-phone .phone-number {
                        font-size: 1rem;
                    }
                    
                    .hotel-img {
                        max-width: 150px;
                    }
                    
                    .hotel-image-fallback {
                        max-width: 150px;
                    }
                    
                    .no-image-placeholder {
                        max-width: 150px;
                    }
                }
                
                @media (max-width: 576px) {
                    .sidebar-item.services .services-list {
                        gap: 0.4rem;
                    }
                    
                    .service-item {
                        padding: 0.3rem;
                    }
                    
                    .service-item span {
                        font-size: 0.75rem;
                    }
                    
                    /* Responsivo para hotel em mobile */
                    .hotel-phone {
                        padding: 0.5rem;
                    }
                    
                    .hotel-phone .phone-number {
                        font-size: 0.9rem;
                    }
                    
                    .hotel-info small {
                        font-size: 0.75rem;
                    }
                    
                    .hotel-img {
                        max-width: 120px;
                    }
                    
                    .hotel-image-fallback {
                        max-width: 120px;
                    }
                    
                    .no-image-placeholder {
                        max-width: 120px;
                    }
                }
                

                
                .section-header {
                    margin-bottom: 3rem;
                }
                
                .main-title {
                    font-size: 3rem;
                    font-weight: 700;
                    color: #2c3e50;
                    margin-bottom: 1rem;
                    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
                }
                
                .main-subtitle {
                    font-size: 1.2rem;
                    color: #6c757d;
                    margin-bottom: 1.5rem;
                    font-weight: 400;
                }
                
                .title-divider {
                    width: 80px;
                    height: 4px;
                    background: linear-gradient(90deg, #007bff, #28a745);
                    margin: 0 auto;
                    border-radius: 2px;
                }
                
                /* Cards do Portal */
                .portal-card {
                    background: white;
                    border-radius: 20px;
                    box-shadow: 0 15px 35px rgba(0,0,0,0.1);
                    padding: 2rem;
                    height: 100%;
                    transition: all 0.3s ease;
                    border: 1px solid rgba(255,255,255,0.2);
                    backdrop-filter: blur(10px);
                }
                
                .portal-card:hover {
                    transform: translateY(-10px);
                    box-shadow: 0 25px 50px rgba(0,0,0,0.15);
                }
                
                /* Cabeçalho dos Cards */
                .card-header {
                    text-align: center;
                    margin-bottom: 2rem;
                    padding-bottom: 1.5rem;
                    border-bottom: 2px solid #f8f9fa;
                }
                
                .header-icon {
                    width: 80px;
                    height: 80px;
                    background: transparent;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin: 0 auto 1.5rem;
                }
                
                .header-icon i {
                    font-size: 2rem;
                    color: white;
                }
                
                /* Estilos específicos para a logo da ASSEJUR */
                .assejur-logo {
                    width: 100%;
                    height: 100%;
                    object-fit: contain;
                    transition: all 0.3s ease;
                }
                
                .header-icon:hover .assejur-logo {
                    transform: scale(1.05);
                }
                
                /* Estilos específicos para a logo da ABMEPI no Feed Social */
                .abmepi-logo {
                    width: 100%;
                    height: 100%;
                    object-fit: contain;
                    transition: all 0.3s ease;
                }
                
                .header-icon:hover .abmepi-logo {
                    transform: scale(1.05);
                }
                
                /* Estilos para as redes sociais da ABMEPI no Feed Social */
                .abmepi-social-section {
                    margin: 1rem 0;
                    padding: 0.75rem;
                    background: rgba(248, 249, 250, 0.7);
                    border-radius: 8px;
                    border: 1px solid #dee2e6;
                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
                }
                
                .abmepi-social-title {
                    color: #6c757d;
                    font-size: 0.85rem;
                    font-weight: 500;
                    margin-bottom: 0.75rem;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                }
                
                .abmepi-social-links {
                    display: flex;
                    gap: 0.5rem;
                    flex-wrap: wrap;
                    justify-content: center;
                    align-items: center;
                }
                
                .abmepi-social-btn {
                    width: 32px;
                    height: 32px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: white;
                    text-decoration: none;
                    transition: all 0.2s ease;
                    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
                    position: relative;
                    overflow: hidden;
                }
                
                .abmepi-social-btn:hover {
                    transform: translateY(-1px) scale(1.05);
                    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
                    color: white;
                }
                
                .abmepi-social-btn i {
                    font-size: 0.9rem;
                    z-index: 1;
                }
                
                /* Cores específicas para cada rede social da ABMEPI */
                .abmepi-social-btn.facebook {
                    background: #1877f2;
                }
                
                .abmepi-social-btn.facebook:hover {
                    background: #0d5fc0;
                }
                
                .abmepi-social-btn.instagram {
                    background: #e4405f;
                }
                
                .abmepi-social-btn.instagram:hover {
                    background: #c13584;
                }
                
                .abmepi-social-btn.linkedin {
                    background: #0077b5;
                }
                
                .abmepi-social-btn.linkedin:hover {
                    background: #005885;
                }
                
                .abmepi-social-btn.youtube {
                    background: #ff0000;
                }
                
                .abmepi-social-btn.youtube:hover {
                    background: #cc0000;
                }
                
                /* Mensagem quando não há redes sociais */
                .no-abmepi-social-message {
                    color: #6c757d;
                    font-style: italic;
                    font-size: 0.85rem;
                    text-align: center;
                    padding: 0.5rem;
                    background: rgba(108, 117, 125, 0.1);
                    border-radius: 8px;
                    border: 1px dashed #6c757d;
                }
                
                .card-title {
                    font-size: 1.8rem;
                    font-weight: 700;
                    color: #2c3e50;
                    margin-bottom: 1rem;
                }
                
                .card-subtitle {
                    font-size: 1rem;
                    color: #6c757d;
                    line-height: 1.6;
                    margin-bottom: 1.5rem;
                }
                
                /* Botões de Administração */
                .admin-actions {
                    margin-top: 1rem;
                }
                
                .edit-btn {
                    border-radius: 25px;
                    padding: 0.5rem 1.5rem;
                    font-weight: 500;
                    transition: all 0.3s ease;
                }
                
                .edit-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                }
                
                /* Estilos para as redes sociais da ASSEJUR na página inicial */
                .assejur-social-section {
                    margin: 1rem 0;
                    padding: 0.75rem;
                    background: rgba(248, 249, 250, 0.7);
                    border-radius: 8px;
                    border: 1px solid #dee2e6;
                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
                }
                
                .assejur-social-title {
                    color: #6c757d;
                    font-size: 0.85rem;
                    font-weight: 500;
                    margin-bottom: 0.75rem;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                }
                
                .assejur-social-links {
                    display: flex;
                    gap: 0.5rem;
                    flex-wrap: wrap;
                    justify-content: center;
                    align-items: center;
                }
                
                .assejur-social-btn {
                    width: 32px;
                    height: 32px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: white;
                    text-decoration: none;
                    transition: all 0.2s ease;
                    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
                    position: relative;
                    overflow: hidden;
                }
                
                .assejur-social-btn:hover {
                    transform: translateY(-1px) scale(1.05);
                    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
                    color: white;
                }
                
                .assejur-social-btn i {
                    font-size: 0.9rem;
                    z-index: 1;
                }
                
                /* Cores específicas para cada rede social - mais discretas */
                .assejur-social-btn.facebook {
                    background: #1877f2;
                }
                
                .assejur-social-btn.facebook:hover {
                    background: #0d5fc0;
                }
                
                .assejur-social-btn.instagram {
                    background: #e4405f;
                }
                
                .assejur-social-btn.instagram:hover {
                    background: #c13584;
                }
                
                .assejur-social-btn.linkedin {
                    background: #0077b5;
                }
                
                .assejur-social-btn.linkedin:hover {
                    background: #005885;
                }
                
                .assejur-social-btn.youtube {
                    background: #ff0000;
                }
                
                .assejur-social-btn.youtube:hover {
                    background: #cc0000;
                }
                
                .assejur-social-btn.twitter {
                    background: #1da1f2;
                }
                
                .assejur-social-btn.twitter:hover {
                    background: #0d8bd9;
                }
                
                /* Mensagem quando não há redes sociais */
                .no-assejur-social-message {
                    color: #6c757d;
                    font-style: italic;
                    font-size: 0.9rem;
                    text-align: center;
                    padding: 0.75rem;
                    background: rgba(108, 117, 125, 0.1);
                    border-radius: 10px;
                    border: 1px dashed #6c757d;
                }
                
                /* Responsividade */
                @media (max-width: 768px) {
                    .main-title {
                        font-size: 2.5rem;
                    }
                    
                    .portal-card {
                        padding: 1.5rem;
                        margin-bottom: 2rem;
                    }
                    
                    .header-icon {
                        width: 60px;
                        height: 60px;
                    }
                    
                    .header-icon i {
                        font-size: 1.5rem;
                    }
                    
                    /* Responsividade para logo da ASSEJUR */
                    .assejur-logo {
                        width: 100%;
                        height: 100%;
                        object-fit: contain;
                    }
                    
                    /* Responsividade para logo da ABMEPI */
                    .abmepi-logo {
                        width: 100%;
                        height: 100%;
                        object-fit: contain;
                    }
                    
                    /* Responsividade para redes sociais da ABMEPI */
                    .abmepi-social-section {
                        margin: 0.75rem 0;
                        padding: 0.75rem;
                    }
                    
                    .abmepi-social-title {
                        font-size: 0.8rem;
                        margin-bottom: 0.5rem;
                    }
                    
                    .abmepi-social-btn {
                        width: 30px;
                        height: 30px;
                    }
                    
                    .abmepi-social-btn i {
                        font-size: 0.85rem;
                    }
                    
                    /* Responsividade para redes sociais */
                    .assejur-social-section {
                        margin: 0.75rem 0;
                        padding: 0.75rem;
                    }
                    
                    .assejur-social-title {
                        font-size: 0.8rem;
                        margin-bottom: 0.5rem;
                    }
                    
                    .assejur-social-btn {
                        width: 30px;
                        height: 30px;
                    }
                    
                    .assejur-social-btn i {
                        font-size: 0.85rem;
                    }
                }
                
                @media (max-width: 576px) {
                    .assejur-social-section {
                        padding: 0.5rem;
                        margin: 0.5rem 0;
                    }
                    
                    .assejur-social-title {
                        font-size: 0.75rem;
                        margin-bottom: 0.5rem;
                    }
                    
                    .assejur-social-links {
                        gap: 0.4rem;
                    }
                    
                    .assejur-social-btn {
                        width: 28px;
                        height: 28px;
                    }
                    
                    .assejur-social-btn i {
                        font-size: 0.8rem;
                    }
                    
                    .no-assejur-social-message {
                        font-size: 0.75rem;
                        padding: 0.4rem;
                    }
                    
                    /* Responsividade para redes sociais da ABMEPI em mobile */
                    .abmepi-social-section {
                        padding: 0.5rem;
                        margin: 0.5rem 0;
                    }
                    
                    .abmepi-social-title {
                        font-size: 0.75rem;
                        margin-bottom: 0.5rem;
                    }
                    
                    .abmepi-social-links {
                        gap: 0.4rem;
                    }
                    
                    .abmepi-social-btn {
                        width: 28px;
                        height: 28px;
                    }
                    
                    .abmepi-social-btn i {
                        font-size: 0.8rem;
                    }
                    
                    .no-abmepi-social-message {
                        font-size: 0.75rem;
                        padding: 0.4rem;
                    }
                }
            </style>
            
            <div class="row g-4">
                <!-- Coluna 1 - Portal de Notícias Jurídicas -->
                <div class="col-lg-6">
                    <div class="portal-card" data-aos="fade-right">
                        <div class="card-header">
                            <div class="header-icon">
                                <img src="{% static 'Logo-assejur.png' %}" alt="Logo ASSEJUR" class="assejur-logo">
                            </div>
                            <h3 class="card-title">Portal de Notícias Jurídicas</h3>
                            <p class="card-subtitle">
                                Assessoria Jurídica - Informações, notícias e orientações legais
                            </p>
                            
                            <!-- Redes Sociais ASSEJUR -->
                            <div class="assejur-social-section">
                                <h6 class="assejur-social-title">
                                    <i class="fas fa-share-alt me-2"></i>Siga a ASSEJUR nas redes sociais
                                </h6>
                                
                                
                                
                                <div class="assejur-social-links">
                                    {% if config.assejur_facebook_url %}
                                    <a href="{{ config.assejur_facebook_url }}" target="_blank" class="assejur-social-btn facebook" title="Facebook ASSEJUR">
                                        <i class="fab fa-facebook-f"></i>
                                    </a>
                                    {% endif %}
                                    
                                    {% if config.assejur_instagram_url %}
                                    <a href="{{ config.assejur_instagram_url }}" target="_blank" class="assejur-social-btn instagram" title="Instagram ASSEJUR">
                                        <i class="fab fa-instagram"></i>
                                    </a>
                                    {% endif %}
                                    
                                    {% if config.assejur_linkedin_url %}
                                    <a href="{{ config.assejur_linkedin_url }}" target="_blank" class="assejur-social-btn linkedin" title="LinkedIn ASSEJUR">
                                        <i class="fab fa-linkedin-in"></i>
                                    </a>
                                    {% endif %}
                                    
                                    {% if config.assejur_youtube_url %}
                                    <a href="{{ config.assejur_youtube_url }}" target="_blank" class="assejur-social-btn youtube" title="YouTube ASSEJUR">
                                        <i class="fab fa-youtube"></i>
                                    </a>
                                    {% endif %}
                                    
                                    {% if config.assejur_twitter_url %}
                                    <a href="{{ config.assejur_twitter_url }}" target="_blank" class="assejur-social-btn twitter" title="Twitter ASSEJUR">
                                        <i class="fab fa-twitter"></i>
                                    </a>
                                    {% endif %}
                                    
                                    <!-- Mensagem quando não há redes sociais configuradas -->
                                    {% if not config.assejur_facebook_url and not config.assejur_instagram_url and not config.assejur_linkedin_url and not config.assejur_youtube_url and not config.assejur_twitter_url %}
                                    <div class="no-assejur-social-message">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Redes sociais ainda não configuradas
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                            
                            {% if user.is_authenticated and user.tipo_usuario == 'administrador' %}
                                <div class="admin-actions">
                                    <button class="btn btn-sm btn-outline-primary edit-btn" onclick="editAasjurSection()">
                                        <i class="fas fa-edit"></i> Editar
                                    </button>
                                    <button class="btn btn-sm btn-outline-success ms-2" onclick="testEditModal()">
                                        <i class="fas fa-test"></i> Testar
                                    </button>
                                </div>
                            {% endif %}
                        </div>
                        
                        <!-- Portal de Notícias Jurídicas - Estilo Jornal Clássico -->
                        <div class="classic-newspaper-carousel">
                            <div class="newspaper-header">
                                <div class="newspaper-title">
                                    <h1 class="paper-name">ASSEJUR TIMES</h1>
                                    <div class="paper-subtitle">Assessoria Jurídica & Notícias</div>
                                    <div class="paper-date">{{ "now"|date:"l, d \d\e F \d\e Y"|title }}</div>
                                </div>
                            </div>
                            
                            <style>
                                /* Estilo do Jornal Clássico */
                                .classic-newspaper-carousel {
                                    background: #f8f9fa;
                                    border-radius: 15px;
                                    padding: 1.5rem;
                                    box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
                                }
                                
                                .newspaper-header {
                                    background: linear-gradient(135deg, #2c3e50, #34495e);
                                    color: white;
                                    padding: 1.5rem;
                                    border-radius: 10px;
                                    margin-bottom: 1.5rem;
                                    text-align: center;
                                }
                                
                                .paper-name {
                                    font-size: 2rem;
                                    font-weight: 900;
                                    margin-bottom: 0.5rem;
                                    text-transform: uppercase;
                                    letter-spacing: 2px;
                                }
                                
                                .paper-subtitle {
                                    font-size: 1rem;
                                    opacity: 0.9;
                                    margin-bottom: 0.5rem;
                                }
                                
                                .paper-date {
                                    font-size: 0.9rem;
                                    opacity: 0.8;
                                    font-style: italic;
                                }
                            </style>
                            
                            <div class="newspaper-content">
                                <div class="news-carousel-track" id="aasjurNewsCarousel">
                                    {% if assejur_news %}
                                        {% for noticia in assejur_news %}
                                        <div class="newspaper-item {% if forloop.first %}active{% endif %}" data-news-id="{{ noticia.id }}">
                                            <div class="newspaper-article">
                                                <!-- Cabeçalho do Artigo -->
                                                <div class="article-header">
                                                    <div class="article-category">{{ noticia.get_categoria_display }}</div>
                                                    <div class="article-meta">
                                                        <span class="article-date">{{ noticia.data_publicacao|date:"d/m/Y" }}</span>
                                                        <span class="view-counter" title="Visualizações">
                                                            <i class="fas fa-eye me-1"></i>{{ noticia.visualizacoes }}
                                                        </span>
                                                    </div>
                                                </div>
                                                
                                                <!-- Título Principal -->
                                                <h2 class="article-headline">{{ noticia.titulo }}</h2>
                                                
<<<<<<< HEAD
                                                <!-- Imagem da Notícia -->
                                                {% if noticia.imagem %}
                                                <div class="article-image">
                                                    <img src="{{ noticia.imagem.url }}" alt="{{ noticia.titulo }}" class="img-fluid rounded">
                                                    {% if noticia.imagem_legenda %}
                                                    <div class="image-caption">
                                                        <small class="text-muted">
                                                            <i class="fas fa-camera me-1"></i>{{ noticia.imagem_legenda }}
                                                        </small>
                                                    </div>
                                                    {% endif %}
                                                </div>
                                                {% endif %}
                                                
=======
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
                                                <!-- Lead do Artigo -->
                                                <div class="article-lead">
                                                    {% if noticia.resumo %}
                                                        <p class="lead-text">{{ noticia.resumo|truncatechars:200 }}</p>
                                                    {% elif noticia.conteudo %}
                                                        <p class="lead-text">{{ noticia.conteudo|truncatechars:200 }}</p>
                                                    {% endif %}
                                                    <div class="article-link">
                                                        <a href="{% url 'core:assejur_news_detail' noticia.pk %}" class="read-more-link" target="_blank">
                                                            <i class="fas fa-arrow-right me-2"></i>Ler Notícia Completa
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <style>
                                            /* Estilo dos Artigos de Notícias */
                                            .newspaper-article {
                                                background: white;
                                                padding: 1.5rem;
                                                border-radius: 10px;
                                                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                                                border-left: 4px solid #007bff;
                                            }
                                            
                                            .article-header {
                                                display: flex;
                                                justify-content: space-between;
                                                align-items: center;
                                                margin-bottom: 1rem;
                                                padding-bottom: 0.5rem;
                                                border-bottom: 1px solid #e9ecef;
                                            }
                                            
                                            .article-category {
                                                background: linear-gradient(135deg, #007bff, #28a745);
                                                color: white;
                                                padding: 0.3rem 0.8rem;
                                                border-radius: 15px;
                                                font-size: 0.8rem;
                                                font-weight: 600;
                                                text-transform: uppercase;
                                            }
                                            
                                            .article-date {
                                                color: #6c757d;
                                                font-size: 0.9rem;
                                                font-weight: 500;
                                            }
                                            
                                            .article-meta {
                                                display: flex;
                                                align-items: center;
                                                gap: 1rem;
                                            }
                                            
                                            .view-counter {
                                                color: #6c757d;
                                                font-size: 0.85rem;
                                                font-weight: 500;
                                                display: flex;
                                                align-items: center;
                                                background: rgba(108, 117, 125, 0.1);
                                                padding: 0.25rem 0.5rem;
                                                border-radius: 12px;
                                                transition: all 0.3s ease;
                                            }
                                            
                                            .view-counter:hover {
                                                background: rgba(108, 117, 125, 0.2);
                                                transform: translateY(-1px);
                                            }
                                            
                                            .article-headline {
                                                font-size: 1.4rem;
                                                font-weight: 700;
                                                color: #2c3e50;
                                                margin-bottom: 1rem;
                                                line-height: 1.3;
                                                word-wrap: break-word;
                                                hyphens: auto;
                                            }
                                            
<<<<<<< HEAD
                                            .article-image {
                                                margin: 1rem 0;
                                                text-align: center;
                                            }
                                            
                                            .article-image img {
                                                max-width: 100%;
                                                height: auto;
                                                border-radius: 8px;
                                                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                                            }
                                            
                                            .image-caption {
                                                margin-top: 0.5rem;
                                                font-style: italic;
                                            }
                                            
=======
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
                                            .article-lead {
                                                margin-bottom: 1.5rem;
                                            }
                                            
                                            .lead-text {
                                                color: #495057;
                                                line-height: 1.6;
                                                margin-bottom: 1rem;
                                                font-size: 1rem;
                                            }
                                            
                                            .read-more-link {
                                                display: inline-flex;
                                                align-items: center;
                                                background: linear-gradient(135deg, #007bff, #28a745);
                                                color: white;
                                                padding: 0.6rem 1.2rem;
                                                border-radius: 25px;
                                                text-decoration: none;
                                                font-weight: 600;
                                                transition: all 0.3s ease;
                                                box-shadow: 0 3px 10px rgba(0,123,255,0.3);
                                            }
                                            
                                            .read-more-link:hover {
                                                transform: translateY(-2px);
                                                box-shadow: 0 5px 20px rgba(0,123,255,0.4);
                                                color: white;
                                            }
                                            

                                        </style>
                                        {% endfor %}
                                    {% else %}
                                        <!-- Notícia padrão quando não há notícias -->
                                        <div class="newspaper-item active" data-news-id="default">
                                            <div class="newspaper-article">
                                                <div class="article-header">
                                                    <div class="article-category">Informação</div>
                                                    <div class="article-date">{{ "now"|date:"d/m/Y" }}</div>
                                                </div>
                                                <h2 class="article-headline">Nenhuma Notícia Disponível</h2>
                                                <div class="article-lead">
                                                    <p class="lead-text">
                                                        Ainda não há notícias da assessoria jurídica. Entre em contato para mais informações.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    {% endif %}
                                </div>
                                
                                <!-- Controles do Carrossel -->
                                <div class="news-carousel-controls">
                                    <button class="news-control prev-control" id="prevNewsBtn" aria-label="Notícia anterior">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <button class="news-control next-control" id="nextNewsBtn" aria-label="Próxima notícia">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                                
                                <!-- Indicadores do Carrossel -->
                                
                                <style>
                                    /* Controles e Indicadores do Carrossel */
                                    .news-carousel-controls {
                                        display: flex;
                                        justify-content: space-between;
                                        margin-top: 1.5rem;
                                        padding: 0 1rem;
                                    }
                                    
                                    .news-control {
                                        width: 50px;
                                        height: 50px;
                                        border: none;
                                        border-radius: 50%;
                                        background: linear-gradient(135deg, #007bff, #28a745);
                                        color: white;
                                        font-size: 1.2rem;
                                        cursor: pointer;
                                        transition: all 0.3s ease;
                                        box-shadow: 0 3px 10px rgba(0,123,255,0.3);
                                        display: flex;
                                        align-items: center;
                                        justify-content: center;
                                    }
                                    
                                    .news-control:hover {
                                        transform: scale(1.1);
                                        box-shadow: 0 5px 20px rgba(0,123,255,0.4);
                                    }
                                    
                                    .news-control:active {
                                        transform: scale(0.95);
                                    }
                                    
                                    .news-control:disabled {
                                        opacity: 0.5;
                                        cursor: not-allowed;
                                        transform: none;
                                    }
                                </style>
                                <div class="news-carousel-indicators">
                                    {% if assejur_news %}
                                        {% for noticia in assejur_news %}
                                        <button class="news-indicator {% if forloop.first %}active{% endif %}" data-slide="{{ forloop.counter0 }}"></button>
                                        {% endfor %}
                                    {% else %}
                                        <button class="news-indicator active" data-slide="0"></button>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        
                        <!-- Botão para Acessar Portal de Notícias -->
                        <div class="text-center mt-4">
                            <a href="/core/noticias-juridicas/" class="btn btn-primary btn-lg portal-news-btn">
                                <i class="fas fa-newspaper me-2"></i>
                                Acessar Portal de Notícias Jurídicas
                            </a>
                        </div>
                        
                        <!-- Modal para Ler Mais -->
                        <div class="modal fade" id="newsDetailModal" tabindex="-1" aria-labelledby="newsDetailModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
                                <div class="modal-content news-modal-content">
                                    <div class="modal-header news-modal-header">
                                        <div class="news-modal-title-container">
                                            <h4 class="modal-title news-modal-title" id="modalNewsTitle">Detalhes da Notícia</h4>
                                            <div class="news-modal-meta">
                                                <span class="badge news-modal-category" id="modalNewsCategory">Categoria</span>
                                                <span class="news-modal-date" id="modalNewsDate">Data</span>
                                            </div>
                                        </div>
                                        <button type="button" class="btn-close news-modal-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body news-modal-body">
                                        <!-- Imagem da Notícia no Modal -->
                                        <div id="modalNewsImage" class="text-center mb-4" style="display: none;">
                                            <img src="" alt="" class="img-fluid rounded" style="max-height: 400px; max-width: 100%;">
                                            <div id="modalNewsImageCaption" class="text-muted mt-2" style="display: none;">
                                                <small><i class="fas fa-camera me-1"></i><span></span></small>
                                            </div>
                                        </div>
                                        <div class="news-detail-content" id="modalNewsContent">
                                            <!-- Conteúdo da notícia será inserido aqui -->
                                        </div>
                                    </div>
                                    <div class="modal-footer news-modal-footer">
                                        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                                            <i class="fas fa-times"></i> Fechar
                                        </button>
                                        <a href="#" id="modalNewsExternalLink" class="btn btn-primary" target="_blank" style="display: none;">
                                            <i class="fas fa-external-link-alt me-2"></i> Ver Fonte Original
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        

                        

                        
                        <!-- Espaço para Informativos -->
                        <div class="aasjur-informativos" style="background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border: 1px solid #e9ecef; margin: 2rem 0; position: relative; z-index: 1000;">
                            <!-- DEBUG: Seção de Informativos -->
                            <div class="informativos-header">
                                <h4 class="informativos-title">
                                    <i class="fas fa-info-circle"></i>
                                    Informativos Importantes
                                </h4>
                                {% if user.is_authenticated and user.tipo_usuario == 'administrador' %}
                                <div class="informativos-actions">
                                    <button class="btn btn-sm btn-success" onclick="addNewInformativo()">
                                        <i class="fas fa-plus"></i> Novo
                                    </button>
                                    <button class="btn btn-sm btn-outline-secondary" onclick="manageInformativos()">
                                        <i class="fas fa-cogs"></i> Gerenciar
                                    </button>
                                </div>
                                {% endif %}
                            </div>
                            <div class="informativos-list" id="informativosList" style="display: block !important; visibility: visible !important; opacity: 1 !important;">
                                <!-- DEBUG: Lista de Informativos -->
                                <script>console.log('Informativos carregados:', document.getElementById('informativosList'));</script>
                                
                                
                                <div class="informativo-item" data-informativo-id="2" style="background: white; border: 1px solid #e9ecef; border-radius: 12px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <div class="informativo-icon">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                    <div class="informativo-content">
                                        <h5>Horário de Atendimento</h5>
                                        <p>Segunda a Sexta: 8h às 17h | Sábados: 8h às 12h</p>
                                        {% if user.is_authenticated and user.tipo_usuario == 'administrador' %}
                                        <div class="informativo-actions">
                                            <button class="btn btn-sm btn-outline-primary" onclick="editInformativoItem(2)" title="Editar">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-danger" onclick="deleteInformativo(2)" title="Excluir">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                                
                                <div class="informativo-item" data-informativo-id="3">
                                    <div class="informativo-icon">
                                        <i class="fas fa-phone"></i>
                                    </div>
                                    <div class="informativo-content">
                                        <h5>Contato Urgente</h5>
                                        <p>Para casos urgentes: {{ telefone }}</p>
                                        {% if user.is_authenticated and user.tipo_usuario == 'administrador' %}
                                        <div class="informativo-actions">
                                            <button class="btn btn-sm btn-outline-primary" onclick="editInformativoItem(3)" title="Editar">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-danger" onclick="deleteInformativo(3)" title="Excluir">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                        

                        

                    </div>
                </div>
            
                <!-- Coluna 2 - Feed Social da ABMEPI -->
                <div class="col-lg-6">
                    <div class="portal-card" data-aos="fade-up" data-aos-delay="100">
                        <div class="card-header">
                            <div class="header-icon">
                                <img src="{% static 'Logo_abmepi.png' %}" alt="Logo ABMEPI" class="abmepi-logo">
                            </div>
                            <h3 class="card-title">Feed Social ABMEPI</h3>
                            <p class="card-subtitle">
                                Últimas novidades, eventos e momentos especiais da nossa associação
                            </p>
                            
                            <!-- Redes Sociais ABMEPI -->
                            <div class="abmepi-social-section">
                                <h6 class="abmepi-social-title">
                                    <i class="fas fa-share-alt me-2"></i>Siga a ABMEPI nas redes sociais
                                </h6>
                                <div class="abmepi-social-links">
                                    {% if facebook_url %}
                                    <a href="{{ facebook_url }}" target="_blank" class="abmepi-social-btn facebook" title="Facebook ABMEPI">
                                        <i class="fab fa-facebook-f"></i>
                                    </a>
                                    {% endif %}
                                    
                                    {% if instagram_url %}
                                    <a href="{{ instagram_url }}" target="_blank" class="abmepi-social-btn instagram" title="Instagram ABMEPI">
                                        <i class="fab fa-instagram"></i>
                                    </a>
                                    {% endif %}
                                    
                                    {% if linkedin_url %}
                                    <a href="{{ linkedin_url }}" target="_blank" class="abmepi-social-btn linkedin" title="LinkedIn ABMEPI">
                                        <i class="fab fa-linkedin-in"></i>
                                    </a>
                                    {% endif %}
                                    
                                    {% if youtube_url %}
                                    <a href="{{ youtube_url }}" target="_blank" class="abmepi-social-btn youtube" title="YouTube ABMEPI">
                                        <i class="fab fa-youtube"></i>
                                    </a>
                                    {% endif %}
                                    
                                    <!-- Mensagem quando não há redes sociais configuradas -->
                                    {% if not facebook_url and not instagram_url and not linkedin_url and not youtube_url %}
                                    <div class="no-abmepi-social-message">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Redes sociais ainda não configuradas
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        
                        <!-- Feed Social -->
                        <div class="social-feed-content">
                            <div class="instagram-carousel" id="instagramCarousel">
                                <!-- DEBUG: Total de posts: {{ feed_posts|length }} -->
                                {% if feed_posts %}
                                    {% for post in feed_posts %}
                                    <!-- Instagram Post {{ forloop.counter }} -->
                                    <div class="instagram-post {% if forloop.first %}active{% endif %}" data-post-id="{{ post.id }}">
                                        <!-- Post ID: {{ post.id }}, Título: {{ post.titulo }} -->
                                        <!-- Cabeçalho do Post -->
                                        <div class="post-header">
                                            <div class="post-author">
                                                <div class="author-avatar">
                                                    <img src="{% static 'Logo_abmepi.png' %}" alt="ABMEPI">
                                                </div>
                                                <div class="author-info">
                                                    <h6 class="author-name">ABMEPI Oficial</h6>
                                                    <span class="post-time">{{ post.get_tempo_relativo }}</span>
                                                </div>
                                            </div>
                                            <div class="post-actions">
                                                <button class="action-btn" title="Mais opções">
                                                    <i class="fas fa-ellipsis-h"></i>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- Imagem do Post -->
                                        <div class="post-image">
                                            {% if post.imagem %}
                                                <img src="{{ post.imagem.url }}" 
                                                     alt="{{ post.titulo }}"
                                                     onerror="this.onerror=null; this.src='https://via.placeholder.com/600x600/667eea/ffffff?text={{ post.tipo_post|title }}';">
                                            {% else %}
                                                <img src="https://via.placeholder.com/600x600/667eea/ffffff?text={{ post.tipo_post|title }}" 
                                                     alt="{{ post.titulo }}">
                                            {% endif %}
                                            
                                            <!-- Overlay de marca -->
                                            <div class="brand-overlay">
                                                <span>abmepi.org</span>
                                            </div>
                                        </div>
                                        
                                        <!-- Área de Interação -->
                                        <div class="post-interactions">
                                            <div class="interaction-buttons">
                                                <button class="like-btn {% if post.user_has_liked %}liked{% endif %}" data-post-id="{{ post.id }}">
                                                    <i class="{% if post.user_has_liked %}fas{% else %}far{% endif %} fa-heart"></i>
                                                    <span class="likes-count">{{ post.likes_count|default:post.likes }}</span>
                                                </button>
                                                <button class="comment-btn" data-post-id="{{ post.id }}">
                                                    <i class="fas fa-comment"></i>
                                                    <span class="comments-count">{{ post.comments_count|default:post.comentarios }}</span>
                                                </button>
                                                <button class="share-btn" data-post-id="{{ post.id }}">
                                                    <i class="fas fa-paper-plane"></i>
                                                </button>
                                                <button class="save-btn" data-post-id="{{ post.id }}">
                                                    <i class="far fa-bookmark"></i>
                                                </button>
                                            </div>
                                            
                                            <!-- Contador de Likes -->
                                            <div class="likes-count">
                                                <span class="like-count">{{ post.likes_count|default:post.likes }}</span> curtidas
                                            </div>
                                            
                                            <!-- Conteúdo do Post -->
                                            <div class="post-content">
                                                <h5 class="post-title">{{ post.titulo }}</h5>
                                                <p class="post-text">
                                                    {{ post.conteudo|linebreaksbr }}
                                                </p>
                                            </div>
                                            
                                            <!-- Comentários -->
                                            <div class="post-comments" id="comments-{{ post.id }}" style="display: block !important; visibility: visible !important; opacity: 1 !important;">
                                                
                                                {% if post.comments_list and post.comments_list|length > 0 %}
                                                    <div class="comments-preview" style="display: block !important; visibility: visible !important; opacity: 1 !important;">
                                                        {% for comentario in post.comments_list %}
                                                        <div class="comment-item" style="background: #f5f5f5; margin: 5px 0; padding: 8px; border-radius: 5px; border-left: 3px solid #007bff; color: #000000;">
                                                            <strong>{{ comentario.get_author_name }}:</strong> {{ comentario.conteudo }}
                                                        </div>
                                                        {% endfor %}
                                                        {% if post.comments_count > 5 %}
                                                        <a href="#" class="view-all-comments" data-post-id="{{ post.id }}" style="color: #007bff; text-decoration: none; font-size: 14px; cursor: pointer;">
                                                            Ver todos os {{ post.comments_count }} comentários
                                                        </a>

                                                        {% endif %}
                                                    </div>
                                                {% else %}
                                                    <div class="comments-preview" style="display: block !important; visibility: visible !important; opacity: 1 !important;">
                                                        <div class="comment-item no-comments" style="background: #fff3cd; padding: 8px; border-radius: 5px; border-left: 3px solid #ffc107; color: #000000;">
                                                            <em>Nenhum comentário ainda. Seja o primeiro a comentar!</em>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            </div>
                                            
                                            <!-- Formulário de Comentário -->
                                            <div class="comment-form">
                                                {% if not user.is_authenticated %}
                                                    <input type="text" class="comment-name" placeholder="Seu nome..." data-post-id="{{ post.id }}" maxlength="50">
                                                {% endif %}
                                                <div class="comment-input-row">
                                                    <input type="text" class="comment-input" placeholder="Adicione um comentário..." data-post-id="{{ post.id }}">
                                                    <button class="emoji-btn" data-post-id="{{ post.id }}">
                                                        <i class="far fa-smile"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                {% else %}
                                    <!-- Post Padrão (quando não há posts) -->
                                    <div class="instagram-post active" data-post-id="default">
                                        <!-- Cabeçalho do Post -->
                                        <div class="post-header">
                                            <div class="post-author">
                                                <div class="author-avatar">
                                                    <img src="{% static 'Logo_abmepi.png' %}" alt="ABMEPI">
                                                </div>
                                                <div class="author-info">
                                                    <h6 class="author-name">ABMEPI Oficial</h6>
                                                    <span class="post-time">Agora mesmo</span>
                                                </div>
                                            </div>
                                            <div class="post-actions">
                                                <button class="action-btn" title="Mais opções">
                                                    <i class="fas fa-ellipsis-h"></i>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- Imagem do Post -->
                                        <div class="post-image">
                                            <img src="https://via.placeholder.com/600x600/667eea/ffffff?text=ABMEPI" alt="ABMEPI">
                                            <!-- Overlay de marca -->
                                            <div class="brand-overlay">
                                                <span>abmepi.org</span>
                                            </div>
                                        </div>
                                        
                                        <!-- Área de Interação -->
                                        <div class="post-interactions">
                                            <div class="interaction-buttons">
                                                <button class="like-btn">
                                                    <i class="far fa-heart"></i>
                                                </button>
                                                <button class="comment-btn">
                                                    <i class="fas fa-comment"></i>
                                                </button>
                                                <button class="share-btn">
                                                    <i class="fas fa-paper-plane"></i>
                                                </button>
                                                <button class="save-btn">
                                                    <i class="far fa-bookmark"></i>
                                                </button>
                                            </div>
                                            
                                            <!-- Contador de Likes -->
                                            <div class="likes-count">
                                                <span>0</span> curtidas
                                            </div>
                                            
                                            <!-- Conteúdo do Post -->
                                            <div class="post-content">
                                                <h5 class="post-title">Bem-vindo ao Feed da ABMEPI!</h5>
                                                <p class="post-text">
                                                    🎉 Aqui você encontrará as últimas novidades, eventos e momentos especiais da nossa associação. 
                                                    Os posts serão criados pelos administradores e aparecerão aqui automaticamente.
                                                </p>
                                            </div>
                                            
                                            <!-- Comentários -->
                                            <div class="post-comments">
                                                <div class="comments-preview">
                                                    <div class="comment-item no-comments">
                                                        <em>Nenhum comentário ainda. Seja o primeiro a comentar!</em>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Formulário de Comentário -->
                                            <div class="comment-form">
                                                {% if not user.is_authenticated %}
                                                    <input type="text" class="comment-name" placeholder="Seu nome..." maxlength="50">
                                                {% endif %}
                                                <div class="comment-input-row">
                                                    <input type="text" class="comment-input" placeholder="Adicione um comentário...">
                                                    <button class="emoji-btn">
                                                        <i class="far fa-smile"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                    </div>
                    
                    <!-- Controles do Carrossel Instagram -->
                    <div class="instagram-carousel-controls">
                        <button class="instagram-control prev-control" id="prevInstagramBtn" aria-label="Post anterior">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="instagram-control next-control" id="nextInstagramBtn" aria-label="Próximo post">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    
                    <!-- Indicadores do Carrossel Instagram -->
                    <div class="instagram-carousel-indicators">
                        {% if feed_posts %}
                            {% for post in feed_posts %}
                            <button class="instagram-indicator-btn" data-slide="{{ forloop.counter0 }}" aria-label="Ir para post {{ forloop.counter }}">
                                <span class="instagram-indicator-dot"></span>
                            </button>
                            {% endfor %}
                        {% else %}
                            <button class="instagram-indicator-btn active" data-slide="0" aria-label="Post único">
                                <span class="instagram-indicator-dot"></span>
                            </button>
                        {% endif %}
                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                

            </div>
        </div>
        
        <style>
            /* Estilo do Carrossel Instagram */
            .social-feed-content {
                background: #f8f9fa;
                border-radius: 15px;
                padding: 1.5rem;
                box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
            }
            
            .instagram-carousel {
                position: relative;
                overflow: hidden;
                min-height: 600px;
                border-radius: 10px;
                background: white;
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                /* Para o carrossel funcionar como slides */
                position: relative;
            }
            
            /* Posts do Instagram */
            .instagram-post {
                display: none; /* Esconder todos por padrão */
                opacity: 0;
                transform: translateX(50px);
                transition: all 0.5s ease-in-out;
                min-height: 200px;
                padding: 20px;
                background: white;
                width: 100%;
                box-sizing: border-box;
                /* Para funcionar como slides sobrepostos */
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
            }
            
            .instagram-post.active {
                display: block;
                opacity: 1;
                transform: translateX(0);
                position: relative;
                z-index: 2;
            }
            
            /* Cabeçalho do Post */
            .post-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 1rem;
                border-bottom: 1px solid #e9ecef;
            }
            
            .post-author {
                display: flex;
                align-items: center;
                gap: 0.75rem;
            }
            
            .author-avatar {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                overflow: hidden;
                border: 2px solid #e9ecef;
            }
            
            .author-avatar img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            
            .author-info h6 {
                margin: 0;
                font-weight: 600;
                color: #2c3e50;
            }
            
            .post-time {
                font-size: 0.85rem;
                color: #6c757d;
            }
            
            .action-btn {
                background: none;
                border: none;
                font-size: 1.2rem;
                color: #6c757d;
                cursor: pointer;
                padding: 0.5rem;
                border-radius: 50%;
                transition: all 0.3s ease;
            }
            
            .action-btn:hover {
                background: #f8f9fa;
                color: #2c3e50;
            }
            
            /* Imagem do Post */
            .post-image {
                position: relative;
                width: 100%;
<<<<<<< HEAD
                min-height: 300px;
                max-height: 500px;
                overflow: hidden;
                border-radius: 12px;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .post-image:hover {
                transform: translateY(-8px) scale(1.02);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            }
            
            .post-image img {
                max-width: 100%;
                max-height: 100%;
                width: auto;
                height: auto;
                object-fit: contain;
                object-position: center;
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                filter: brightness(1) contrast(1.1) saturate(1.1);
                border-radius: 8px;
            }
            
            .post-image:hover img {
                transform: scale(1.05);
                filter: brightness(1.1) contrast(1.2) saturate(1.2);
            }
            
            /* Efeito de gradiente sobre a imagem */
            .post-image::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(
                    135deg,
                    rgba(102, 126, 234, 0.1) 0%,
                    rgba(118, 75, 162, 0.1) 50%,
                    rgba(0, 0, 0, 0.1) 100%
                );
                opacity: 0;
                transition: opacity 0.4s ease;
                z-index: 1;
            }
            
            .post-image:hover::before {
                opacity: 1;
=======
                height: 400px;
                overflow: hidden;
            }
            
            .post-image img {
                width: 100%;
                height: 100%;
                object-fit: cover;
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
            }
            
            .brand-overlay {
                position: absolute;
                top: 1rem;
                left: 1rem;
<<<<<<< HEAD
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 0.5rem 1rem;
                border-radius: 20px;
                font-size: 0.85rem;
                font-weight: 600;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                transition: all 0.3s ease;
                z-index: 2;
            }
            
            .brand-overlay:hover {
                background: rgba(0,0,0,0.9);
                transform: scale(1.05);
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
            }
            
            /* Efeito de loading para imagens */
            .post-image img {
                position: relative;
            }
            
            .post-image img::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
                background-size: 200% 100%;
                animation: loading 1.5s infinite;
                z-index: 1;
            }
            
            @keyframes loading {
                0% {
                    background-position: 200% 0;
                }
                100% {
                    background-position: -200% 0;
                }
            }
            
            /* Efeito de brilho nas bordas */
            .post-image::after {
                content: '';
                position: absolute;
                top: -2px;
                left: -2px;
                right: -2px;
                bottom: -2px;
                background: linear-gradient(45deg, #667eea, #764ba2, #667eea);
                border-radius: 14px;
                z-index: -1;
                opacity: 0;
                transition: opacity 0.3s ease;
            }
            
            .post-image:hover::after {
                opacity: 1;
            }
=======
                background: rgba(0,0,0,0.7);
                color: white;
                                padding: 0.3rem 0.6rem;
                                border-radius: 15px;
                                font-size: 0.8rem;
                                font-weight: 600;
                            }
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
                            
                            /* Área de Interação */
                            .post-interactions {
                                padding: 1rem;
                            }
                            
                            .interaction-buttons {
                                display: flex;
                                gap: 1rem;
                                margin-bottom: 1rem;
                            }
                            
                            .interaction-buttons button {
                                background: none;
                                border: none;
                                font-size: 1.5rem;
                                color: #2c3e50;
                                cursor: pointer;
                                padding: 0.5rem;
                                border-radius: 50%;
                                transition: all 0.3s ease;
                            }
                            
                            .interaction-buttons button:hover {
                                background: #f8f9fa;
                                transform: scale(1.1);
                            }
                            
                            .like-btn.liked {
                                color: #e74c3c;
                            }
                            
                            .likes-count {
                                font-weight: 600;
                                color: #2c3e50;
                                margin-bottom: 1rem;
                            }
                            
                            .post-content {
                                margin-bottom: 1rem;
                            }
                            
                            .post-title {
                                font-weight: 600;
                                color: #2c3e50;
                                margin-bottom: 0.5rem;
                            }
                            
                            .post-text {
                                color: #495057;
                                line-height: 1.5;
                            }
                            
                            /* Controles do Carrossel */
                            .instagram-carousel-controls {
                                position: absolute;
                                top: 50%;
                                left: 0;
                                right: 0;
                                transform: translateY(-50%);
                                display: flex;
                                justify-content: space-between;
                                padding: 0 1rem;
                                pointer-events: none;
                                z-index: 10;
                            }
                            
                            .instagram-control {
                                width: 45px;
                                height: 45px;
                                border: none;
                                border-radius: 50%;
                                background: rgba(255, 255, 255, 0.9);
                                color: #2c3e50;
                                font-size: 1.1rem;
                                cursor: pointer;
                                transition: all 0.3s ease;
                                box-shadow: 0 3px 15px rgba(0,0,0,0.2);
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                pointer-events: auto;
                                backdrop-filter: blur(10px);
                            }
                            
                            .instagram-control:hover {
                                background: rgba(255, 255, 255, 1);
                                transform: scale(1.1);
                                box-shadow: 0 5px 25px rgba(0,0,0,0.3);
                            }
                            
                            .instagram-control:active {
                                transform: scale(0.95);
                            }
                            
                            .instagram-control:disabled {
                                opacity: 0.4;
                                cursor: not-allowed;
                                transform: none;
                                background: rgba(255, 255, 255, 0.6);
                            }
                            
                            /* Indicadores */
                            .instagram-carousel-indicators {
                                position: absolute;
                                bottom: 1rem;
                                left: 50%;
                                transform: translateX(-50%);
                                display: flex;
                                justify-content: center;
                                gap: 0.75rem;
                                z-index: 10;
                            }
                            
                            .instagram-indicator-btn {
                                width: 14px;
                                height: 14px;
                                border: none;
                                border-radius: 50%;
                                background: rgba(255, 255, 255, 0.7);
                                cursor: pointer;
                                transition: all 0.3s ease;
                                border: 2px solid rgba(255, 255, 255, 0.3);
                            }
                            
                            .instagram-indicator-btn.active {
                                background: #007bff;
                                border-color: #007bff;
                                transform: scale(1.3);
                                box-shadow: 0 2px 8px rgba(0, 123, 255, 0.4);
                            }
                            
                            .instagram-indicator-btn:hover {
                                background: rgba(255, 255, 255, 0.9);
                                transform: scale(1.1);
                            }
                            
                            /* Estilos para os Cards de Links Especiais */
                            .special-links {
                                display: flex;
                                flex-direction: column;
                                gap: 1.5rem;
                            }
                            
                            .special-link-card {
                                background: white;
                                border-radius: 15px;
                                padding: 1.5rem;
                                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                                border-left: 4px solid transparent;
                                transition: all 0.3s ease;
                                position: relative;
                                overflow: hidden;
                            }
                            
                            .special-link-card::before {
                                content: '';
                                position: absolute;
                                top: 0;
                                left: 0;
                                right: 0;
                                height: 3px;
                                background: linear-gradient(90deg, #007bff, #28a745);
                                transform: scaleX(0);
                                transition: transform 0.3s ease;
                            }
                            
                            .special-link-card:hover::before {
                                transform: scaleX(1);
                            }
                            
                            .special-link-card:hover {
                                transform: translateY(-5px);
                                box-shadow: 0 10px 25px rgba(0,0,0,0.15);
                            }
                            
                            .special-link-card.social-media {
                                border-left-color: #007bff;
                            }
                            
                            .special-link-card.membership {
                                border-left-color: #28a745;
                            }
                            

                            
                            .special-link-card.contact {
                                border-left-color: #dc3545;
                            }
                            
                            .link-icon {
                                width: 50px;
                                height: 50px;
                                background: linear-gradient(135deg, #007bff, #28a745);
                                border-radius: 50%;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                margin-bottom: 1rem;
                                box-shadow: 0 5px 15px rgba(0,123,255,0.3);
                            }
                            
                            .link-icon i {
                                font-size: 1.5rem;
                                color: white;
                            }
                            
                            .link-content h5 {
                                font-size: 1.2rem;
                                font-weight: 700;
                                color: #2c3e50;
                                margin-bottom: 0.5rem;
                            }
                            
                            .link-content p {
                                color: #6c757d;
                                margin-bottom: 1rem;
                                line-height: 1.5;
                            }
                            
                            /* Botões de Redes Sociais */
                            .social-buttons {
                                display: flex;
                                gap: 0.75rem;
                                flex-wrap: wrap;
                            }
                            
                            .social-btn {
                                width: 40px;
                                height: 40px;
                                border-radius: 50%;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                color: white;
                                text-decoration: none;
                                transition: all 0.3s ease;
                                box-shadow: 0 3px 10px rgba(0,0,0,0.2);
                            }
                            
                            .social-btn.facebook {
                                background: #1877f2;
                            }
                            
                            .social-btn.instagram {
                                background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
                            }
                            
                            .social-btn.linkedin {
                                background: #0077b5;
                            }
                            
                            .social-btn.youtube {
                                background: #ff0000;
                            }
                            
                            .social-btn:hover {
                                transform: translateY(-3px);
                                box-shadow: 0 5px 20px rgba(0,0,0,0.3);
                            }
                            
                            /* Links de Ação */
                            .action-link {
                                display: inline-flex;
                                align-items: center;
                                gap: 0.5rem;
                                background: linear-gradient(135deg, #007bff, #28a745);
                                color: white;
                                padding: 0.75rem 1.5rem;
                                border-radius: 25px;
                                text-decoration: none;
                                font-weight: 600;
                                transition: all 0.3s ease;
                                box-shadow: 0 3px 10px rgba(0,123,255,0.3);
                            }
                            
                            .action-link:hover {
                                transform: translateY(-2px);
                                box-shadow: 0 5px 20px rgba(0,123,255,0.4);
                                color: white;
                            }
                            
                            /* Informações de Contato */
                            .contact-info {
                                display: flex;
                                flex-direction: column;
                                gap: 0.75rem;
                            }
                            
                            .contact-item {
                                display: flex;
                                align-items: center;
                                gap: 0.75rem;
                                color: #6c757d;
                            }
                            
                            .contact-item i {
                                width: 20px;
                                color: #007bff;
                            }
                            
                            .contact-item span {
                                font-size: 0.9rem;
                                color: #000000 !important;
                            }
                            
                            .contact-link {
                                color: #000000 !important;
                                font-size: 0.9rem;
                                text-decoration: none;
                                transition: color 0.3s ease;
                            }
                            
                            .contact-link * {
                                color: #000000 !important;
                            }
                            
                            .contact-info {
                                color: #000000 !important;
                            }
                            
                            .contact-info * {
                                color: #000000 !important;
                            }
                            
                            .contact-link:hover {
                                color: var(--primary-color);
                                text-decoration: underline;
                            }
                            
                            /* Responsividade */
                            @media (max-width: 768px) {
                                .special-link-card {
                                    padding: 1rem;
                                }
                                
                                .social-buttons {
                                    justify-content: center;
                                }
                                
                                .action-link {
                                    width: 100%;
                                    justify-content: center;
                                }
                            }
                            
                            /* Estilos para o Card Compacto da Terceira Coluna */
                            .compact-card {
                                padding: 1.5rem;
                            }
                            
                            .compact-card .card-header {
                                margin-bottom: 1.5rem;
                            }
                            
                            .compact-card .header-icon {
                                width: 60px;
                                height: 60px;
                                margin-bottom: 1rem;
                            }
                            
                            .compact-card .header-icon i {
                                font-size: 1.5rem;
                            }
                            
                            .compact-card .card-title {
                                font-size: 1.4rem;
                                margin-bottom: 0.5rem;
                            }
                            
                            .compact-card .card-subtitle {
                                font-size: 0.9rem;
                                margin-bottom: 1rem;
                            }
                            
                            .compact-card .special-links {
                                gap: 1rem;
                            }
                            
                            .compact-card .special-link-card {
                                padding: 1rem;
                            }
                            
                            .compact-card .link-icon {
                                width: 40px;
                                height: 40px;
                                margin-bottom: 0.75rem;
                            }
                            
                            .compact-card .link-icon i {
                                font-size: 1.2rem;
                            }
                            
                            .compact-card .link-content h5 {
                                font-size: 1rem;
                                margin-bottom: 0.5rem;
                            }
                            
                            .compact-card .link-content p {
                                font-size: 0.85rem;
                                margin-bottom: 0.75rem;
                            }
                            
                            .compact-card .social-buttons {
                                gap: 0.5rem;
                            }
                            
                            .compact-card .social-btn {
                                width: 35px;
                                height: 35px;
                            }
                            
                            .compact-card .action-link {
                                padding: 0.5rem 1rem;
                                font-size: 0.9rem;
                            }
                            
                            .compact-card .contact-info {
                                gap: 0.5rem;
                            }
                            
                            .compact-card .contact-item {
                                font-size: 0.8rem;
                            }
                            
                            .compact-card .contact-item i {
                                width: 16px;
                            }
                            

        </style>
    </section>

    {% if mostrar_servicos %}
    <!-- Features Section -->
    <section id="servicos" class="features-section py-4">
        <div class="container">
            <div class="text-center mb-5" data-aos="fade-up">
                <h2 class="section-title">Nossos Serviços</h2>
                <p class="section-subtitle">
                    Oferecemos uma ampla gama de serviços para nossos associados, 
                    garantindo suporte completo em todas as áreas
                </p>
            </div>
            
            <div class="row g-4">
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h4 class="feature-title">Gestão de Associados</h4>
                        <p class="feature-description">
                            Sistema completo para cadastro, acompanhamento e gestão de associados, 
                            incluindo dependentes e documentação.
                        </p>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="300">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h4 class="feature-title">Assessoria Jurídica</h4>
                        <p class="feature-description">
                            Suporte jurídico especializado, consultas, atendimentos e 
                            acompanhamento de processos para nossos associados.
                        </p>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="400">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <h4 class="feature-title">Gestão Financeira</h4>
                        <p class="feature-description">
                            Controle completo de mensalidades, pagamentos, despesas e 
                            relatórios financeiros detalhados.
                        </p>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="500">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <h4 class="feature-title">Benefícios e Convênios</h4>
                        <p class="feature-description">
                            Acesso a descontos especiais, convênios com empresas parceiras 
                            e benefícios exclusivos para associados.
                        </p>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="600">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h4 class="feature-title">Eventos e Treinamentos</h4>
                        <p class="feature-description">
                            Organização de eventos, treinamentos, palestras e 
                            atividades de integração para a comunidade.
                        </p>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="700">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h4 class="feature-title">Relatórios e Analytics</h4>
                        <p class="feature-description">
                            Dashboard completo com estatísticas, relatórios detalhados 
                            e análises para tomada de decisões estratégicas.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    {% if mostrar_sobre %}
    <!-- About Section -->
    <section id="sobre" class="about-section py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6" data-aos="fade-right" data-aos-duration="1000">
                    <div class="about-content">
                        <h3 class="section-title">{{ titulo_sobre }}</h3>
                        <p class="about-text">
                            {{ texto_sobre_1 }}
                        </p>
                        <p class="about-text">
                            {{ texto_sobre_2 }}
                        </p>
                        <p class="about-text">
                            {{ texto_sobre_3 }}
                        </p>
                    </div>
                </div>
                
                <div class="col-lg-6" data-aos="fade-left" data-aos-duration="1000">
                    <div class="about-image text-center">
                        <img src="{% static 'Logo_abmepi.png' %}" alt="Sobre ABMEPI" class="img-fluid">
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Community Section -->
    <section id="comunidade" class="community-section py-4">
        <div class="container">
            <div class="text-center mb-5" data-aos="fade-up">
                <h2 class="section-title">Nossa Equipe</h2>
                <p class="section-subtitle">
                    Conectamos profissionais dedicados à segurança pública, 
                    criando uma rede de apoio e colaboração
                </p>
            </div>
            
            <div class="row g-4">
                <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="200">
                    <div class="community-card text-center">
                        <div class="community-icon">
                            <i class="fas fa-fire-extinguisher"></i>
                        </div>
                        <h5>Bombeiros</h5>
                        <p>Profissionais dedicados ao combate a incêndios e salvamento</p>
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="300">
                    <div class="community-card text-center">
                        <div class="community-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h5>Policiais</h5>
                        <p>Agentes comprometidos com a segurança e ordem pública</p>
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="400">
                    <div class="community-card text-center">
                        <div class="community-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <h5>Especialistas</h5>
                        <p>Profissionais com expertise em diversas áreas de atuação</p>
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="500">
                    <div class="community-card text-center">
                        <div class="community-icon">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <h5>Parceiros</h5>
                        <p>Instituições e empresas que apoiam nossa missão</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {% if mostrar_cta %}
    <!-- CTA Section -->
    <section class="cta-section py-4">
        <div class="container">
            <div class="text-center" data-aos="fade-up">
                <h2 class="cta-title">{{ titulo_cta }}</h2>
                <p class="cta-description">
                    {{ texto_cta }}
                </p>
                <a href="{% url 'login' %}" class="btn-primary-custom btn-lg">
                    <i class="fas fa-sign-in-alt"></i>
                    Acessar Sistema
                </a>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Footer -->
    <footer id="contato" class="footer py-4">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-3 col-md-6">
                    <div class="footer-section">
                        <h5 class="footer-title">ABMEPI</h5>
                        <p class="footer-text">
                            Associação de Bombeiros e Policiais Militares - 
                            Unindo forças para proteger e servir.
                        </p>
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6">
                    <div class="footer-section">
                        <h5 class="footer-title">Contato</h5>
                        {% if telefone %}
                        <a href="tel:{{ telefone }}" class="footer-link">
                            <i class="fas fa-phone me-2"></i>{{ telefone }}
                        </a>
                        {% endif %}
                        {% if email %}
                        <a href="mailto:{{ email }}" class="footer-link">
                            <i class="fas fa-envelope me-2"></i>{{ email }}
                        </a>
                        {% endif %}
                        {% if endereco %}
                        <a href="#" class="footer-link">
                            <i class="fas fa-map-marker-alt me-2"></i>{{ endereco }}
                        </a>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6">
                    <div class="footer-section">
                        <h5 class="footer-title">Links Úteis</h5>
                        <a href="{% url 'login' %}" class="footer-link">Acessar Sistema</a>
                        <a href="#sobre" class="footer-link">Sobre Nós</a>
                        <a href="#servicos" class="footer-link">Serviços</a>
                        <a href="#contato" class="footer-link">Contato</a>
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6">
                    <div class="footer-section">
                        <h5 class="footer-title">Redes Sociais</h5>
                        {% if facebook_url %}
                        <a href="{{ facebook_url }}" target="_blank" class="footer-link">
                            <i class="fab fa-facebook me-2"></i>Facebook
                        </a>
                        {% endif %}
                        {% if instagram_url %}
                        <a href="{{ instagram_url }}" target="_blank" class="footer-link">
                            <i class="fab fa-instagram me-2"></i>Instagram
                        </a>
                        {% endif %}
                        {% if linkedin_url %}
                        <a href="{{ linkedin_url }}" target="_blank" class="footer-link">
                            <i class="fab fa-linkedin me-2"></i>LinkedIn
                        </a>
                        {% endif %}
                        {% if youtube_url %}
                        <a href="{{ youtube_url }}" target="_blank" class="footer-link">
                            <i class="fab fa-youtube me-2"></i>YouTube
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom text-center py-3">
                <p class="mb-0">&copy; 2025 Erisman@TI. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- CSRF Token -->
    {% csrf_token %}
    
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        // Inicializar AOS
        AOS.init({
            duration: 1000,
            once: true,
            offset: 100
        });
        
        // Smooth scrolling para links internos
        function scrollToSection(sectionId) {
            const target = document.querySelector(`#${sectionId}`);
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }
        
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                scrollToSection(targetId);
            });
        });
        
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 100) {
                navbar.style.background = 'rgba(255, 255, 255, 0.98)';
                navbar.style.boxShadow = '0 2px 30px rgba(0, 0, 0, 0.15)';
            } else {
                navbar.style.background = 'rgba(255, 255, 255, 0.98)';
                navbar.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.08)';
            }
        });
        
        // Contador animado para estatísticas
        function animateCounter(element, target, duration = 2000) {
            let start = 0;
            const increment = target / (duration / 16);
            
            function updateCounter() {
                start += increment;
                if (start < target) {
                    element.textContent = Math.floor(start);
                    requestAnimationFrame(updateCounter);
                } else {
                    element.textContent = target;
                }
            }
            
            updateCounter();
        }
        
        // Observar quando as estatísticas entram na viewport
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const statNumbers = entry.target.querySelectorAll('.stat-number');
                    statNumbers.forEach(stat => {
                        const target = parseInt(stat.getAttribute('data-count'));
                        animateCounter(stat, target);
                    });
                    observer.unobserve(entry.target);
                }
            });
        });
        
        const heroSection = document.querySelector('.hero-section');
        if (heroSection) {
            observer.observe(heroSection);
        }
        
        // Adicionar efeitos de hover nos cards
        document.querySelectorAll('.feature-card, .community-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
        
        // Adicionar efeito de parallax suave no scroll
        window.addEventListener('scroll', function() {
            const scrolled = window.pageYOffset;
            const parallaxElements = document.querySelectorAll('.hero-section, .cta-section');
            
            parallaxElements.forEach(element => {
                const speed = 0.5;
                element.style.transform = `translateY(${scrolled * speed}px)`;
            });
        });
        
        // Adicionar animação de loading para imagens
        document.querySelectorAll('img').forEach(img => {
            img.addEventListener('load', function() {
                this.classList.add('slide-in-up');
            });
        });
        
        // Melhorar acessibilidade do teclado
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Tab') {
                document.body.classList.add('keyboard-navigation');
            }
        });
        
        document.addEventListener('mousedown', function() {
            document.body.classList.remove('keyboard-navigation');
        });
        

        
        // Função para obter CSRF token
        function getCsrfToken() {
            return document.querySelector('[name=csrfmiddlewaretoken]')?.value || 
                   document.querySelector('meta[name="csrf-token"]')?.getAttribute('content') ||
                   '';
        }
        
        // Feed Carrossel Functionality (comentado para evitar conflitos)
        /*
        document.addEventListener('DOMContentLoaded', function() {
            const feedCarousel = document.getElementById('feedCarousel');
            const prevBtn = document.getElementById('prevFeedBtn');
            const nextBtn = document.getElementById('nextFeedBtn');
            const indicators = document.querySelectorAll('#feedIndicators .indicator-btn');
            
            if (!feedCarousel) return;
            
            let currentSlide = 0;
            const totalSlides = document.querySelectorAll('.feed-item').length;
            
            // Atualizar indicadores baseado no número real de posts
            updateIndicators();
            
            // Inicializar carrossel - mostrar apenas o primeiro post
            if (totalSlides > 0) {
                updateCarousel();
            }
            
            // Função para atualizar o carrossel
            function updateCarousel() {
                // Atualizar estado ativo dos itens (estilo Instagram - um por vez)
                document.querySelectorAll('.feed-item').forEach((item, index) => {
                    if (index === currentSlide) {
                        item.style.display = 'flex';
                        item.classList.add('active');
                    } else {
                        item.style.display = 'none';
                        item.classList.remove('active');
                    }
                });
                
                // Atualizar estado dos botões
                if (prevBtn) {
                    prevBtn.disabled = currentSlide === 0;
                }
                if (nextBtn) {
                    nextBtn.disabled = currentSlide === totalSlides - 1;
                }
                
                // Atualizar indicadores
                updateIndicatorStates();
                
                console.log(`Feed: Slide ${currentSlide + 1} de ${totalSlides} ativado`);
            }
            
            // Função para atualizar indicadores
            function updateIndicators() {
                const indicatorsContainer = document.getElementById('feedIndicators');
                if (!indicatorsContainer) return;
                
                // Limpar indicadores existentes
                indicatorsContainer.innerHTML = '';
                
                // Criar indicadores baseados no número de posts
                for (let i = 0; i < totalSlides; i++) {
                    const indicator = document.createElement('button');
                    indicator.className = 'indicator-btn';
                    indicator.setAttribute('data-slide', i);
                    indicator.setAttribute('aria-label', `Ir para post ${i + 1}`);
                    
                    const dot = document.createElement('span');
                    dot.className = 'indicator-dot';
                    indicator.appendChild(dot);
                    
                    // Adicionar evento de clique
                    indicator.addEventListener('click', () => {
                        goToSlide(i);
                    });
                    
                    indicatorsContainer.appendChild(indicator);
                }
                
                // Atualizar referências dos indicadores
                updateIndicatorStates();
            }
            
            // Função para atualizar estado dos indicadores
            function updateIndicatorStates() {
                const indicators = document.querySelectorAll('#feedIndicators .indicator-btn');
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentSlide);
                });
            }
            
            // Função para ir para um slide específico
            function goToSlide(slideIndex) {
                if (slideIndex >= 0 && slideIndex < totalSlides) {
                    currentSlide = slideIndex;
                    updateCarousel();
                }
            }
            
            // Event listeners para os botões de navegação
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    if (currentSlide > 0) {
                        currentSlide--;
                        updateCarousel();
                    }
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    if (currentSlide < totalSlides - 1) {
                        currentSlide++;
                        updateCarousel();
                    }
                });
            }
            
            // Navegação por teclado
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft' && currentSlide > 0) {
                    currentSlide--;
                    updateCarousel();
                } else if (e.key === 'ArrowRight' && currentSlide < totalSlides - 1) {
                    currentSlide++;
                    updateCarousel();
                }
            });
            
            // Suporte para touch/swipe em dispositivos móveis
            let touchStartX = 0;
            let touchEndX = 0;
            let isDragging = false;
            
            feedCarousel.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
                isDragging = true;
            });
            
            feedCarousel.addEventListener('touchmove', (e) => {
                if (isDragging) {
                    e.preventDefault();
                }
            });
            
            feedCarousel.addEventListener('touchend', (e) => {
                if (isDragging) {
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe();
                    isDragging = false;
                }
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = touchStartX - touchEndX;
                
                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        // Swipe para esquerda - próximo slide
                        if (currentSlide < totalSlides - 1) {
                            currentSlide++;
                            updateCarousel();
                        }
                    } else {
                        // Swipe para direita - slide anterior
                        if (currentSlide > 0) {
                            currentSlide--;
                            updateCarousel();
                        }
                    }
                }
            }
            
            // Auto-play opcional (descomente se quiser)
            // let autoPlayInterval = setInterval(() => {
            //     if (currentSlide < totalSlides - 1) {
            //         currentSlide++;
            //     } else {
            //         currentSlide = 0;
            //     }
            //     updateCarousel();
            // }, 5000);
            
            // Pausar auto-play no hover
            // feedCarousel.addEventListener('mouseenter', () => {
            //     clearInterval(autoPlayInterval);
            // });
            
            // Inicializar carrossel
            updateCarousel();
            
            // Adicionar animações aos itens
            document.querySelectorAll('.feed-item').forEach((item, index) => {
                item.style.animationDelay = `${index * 0.1}s`;
                item.classList.add('animate__animated', 'animate__fadeInUp');
            });
            
            // Funcionalidade dos botões de like com AJAX
            document.querySelectorAll('.like-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const postId = this.getAttribute('data-post-id');
                    const icon = this.querySelector('i');
                    const likeCount = this.closest('.feed-interaction-area').querySelector('.like-count');
                    
                    // Desabilitar botão temporariamente
                    this.style.pointerEvents = 'none';
                    
                    // Fazer chamada AJAX
                    fetch(`/core/posts/${postId}/like/`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRFToken': getCsrfToken(),
                            'X-Requested-With': 'XMLHttpRequest'
                        }
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            // Atualizar interface usando a função dedicada
                            updateLikesCount(postId, data.likes_count, data.liked);
                            
                            // Mostrar toast de feedback
                            showToast(data.message, 'success');
                        } else {
                            showToast(data.message || 'Erro ao processar like', 'error');
                        }
                    })
                    .catch(error => {
                        console.error('Erro:', error);
                    })
                    .finally(() => {
                        // Reabilitar botão
                        this.style.pointerEvents = 'auto';
                    });
                });
            });
            
            // Funcionalidade dos botões de comentário
            document.querySelectorAll('.comment-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const postId = this.getAttribute('data-post-id');
                    const commentInput = document.querySelector(`.comment-input[data-post-id="${postId}"]`);
                    if (commentInput) {
                    commentInput.focus();
                    }
                });
            });
            
            // Funcionalidade dos botões de compartilhamento
            document.querySelectorAll('.share-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const postId = this.getAttribute('data-post-id');
                    const icon = this.querySelector('i');
                    const originalIcon = icon.className;
                            
                            // Animação visual
                            icon.className = 'fas fa-check';
                            this.style.color = '#28a745';
                            
                            setTimeout(() => {
                                icon.className = originalIcon;
                                this.style.color = '';
                            }, 2000);
                });
            });
            
            // Funcionalidade dos botões de opções
            document.querySelectorAll('.feed-actions .action-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    console.log('Opções do post');
                });
            });
            
            // Funcionalidade para envio de comentários
            document.querySelectorAll('.comment-form').forEach(form => {
                const commentInput = form.querySelector('.comment-input');
                const emojiBtn = form.querySelector('.emoji-btn');
                const commentName = form.querySelector('.comment-name');
                const postId = commentInput.getAttribute('data-post-id') || emojiBtn.getAttribute('data-post-id');
                
                if (!postId) return;
                
                // Função para enviar comentário
                function submitComment() {
                    const conteudo = commentInput.value.trim();
                    const nomeUsuario = commentName ? commentName.value.trim() : '';
                    
                    if (!conteudo) {
                        showToast('Por favor, digite um comentário', 'warning');
                        return;
                    }
                    
                    if (conteudo.length < 3) {
                        showToast('Comentário deve ter pelo menos 3 caracteres', 'warning');
                        return;
                    }
                    
                    // Desabilitar inputs durante o envio
                    commentInput.disabled = true;
                    if (commentName) commentName.disabled = true;
                    emojiBtn.disabled = true;
                    
                    // Preparar dados para envio
                    const formData = new FormData();
                    formData.append('conteudo', conteudo);
                    if (nomeUsuario) {
                        formData.append('nome_usuario', nomeUsuario);
                    }
                    
                    // Enviar comentário via AJAX
                    fetch(`/core/posts/${postId}/comment/`, {
                        method: 'POST',
                        headers: {
                            'X-CSRFToken': getCsrfToken(),
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        body: formData
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            // Limpar inputs
                            commentInput.value = '';
                            if (commentName) commentName.value = '';
                            
                            // Adicionar comentário à interface
                            addCommentToInterface(postId, data.comment);
                            
                            // Atualizar contador de comentários
                            updateCommentsCount(postId, data.comments_count);
                            
                            showToast('Comentário enviado com sucesso!', 'success');
                        } else {
                            showToast(data.message || 'Erro ao enviar comentário', 'error');
                        }
                    })
                    .catch(error => {
                        console.error('Erro ao enviar comentário:', error);
                        showToast('Erro ao enviar comentário. Tente novamente.', 'error');
                    })
                    .finally(() => {
                        // Reabilitar inputs
                        commentInput.disabled = false;
                        if (commentName) commentName.disabled = false;
                        emojiBtn.disabled = false;
                        commentInput.focus();
                    });
                }
                
                // Event listener para envio com Enter
                commentInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        submitComment();
                    }
                });
                
                // Event listener para o botão de emoji (que agora envia o comentário)
                emojiBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    submitComment();
                });
            });
            
            // Funcionalidade para visualizar todos os comentários
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('view-all-comments')) {
                    e.preventDefault();
                    const postId = e.target.getAttribute('data-post-id');
                    loadAllComments(postId);
                }
            });
            
            // Função para carregar todos os comentários
            function loadAllComments(postId) {
                fetch(`/core/posts/${postId}/comments/`, {
                    method: 'GET',
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest'
                    }
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        showCommentsModal(postId, data.comments, data.comments_count);
                    } else {
                        showToast('Erro ao carregar comentários: ' + data.message, 'error');
                    }
                })
                .catch(error => {
                    console.error('Erro ao carregar comentários:', error);
                    showToast('Erro ao carregar comentários', 'error');
                });
            }
            
            // Função para mostrar modal com todos os comentários
            function showCommentsModal(postId, comments, totalCount) {
                // Remover modal existente
                const existingModal = document.querySelector('.comments-modal');
                if (existingModal) {
                    existingModal.remove();
                }
                
                // Criar modal
                const modal = document.createElement('div');
                modal.className = 'comments-modal';
                modal.innerHTML = `
                    <div class="comments-modal-overlay">
                        <div class="comments-modal-content">
                            <div class="comments-modal-header">
                                <h3>Comentários (${totalCount})</h3>
                                <button class="comments-modal-close">&times;</button>
                            </div>
                            <div class="comments-modal-body">
                                ${comments.map(comment => `
                                    <div class="modal-comment-item">
                                        <div class="modal-comment-header">
                                            <strong>${comment.usuario_nome}</strong>
                                            <span class="modal-comment-time">${comment.tempo_relativo}</span>
                                        </div>
                                        <div class="modal-comment-content">${comment.conteudo}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
                
                // Adicionar ao body
                document.body.appendChild(modal);
                
                // Event listeners
                const closeBtn = modal.querySelector('.comments-modal-close');
                const overlay = modal.querySelector('.comments-modal-overlay');
                
                closeBtn.addEventListener('click', () => modal.remove());
                overlay.addEventListener('click', (e) => {
                    if (e.target === overlay) modal.remove();
                });
                
                // Fechar com ESC
                document.addEventListener('keydown', function closeOnEsc(e) {
                    if (e.key === 'Escape') {
                        modal.remove();
                        document.removeEventListener('keydown', closeOnEsc);
                    }
                });
            }
            
            // Função para adicionar comentário à interface
            function addCommentToInterface(postId, commentData) {
                console.log(`Adicionando comentário à interface para post ${postId}:`, commentData);
                
                const commentsContainer = document.getElementById(`comments-${postId}`);
                if (!commentsContainer) {
                    console.log(`Container de comentários não encontrado para post ${postId}`);
                    return;
                }
                
                const commentsPreview = commentsContainer.querySelector('.comments-preview');
                if (!commentsPreview) {
                    console.log(`Preview de comentários não encontrado para post ${postId}`);
                    return;
                }
                
                // Remover mensagem de "nenhum comentário"
                const noCommentsMsg = commentsPreview.querySelector('.no-comments');
                if (noCommentsMsg) {
                    noCommentsMsg.remove();
                    console.log('Mensagem de "nenhum comentário" removida');
                }
                
                // Criar novo comentário com estilo inline para garantir visibilidade
                const commentItem = document.createElement('div');
                commentItem.className = 'comment-item';
                commentItem.style.cssText = 'background: #f5f5f5; margin: 5px 0; padding: 8px; border-radius: 5px; border-left: 3px solid #007bff; display: block !important; visibility: visible !important; opacity: 1 !important; color: #000000;';
                
                // Usar o nome do usuário correto baseado na estrutura dos dados
                const userName = commentData.usuario_nome || commentData.nome_usuario || commentData.author_name || 'Usuário';
                commentItem.innerHTML = `<strong>${userName}:</strong> ${commentData.conteudo}`;
                
                // Adicionar ao início da lista
                commentsPreview.insertBefore(commentItem, commentsPreview.firstChild);
                console.log('Novo comentário adicionado à interface');
                
                // Remover comentários antigos se houver mais de 5
                const commentItems = commentsPreview.querySelectorAll('.comment-item:not(.no-comments)');
                if (commentItems.length > 5) {
                    // Manter apenas os 5 mais recentes
                    for (let i = 5; i < commentItems.length; i++) {
                        commentItems[i].remove();
                    }
                    console.log('Comentários antigos removidos para manter limite de 5');
                    
                    // Adicionar link "Ver todos" se não existir
                    if (!commentsPreview.querySelector('.view-all-comments')) {
                        const viewAllLink = document.createElement('a');
                        viewAllLink.href = '#';
                        viewAllLink.className = 'view-all-comments';
                        viewAllLink.setAttribute('data-post-id', postId);
                        viewAllLink.textContent = 'Ver todos os comentários';
                        viewAllLink.style.cssText = 'color: #007bff; text-decoration: none; font-size: 14px; display: block !important;';
                        commentsPreview.appendChild(viewAllLink);
                        console.log('Link "Ver todos" adicionado');
                    }
                }
                
                // Forçar reflow para garantir que o comentário seja visível
                commentsContainer.offsetHeight;
                
                // Atualizar contador de comentários imediatamente
                const currentCount = commentsPreview.querySelectorAll('.comment-item:not(.no-comments)').length;
                updateCommentsCount(postId, currentCount);
                
                console.log('Comentário adicionado e visível na interface');
            }
            
            // Função para atualizar contador de comentários
            function updateCommentsCount(postId, newCount) {
                console.log(`Atualizando contador de comentários para post ${postId}: ${newCount}`);
                
                const postElement = document.querySelector(`[data-post-id="${postId}"]`);
                if (!postElement) {
                    console.error(`Post ${postId} não encontrado para atualizar comentários!`);
                    return;
                }
                
                // Atualizar contador no botão de comentários se existir
                const commentBtn = postElement.querySelector('.comment-btn');
                if (commentBtn) {
                    const countSpan = commentBtn.querySelector('.comments-count');
                    if (countSpan) {
                        countSpan.textContent = newCount;
                        console.log(`Contador do botão de comentários atualizado: ${newCount}`);
                    }
                }
                
                // Atualizar link "Ver todos" nos comentários se existir
                const commentsContainer = document.getElementById(`comments-${postId}`);
                if (commentsContainer) {
                    const commentsPreview = commentsContainer.querySelector('.comments-preview');
                    if (commentsPreview) {
                        const viewAllLink = commentsPreview.querySelector('.view-all-comments');
                        if (viewAllLink) {
                            viewAllLink.textContent = `Ver todos os ${newCount} comentários`;
                            console.log(`Link "Ver todos" atualizado: ${newCount} comentários`);
                        } else if (newCount > 5) {
                            const newViewAllLink = document.createElement('a');
                            newViewAllLink.href = '#';
                            newViewAllLink.className = 'view-all-comments';
                            newViewAllLink.setAttribute('data-post-id', postId);
                            newViewAllLink.textContent = `Ver todos os ${newCount} comentários`;
                            newViewAllLink.style.cssText = 'color: #007bff; text-decoration: none; font-size: 14px; display: block !important; cursor: pointer;';
                            commentsPreview.appendChild(newViewAllLink);
                            console.log(`Novo link "Ver todos" criado para ${newCount} comentários`);
                        }
                    }
                }
                
                // Forçar reflow para garantir que as mudanças sejam visíveis
                postElement.offsetHeight;
                console.log(`Contador de comentários atualizado com sucesso para post ${postId}: ${newCount}`);
                    }
                }
            }
            
            // Função para atualizar contador de likes
            function updateLikesCount(postId, newCount, isLiked) {
                console.log(`Atualizando likes para post ${postId}: ${newCount}, liked: ${isLiked}`);
                
                // Atualizar todos os elementos relacionados ao post
                const postElement = document.querySelector(`[data-post-id="${postId}"]`);
                if (!postElement) {
                    console.error(`Post ${postId} não encontrado!`);
                    return;
                }
                
                // Atualizar botão de like
                const likeBtn = postElement.querySelector('.like-btn');
                if (likeBtn) {
                    // Atualizar estado visual do botão
                    const icon = likeBtn.querySelector('i');
                    if (icon) {
                        if (isLiked) {
                            icon.classList.remove('far');
                            icon.classList.add('fas');
                            likeBtn.classList.add('liked');
                            console.log('Botão de like marcado como curtido');
                        } else {
                            icon.classList.remove('fas');
                            icon.classList.add('far');
                            likeBtn.classList.remove('liked');
                            console.log('Botão de like marcado como não curtido');
                        }
                    }
                    
                    // Atualizar contador no botão de like
                    const countSpan = likeBtn.querySelector('.likes-count');
                    if (countSpan) {
                        countSpan.textContent = newCount;
                        console.log(`Contador do botão de like atualizado: ${newCount}`);
                    }
                }
                
                // Atualizar contador na área de likes (texto "X curtidas")
                const likesCountElements = postElement.querySelectorAll('.likes-count');
                likesCountElements.forEach(element => {
                    // Verificar se é o contador de texto (não o do botão)
                    if (!element.closest('.like-btn')) {
                        const countSpan = element.querySelector('span');
                        if (countSpan) {
                            countSpan.textContent = newCount;
                            console.log(`Contador de likes de texto atualizado: ${newCount}`);
                        }
                    }
                });
                
                // Atualizar contador no botão de comentários se existir
                const commentBtn = postElement.querySelector('.comment-btn');
                if (commentBtn) {
                    const countSpan = commentBtn.querySelector('.comments-count');
                    if (countSpan) {
                        // Manter o contador de comentários inalterado
                        console.log('Contador de comentários mantido inalterado');
                    }
                }
                
                // Forçar reflow para garantir que as mudanças sejam visíveis
                postElement.offsetHeight;
                console.log(`Likes atualizados com sucesso para post ${postId}: ${newCount}`);
            }
            
                    

        // Função para mostrar toast notifications
        function showToast(message, type = 'info') {
                // Remover toast existente
                const existingToast = document.querySelector('.toast-notification');
                if (existingToast) {
                    existingToast.remove();
                }
                
                // Criar novo toast
                const toast = document.createElement('div');
                toast.className = `toast-notification toast-${type}`;
                toast.innerHTML = `
                    <div class="toast-content">
                        <span class="toast-message">${message}</span>
                        <button class="toast-close">&times;</button>
                    </div>
                `;
                
                // Adicionar estilos
                toast.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${type === 'success' ? '#28a745' : type === 'error' ? '#dc3545' : type === 'warning' ? '#ffc107' : '#17a2b8'};
                    color: white;
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    z-index: 10000;
                    max-width: 400px;
                    animation: slideInRight 0.3s ease-out;
                `;
                
                // Adicionar ao body
                document.body.appendChild(toast);
                
                // Event listener para fechar
                const closeBtn = toast.querySelector('.toast-close');
                closeBtn.addEventListener('click', () => {
                    toast.remove();
                });
                
                // Auto-remover após 5 segundos
                    setTimeout(() => {
                        if (toast.parentNode) {
                            toast.remove();
                        }
                }, 5000);
            }
            
            // Adicionar animação para toast
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
            `;
            document.head.appendChild(style);
            
        */
        
        // ===== CARROSSEL DE NOTÍCIAS DA AASJUR =====
        const aasjurNewsCarousel = document.getElementById('aasjurNewsCarousel');
            const prevNewsBtn = document.getElementById('prevNewsBtn');
            const nextNewsBtn = document.getElementById('nextNewsBtn');
            
            let currentNewsSlide = 0;
            let totalNewsSlides = 0;
            
            // Função para inicializar carrossel estático (quando não há dados dinâmicos)
            function initializeStaticCarousel() {
                const items = document.querySelectorAll('.newspaper-item');
                const indicators = document.querySelectorAll('.news-indicator');
                
                if (items.length > 0) {
                    // Esconder todos os slides
                    items.forEach((item, index) => {
                        item.style.display = 'none';
                        item.classList.remove('active');
                    });
                    
                    // Mostrar apenas o primeiro slide
                    items[0].style.display = 'block';
                    items[0].classList.add('active');
                    
                    // Atualizar indicadores
                    indicators.forEach((indicator, index) => {
                        indicator.classList.toggle('active', index === 0);
                    });
                    
                    // Configurar variáveis globais
                    currentNewsSlide = 0;
                    totalNewsSlides = items.length;
                    
                    // Atualizar controles
                    if (prevNewsBtn) prevNewsBtn.disabled = true; // Primeiro slide
                    if (nextNewsBtn) nextNewsBtn.disabled = items.length <= 1;
                    
                    console.log('Carrossel estático inicializado com', items.length, 'slides');
                }
            }
            
            // Função para atualizar o carrossel de notícias
            function updateNewsCarousel() {
        console.log('DEBUG: updateNewsCarousel chamada');
        console.log('DEBUG: newsData:', newsData);
        
        const carouselTrack = document.querySelector('.news-carousel-track');
        const indicatorsContainer = document.querySelector('.news-carousel-indicators');
        
        if (!carouselTrack || !indicatorsContainer) {
            console.error('DEBUG: Elementos do carrossel não encontrados');
            return;
        }
        
        // Se não há dados, manter o HTML estático
        if (newsData.length === 0) {
            console.log('DEBUG: Nenhuma notícia para exibir, mantendo HTML estático');
            return;
        }
        
        // Limpar carrossel existente
        carouselTrack.innerHTML = '';
        indicatorsContainer.innerHTML = '';
        
        // Ordenar notícias por destaque, ordem de exibição e data (mais recentes primeiro)
        const sortedNews = newsData
            .sort((a, b) => {
                if (a.destaque !== b.destaque) return b.destaque - a.destaque;
                if (a.ordem_exibicao !== b.ordem_exibicao) return b.ordem_exibicao - a.ordem_exibicao;
                return new Date(b.data) - new Date(a.data);
            })
            .slice(0, 10);
        
        console.log('DEBUG: Notícias ordenadas para carrossel:', sortedNews);
        
        // Criar slides do carrossel (estilo Instagram - um por vez)
        sortedNews.forEach((news, index) => {
            const newsItem = document.createElement('div');
            newsItem.className = 'newspaper-item';
            // Apenas o primeiro slide fica visível inicialmente
            newsItem.style.display = index === 0 ? 'block' : 'none';
            if (index === 0) {
                newsItem.classList.add('active');
            }
            newsItem.setAttribute('data-news-id', news.id);
            
<<<<<<< HEAD
            // Construir HTML da imagem
            const imageHtml = news.imagem ? 
                `<div class="news-image">
                    <img src="${news.imagem}" alt="${news.titulo}" class="img-fluid rounded">
                </div>` : 
                `<div class="news-image-placeholder">
                    <i class="${news.icone} fa-3x"></i>
                </div>`;

=======
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
            newsItem.innerHTML = `
                <div class="news-header">
                    <i class="${news.icone}"></i>
                    <span class="news-category">${news.categoria}</span>
                    ${isAdmin ? `
                        <div class="news-item-actions">
                            <button type="button" class="btn btn-sm btn-outline-primary edit-news-btn" onclick="editNews(${news.id})" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-danger delete-news-btn" onclick="deleteNews(${news.id})" title="Excluir">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    ` : ''}
                </div>
<<<<<<< HEAD
                ${imageHtml}
=======
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
                <h4 class="news-title">${news.titulo}</h4>
                <p class="news-excerpt">${news.resumo}</p>
                <div class="news-meta">
                    <span class="news-date">${formatDateForDisplay(news.data)}</span>
<<<<<<< HEAD
                    <span class="news-link" style="cursor: pointer;" onclick="showNewsModal(${news.id}, '${news.titulo}', '${news.categoria}', '${formatDateForDisplay(news.data)}', '${news.conteudo || news.resumo}', '${news.link || ''}', '${news.imagem || ''}')">Ler mais</span>
=======
                    <span class="news-link" style="cursor: pointer;" onclick="showNewsModal(${news.id}, '${news.titulo}', '${news.categoria}', '${formatDateForDisplay(news.data)}', '${news.conteudo || news.resumo}', '${news.link || ''}')">Ler mais</span>
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
                </div>
            `;
            
            carouselTrack.appendChild(newsItem);
            
            // Criar indicador
            const indicator = document.createElement('button');
            indicator.className = `news-indicator ${index === 0 ? 'active' : ''}`;
            indicator.setAttribute('data-slide', index);
            indicator.addEventListener('click', () => {
                goToNewsSlide(index);
            });
            
            indicatorsContainer.appendChild(indicator);
        });
        
        // Atualizar variáveis globais
        currentNewsSlide = 0;
        totalNewsSlides = sortedNews.length;
        
        // Atualizar controles
        if (prevNewsBtn) prevNewsBtn.disabled = currentNewsSlide === 0;
        if (nextNewsBtn) nextNewsBtn.disabled = currentNewsSlide === totalNewsSlides - 1;
        
        console.log('DEBUG: Carrossel atualizado com sucesso - estilo Instagram');
    }
            
            // Função para ir para um slide específico com animação (estilo Instagram)
            function goToNewsSlide(slideIndex) {
                const totalSlides = document.querySelectorAll('.newspaper-item').length;
                if (slideIndex >= 0 && slideIndex < totalSlides) {
                    // Esconder todos os slides primeiro
                    document.querySelectorAll('.newspaper-item').forEach((item, index) => {
                        if (index === slideIndex) {
                            // Slide ativo
                            item.style.display = 'block';
                            item.classList.add('active');
                            item.classList.remove('prev', 'next');
                        } else {
                            // Esconder outros slides
                            item.style.display = 'none';
                            item.classList.remove('active', 'prev', 'next');
                        }
                    });
                    
                    currentNewsSlide = slideIndex;
                    
                    // Atualizar indicadores
                    document.querySelectorAll('.news-indicator').forEach((indicator, index) => {
                        indicator.classList.toggle('active', index === currentNewsSlide);
                    });
                    
                    // Atualizar estado dos botões
                    if (prevNewsBtn) prevNewsBtn.disabled = currentNewsSlide === 0;
                    if (nextNewsBtn) nextNewsBtn.disabled = currentNewsSlide === totalSlides - 1;
                    
                    console.log(`Slide ${slideIndex + 1} de ${totalSlides} ativado`);
                }
            }
            
            // Event listeners para controles
            if (prevNewsBtn) {
                prevNewsBtn.addEventListener('click', () => {
                    const totalSlides = document.querySelectorAll('.newspaper-item').length;
                    if (currentNewsSlide > 0) {
                        goToNewsSlide(currentNewsSlide - 1);
                    } else {
                        goToNewsSlide(totalSlides - 1);
                    }
                });
            }
            
            if (nextNewsBtn) {
                nextNewsBtn.addEventListener('click', () => {
                    const totalSlides = document.querySelectorAll('.newspaper-item').length;
                    if (currentNewsSlide < totalSlides - 1) {
                        goToNewsSlide(currentNewsSlide + 1);
                    } else {
                        goToNewsSlide(0);
                    }
                });
            }
            
            // Auto-play para o carrossel de notícias
            let newsAutoPlayInterval = setInterval(() => {
                const totalSlides = document.querySelectorAll('.newspaper-item').length;
                if (totalSlides > 1) {
                    if (currentNewsSlide < totalSlides - 1) {
                        goToNewsSlide(currentNewsSlide + 1);
                    } else {
                        goToNewsSlide(0);
                    }
                }
            }, 5000); // 5 segundos por slide
            
            // Pausar auto-play no hover
            if (aasjurNewsCarousel) {
                aasjurNewsCarousel.addEventListener('mouseenter', () => {
                    clearInterval(newsAutoPlayInterval);
                });
                
                aasjurNewsCarousel.addEventListener('mouseleave', () => {
                    newsAutoPlayInterval = setInterval(() => {
                        const totalSlides = document.querySelectorAll('.newspaper-item').length;
                        if (totalSlides > 1) {
                            if (currentNewsSlide < totalSlides - 1) {
                                goToNewsSlide(currentNewsSlide + 1);
                            } else {
                                goToNewsSlide(0);
                            }
                        }
                    }, 5000);
                });
            }
            
            // Inicializar carrossel de notícias
            console.log('Inicializando carrossel...');
            
            // Aguardar um pouco para garantir que o DOM esteja pronto
            setTimeout(() => {
                // Sincronizar dados com o Django primeiro
                syncNewsDataFromDjango();
                
                console.log('newsData após sincronização:', newsData);
                console.log('aasjurNewsCarousel:', document.getElementById('aasjurNewsCarousel'));
                
                // Verificar se precisa manter o limite de 10 notícias no carrossel
                maintainCarouselLimit();
                
                updateNewsCarousel();
                
                // Se não há dados dinâmicos, inicializar carrossel estático
                if (newsData.length === 0) {
                    initializeStaticCarousel();
                }
            }, 100);
            
            // Inicializar histórico de notícias
            loadHistoricoData();
            
            // Inicializar informativos
            updateInformativosList();
            
            // Verificar se o usuário é administrador para mostrar botões de edição
            const isAdmin = document.body.classList.contains('user-admin') || 
                           (typeof user !== 'undefined' && user.is_authenticated && user.tipo_usuario === 'administrador');
            
            if (isAdmin) {
                document.body.classList.add('user-admin');
                // Mostrar botões de administrador
                document.querySelectorAll('.news-item-actions').forEach(action => {
                    action.style.display = 'flex';
                });
            }
            
            // ===== FUNÇÕES PARA HISTÓRICO DE NOTÍCIAS =====
            
            // Função para carregar dados do histórico
            function loadHistoricoData() {
                const historicoList = document.getElementById('historicoList');
                if (!historicoList) return;
                
                displayHistoricoItems();
            }
            
            // Função para exibir itens do histórico
            function displayHistoricoItems(filteredData = null) {
                const historicoList = document.getElementById('historicoList');
                const loadMoreBtn = document.getElementById('loadMoreBtn');
                
                if (!historicoList) return;
                
                const dataToShow = filteredData || historicoData;
                const startIndex = (currentHistoricoPage - 1) * historicoPerPage;
                const endIndex = startIndex + historicoPerPage;
                const itemsToShow = dataToShow.slice(startIndex, endIndex);
                
                if (currentHistoricoPage === 1) {
                    historicoList.innerHTML = '';
                }
                
                if (itemsToShow.length === 0 && currentHistoricoPage === 1) {
                    historicoList.innerHTML = `
                        <div class="historico-empty">
                            <i class="fas fa-archive"></i>
                            <p>Nenhuma notícia arquivada encontrada.</p>
                        </div>
                    `;
                    loadMoreBtn.style.display = 'none';
                    return;
                }
                
                itemsToShow.forEach(item => {
                    const historicoItem = document.createElement('div');
                    historicoItem.className = 'historico-item';
                    historicoItem.setAttribute('data-id', item.id);
                    
                    historicoItem.innerHTML = `
                        <div class="historico-item-header">
                            <h6 class="historico-item-title">${item.title}</h6>
                            <span class="historico-item-date">${formatDateForDisplay(item.date)}</span>
                        </div>
                        <div class="historico-item-category">${item.category}</div>
                        <p class="historico-item-excerpt">${item.excerpt}</p>
                    `;
                    
                    historicoItem.addEventListener('click', () => {
                        showHistoricoDetails(item);
                    });
                    
                    historicoList.appendChild(historicoItem);
                });
                
                // Controlar botão "Carregar Mais"
                if (endIndex >= dataToShow.length) {
                    loadMoreBtn.style.display = 'none';
                } else {
                    loadMoreBtn.style.display = 'block';
                }
            }
            
            // Função para mostrar detalhes de uma notícia arquivada
            function showHistoricoDetails(item) {
                const modal = document.createElement('div');
                modal.className = 'modal fade';
                modal.innerHTML = `
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">
                                    <i class="${item.icon}"></i> ${item.title}
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <div class="mb-3">
                                    <span class="badge bg-primary">${item.category}</span>
                                    <span class="badge bg-secondary ms-2">Arquivada em ${formatDateForDisplay(item.archived_date)}</span>
                                </div>
                                <p><strong>Data original:</strong> ${formatDateForDisplay(item.date)}</p>
                                <p><strong>Resumo:</strong> ${item.excerpt}</p>
                                <p><strong>Prioridade:</strong> ${getPriorityLabel(item.priority)}</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-outline-info" onclick="restoreFromHistory(${item.id})">
                                    <i class="fas fa-undo"></i> Restaurar
                                </button>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                const bsModal = new bootstrap.Modal(modal);
                bsModal.show();
                
                modal.addEventListener('hidden.bs.modal', () => {
                    modal.remove();
                });
            }
            
            // Função para filtrar histórico
            window.filterHistory = function() {
                const categoryFilter = document.getElementById('historicoFilter').value;
                const monthFilter = document.getElementById('historicoMonth').value;
                
                let filteredData = historicoData;
                
                if (categoryFilter && categoryFilter !== 'all') {
                    filteredData = filteredData.filter(item => item.category === categoryFilter);
                }
                
                if (monthFilter) {
                    const [year, month] = monthFilter.split('-');
                    filteredData = filteredData.filter(item => {
                        const itemDate = new Date(item.date);
                        return itemDate.getFullYear() == year && (itemDate.getMonth() + 1) == month;
                    });
                }
                
                currentHistoricoPage = 1;
                displayHistoricoItems(filteredData);
            };
            
            // Função para carregar mais itens do histórico
            window.loadMoreHistory = function() {
                currentHistoricoPage++;
                displayHistoricoItems();
            };
            
            // Função para arquivar notícia atual
            window.archiveCurrentNews = function() {
                if (newsData.length === 0) {
                    showToast('Nenhuma notícia para arquivar', 'warning');
                    return;
                }
                
                const currentNews = newsData[currentNewsSlide];
                
                // Confirmar arquivamento
                if (confirm(`Deseja arquivar a notícia "${currentNews.titulo}"?`)) {
                    // Adicionar ao histórico
                    const archivedNews = {
                        ...currentNews,
                        archived_date: new Date().toISOString().split('T')[0],
                        status: 'archived'
                    };
                    
                    historicoData.unshift(archivedNews);
                    
                    // Remover das notícias ativas
                    newsData.splice(newsData.findIndex(n => n.id === currentNews.id), 1);
                    
                    // Atualizar interface
                    updateNewsCarousel();
                    loadHistoricoData();
                    
                    showToast('Notícia arquivada com sucesso!', 'success');
                }
            };
            
            // Função para manter apenas as 6 notícias mais recentes no carrossel
            function maintainCarouselLimit() {
                if (newsData.length > 6) {
                    // Ordenar por destaque, ordem de exibição e data
                    newsData.sort((a, b) => {
                        if (a.destaque !== b.destaque) return b.destaque - a.destaque;
                        if (a.ordem_exibicao !== b.ordem_exibicao) return b.ordem_exibicao - a.ordem_exibicao;
                        return new Date(b.data) - new Date(a.data);
                    });
                    
                    // Pegar as 6 mais relevantes
                    const keepNews = newsData.slice(0, 6);
                    
                    // Mover as notícias antigas para o histórico
                    const oldNews = newsData.slice(6);
                    oldNews.forEach(news => {
                        const archivedNews = {
                            ...news,
                            archived_date: new Date().toISOString().split('T')[0],
                            status: 'archived'
                        };
                        historicoData.unshift(archivedNews);
                    });
                    
                    // Manter apenas as 6 mais relevantes
                    newsData.splice(0, newsData.length, ...keepNews);
                    
                    // Atualizar interface
                    updateNewsCarousel();
                    loadHistoricoData();
                    
                    console.log(`${oldNews.length} notícias antigas movidas para o histórico`);
                }
            }
            
            // Função para restaurar notícia do histórico
            window.restoreFromHistory = function(id) {
                const historicoIndex = historicoData.findIndex(item => item.id === id);
                if (historicoIndex === -1) return;
                
                const newsToRestore = historicoData[historicoIndex];
                
                // Restaurar para notícias ativas
                const restoredNews = {
                    ...newsToRestore,
                    status: 'active',
                    date: new Date().toISOString().split('T')[0]
                };
                delete restoredNews.archived_date;
                
                newsData.push(restoredNews);
                
                // Verificar se precisa manter o limite de 6 notícias no carrossel
                maintainCarouselLimit();
                
                // Remover do histórico
                historicoData.splice(historicoIndex, 1);
                
                // Atualizar interface
                updateNewsCarousel();
                loadHistoricoData();
                
                // Fechar modal
                const modal = document.querySelector('.modal.show');
                if (modal) {
                    bootstrap.Modal.getInstance(modal).hide();
                }
                
                showToast('Notícia restaurada com sucesso!', 'success');
            };
            
            // Função para ver todo o histórico
            window.viewAllHistory = function() {
                const modal = new bootstrap.Modal(document.getElementById('viewHistoryModal') || createViewHistoryModal());
                modal.show();
            };
            
            // Função para criar modal de visualização do histórico
            function createViewHistoryModal() {
                const modal = document.createElement('div');
                modal.className = 'modal fade';
                modal.id = 'viewHistoryModal';
                modal.innerHTML = `
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">
                                    <i class="fas fa-history"></i> Histórico Completo de Notícias
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead class="table-dark">
                                            <tr>
                                                <th>Título</th>
                                                <th>Categoria</th>
                                                <th>Data Original</th>
                                                <th>Data Arquivamento</th>
                                                <th>Ações</th>
                                            </tr>
                                        </thead>
                                        <tbody id="fullHistoryTable">
                                            <!-- Dados serão carregados aqui -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                
                // Carregar dados na tabela
                const tbody = modal.querySelector('#fullHistoryTable');
                historicoData.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>
                            <strong>${item.title}</strong>
                            <br><small class="text-muted">${item.excerpt.substring(0, 60)}...</small>
                        </td>
                        <td><span class="badge bg-primary">${item.category}</span></td>
                        <td>${formatDateForDisplay(item.date)}</td>
                        <td>${formatDateForDisplay(item.archived_date)}</td>
                        <td>
                            <button class="btn btn-sm btn-outline-info" onclick="restoreFromHistory(${item.id})" title="Restaurar">
                                <i class="fas fa-undo"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-danger" onclick="deleteFromHistory(${item.id})" title="Excluir Permanentemente">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
                
                return modal;
            }
            
            // Função para excluir permanentemente do histórico
            window.deleteFromHistory = function(id) {
                if (confirm('Deseja excluir permanentemente esta notícia do histórico? Esta ação não pode ser desfeita.')) {
                    const index = historicoData.findIndex(item => item.id === id);
                    if (index !== -1) {
                        historicoData.splice(index, 1);
                        loadHistoricoData();
                        
                        // Atualizar modal se estiver aberto
                        const modal = document.getElementById('viewHistoryModal');
                        if (modal && modal.classList.contains('show')) {
                            modal.remove();
                            viewAllHistory();
                        }
                        
                        showToast('Notícia excluída permanentemente do histórico', 'success');
                    }
                }
            };
            
            // ===== FUNÇÕES PARA MODAL DE NOTÍCIAS =====
            
<<<<<<< HEAD
=======
            // Carrossel Instagram
            document.addEventListener('DOMContentLoaded', function() {
                const instagramCarousel = document.getElementById('instagramCarousel');
                const prevInstagramBtn = document.getElementById('prevInstagramBtn');
                const nextInstagramBtn = document.getElementById('nextInstagramBtn');
                const instagramIndicators = document.querySelectorAll('.instagram-indicator-btn');
                
                if (!instagramCarousel) return;
                
                let currentInstagramSlide = 0;
                const totalInstagramSlides = document.querySelectorAll('.instagram-post').length;
                
                function updateInstagramCarousel() {
                    // Esconder todos os posts
                    document.querySelectorAll('.instagram-post').forEach((post, index) => {
                        post.classList.remove('active');
                    });
                    
                    // Mostrar apenas o post ativo
                    const activePost = document.querySelectorAll('.instagram-post')[currentInstagramSlide];
                    if (activePost) {
                        activePost.classList.add('active');
                    }
                    
                    // Atualizar indicadores
                    instagramIndicators.forEach((indicator, index) => {
                        indicator.classList.toggle('active', index === currentInstagramSlide);
                    });
                    
                    // Atualizar estado dos botões
                    if (prevInstagramBtn) {
                        prevInstagramBtn.disabled = currentInstagramSlide === 0;
                    }
                    if (nextInstagramBtn) {
                        nextInstagramBtn.disabled = currentInstagramSlide === totalInstagramSlides - 1;
                    }
                }
                
                function goToInstagramSlide(slideIndex) {
                    if (slideIndex >= 0 && slideIndex < totalInstagramSlides) {
                        currentInstagramSlide = slideIndex;
                        updateInstagramCarousel();
                    }
                }
                
                // Event listeners para os botões de navegação
                if (prevInstagramBtn) {
                    prevInstagramBtn.addEventListener('click', () => {
                        if (currentInstagramSlide > 0) {
                            currentInstagramSlide--;
                            updateInstagramCarousel();
                        }
                    });
                }
                
                if (nextInstagramBtn) {
                    nextInstagramBtn.addEventListener('click', () => {
                        if (currentInstagramSlide < totalInstagramSlides - 1) {
                            currentInstagramSlide++;
                            updateInstagramCarousel();
                        }
                    });
                }
                
                // Event listeners para os indicadores
                instagramIndicators.forEach((indicator, index) => {
                    indicator.addEventListener('click', () => {
                        goToInstagramSlide(index);
                    });
                });
                
                // Navegação por teclado
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft' && currentInstagramSlide > 0) {
                        currentInstagramSlide--;
                        updateInstagramCarousel();
                    } else if (e.key === 'ArrowRight' && currentInstagramSlide < totalInstagramSlides - 1) {
                        currentInstagramSlide++;
                        updateInstagramCarousel();
                    }
                });
                
                // Suporte para touch/swipe em dispositivos móveis
                let touchStartX = 0;
                let touchEndX = 0;
                let isDragging = false;
                
                instagramCarousel.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                    isDragging = true;
                });
                
                instagramCarousel.addEventListener('touchmove', (e) => {
                    if (isDragging) {
                        e.preventDefault();
                    }
                });
                
                instagramCarousel.addEventListener('touchend', (e) => {
                    if (isDragging) {
                        touchEndX = e.changedTouches[0].screenX;
                        handleInstagramSwipe();
                        isDragging = false;
                    }
                });
                
                function handleInstagramSwipe() {
                    const swipeThreshold = 50;
                    const diff = touchStartX - touchEndX;
                    
                    if (Math.abs(diff) > swipeThreshold) {
                        if (diff > 0) {
                            // Swipe para esquerda - próximo slide
                            if (currentInstagramSlide < totalInstagramSlides - 1) {
                                currentInstagramSlide++;
                                updateInstagramCarousel();
                            }
                        } else {
                            // Swipe para direita - slide anterior
                            if (currentInstagramSlide > 0) {
                                currentInstagramSlide--;
                                updateInstagramCarousel();
                            }
                        }
                    }
                }
                
                // Inicializar carrossel Instagram
                updateInstagramCarousel();
            });
>>>>>>> c00fe10f4bf493986d435556591fabb7aae9e070
            
            // Função para carregar notícia no modal
            function loadNewsInModal(newsId) {
                console.log('DEBUG: Carregando notícia no modal:', newsId);
                console.log('DEBUG: newsData disponível:', newsData);
                
                // Encontrar a notícia nos dados
                const noticia = newsData.find(n => n.id == newsId);
                
                if (!noticia) {
                    console.error('Notícia não encontrada:', newsId);
                    return;
                }
                
                console.log('DEBUG: Notícia encontrada:', noticia);
                
                // Preencher o modal com os dados da notícia
                document.getElementById('modalNewsTitle').textContent = noticia.titulo;
                document.getElementById('modalNewsCategory').textContent = noticia.categoria;
                document.getElementById('modalNewsDate').textContent = formatDateForDisplay(noticia.data_publicacao || noticia.data);
                
                // Conteúdo da notícia
                const contentDiv = document.getElementById('modalNewsContent');
                contentDiv.innerHTML = `
                    <div class="news-full-content">
                        ${(noticia.resumo && noticia.resumo.trim() !== '') ? `<div class="news-summary mb-4">
                            <h5 class="text-primary">Resumo</h5>
                            <p class="lead">${noticia.resumo}</p>
                        </div>` : ''}
                        
                        ${(noticia.conteudo || noticia.content) ? `<div class="news-content">
                            <h5 class="text-primary">Conteúdo Completo</h5>
                            <div class="news-text">${noticia.conteudo || noticia.content}</div>
                        </div>` : ''}
                        
                        ${(noticia.tags && noticia.tags.trim() !== '') ? `<div class="news-tags mt-4">
                            <h6 class="text-muted">Tags:</h6>
                            <div class="tags-container">
                                ${noticia.tags.split(',').map(tag => 
                                    `<span class="badge bg-secondary me-1">${tag.trim()}</span>`
                                ).join('')}
                            </div>
                        </div>` : ''}
                    </div>
                `;
                
                // Mostrar imagem se existir
                const imageDiv = document.getElementById('modalNewsImage');
                const captionDiv = document.getElementById('modalNewsImageCaption');
                
                if (noticia.imagem && noticia.imagem.trim() !== '') {
                    const img = imageDiv.querySelector('img');
                    img.src = noticia.imagem;
                    img.alt = noticia.titulo;
                    imageDiv.style.display = 'block';
                    
                    if (noticia.imagem_legenda && noticia.imagem_legenda.trim() !== '') {
                        captionDiv.querySelector('span').textContent = noticia.imagem_legenda;
                        captionDiv.style.display = 'block';
                    } else {
                        captionDiv.style.display = 'none';
                    }
                } else {
                    imageDiv.style.display = 'none';
                    captionDiv.style.display = 'none';
                }
                
                // Gerenciar link externo se existir
                const modalExternalLink = document.getElementById('modalNewsExternalLink');
                if (noticia.link_externo && noticia.link_externo.trim() !== '') {
                    modalExternalLink.href = noticia.link_externo;
                    modalExternalLink.style.display = 'inline-block';
                } else {
                    modalExternalLink.style.display = 'none';
                }
                
                // Abrir o modal explicitamente
                const modal = new bootstrap.Modal(document.getElementById('newsDetailModal'));
                modal.show();
                
                console.log('DEBUG: Modal aberto com sucesso');
            }
            
            // Função para abrir modal de notícia (método simplificado)
            window.openNoticiaModal = function(noticiaId) {
                console.log('DEBUG: Abrindo modal para notícia ID:', noticiaId);
                
                // Buscar notícia nos dados carregados
                const noticia = newsData.find(n => n.id == noticiaId);
                
                if (!noticia) {
                    console.error('Notícia não encontrada:', noticiaId);
                    // Tentar buscar diretamente do DOM
                    const noticiaElement = document.querySelector(`[data-news-id="${noticiaId}"]`);
                    if (noticiaElement) {
                        // Extrair dados do elemento DOM
                        const parentArticle = noticiaElement.closest('.newspaper-article');
                        if (parentArticle) {
                            const titulo = parentArticle.querySelector('.article-headline')?.textContent || 'Sem título';
                            const categoria = parentArticle.querySelector('.article-category')?.textContent || 'Sem categoria';
                            const data = parentArticle.querySelector('.article-date')?.textContent || new Date().toLocaleDateString('pt-BR');
                            const conteudo = parentArticle.querySelector('.lead-text')?.textContent || 'Sem conteúdo disponível';
                            
                            showNewsModal(noticiaId, titulo, categoria, data, conteudo, '', '', '');
                            return;
                        }
                    }
                    alert('Não foi possível carregar a notícia. Tente novamente.');
                    return;
                }
                
                // Usar a função showNewsModal existente
                const imageUrl = noticia.imagem || '';
                const imageCaption = noticia.imagem_legenda || '';
                const linkExterno = noticia.link_externo || noticia.link || '';
                const conteudo = noticia.conteudo || noticia.content || noticia.resumo || '';
                const data = formatDateForDisplay(noticia.data_publicacao || noticia.data);
                
                showNewsModal(
                    noticia.id,
                    noticia.titulo,
                    noticia.categoria,
                    data,
                    conteudo,
                    linkExterno,
                    imageUrl,
                    imageCaption
                );
            };
            
            // Links agora redirecionam diretamente para a página de detalhes
            
            // ===== FUNÇÕES PARA INFORMATIVOS =====
            
            // Função para atualizar lista de informativos
            function updateInformativosList() {
                const informativosList = document.getElementById('informativosList');
                if (!informativosList) return;
                
                informativosList.innerHTML = '';
                
                informativosData.filter(info => info.active).forEach(informativo => {
                    const informativoItem = document.createElement('div');
                    informativoItem.className = 'informativo-item';
                    informativoItem.setAttribute('data-informativo-id', informativo.id);
                    
                    informativoItem.innerHTML = `
                        <div class="informativo-icon" style="background: linear-gradient(135deg, ${informativo.color}, #ff8c42)">
                            <i class="${informativo.icon}"></i>
                        </div>
                        <div class="informativo-content">
                            <h5>${informativo.title}</h5>
                            <p>${informativo.content}</p>
                            <div class="informativo-actions">
                                <button class="btn btn-sm btn-outline-primary" onclick="editInformativoItem(${informativo.id})" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteInformativo(${informativo.id})" title="Excluir">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    `;
                    
                    informativosList.appendChild(informativoItem);
                });
            }
            
            // Função para adicionar novo informativo
            window.addNewInformativo = function() {
                const modal = new bootstrap.Modal(document.getElementById('addInformativoModal') || createAddInformativoModal());
                modal.show();
            };
            
            // Função para criar modal de adicionar informativo
            function createAddInformativoModal() {
                const modal = document.createElement('div');
                modal.className = 'modal fade';
                modal.id = 'addInformativoModal';
                modal.innerHTML = `
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">
                                    <i class="fas fa-plus"></i> Novo Informativo
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <form id="addInformativoForm">
                                    <div class="mb-3">
                                        <label for="new_info_title" class="form-label">Título</label>
                                        <input type="text" class="form-control" id="new_info_title" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="new_info_content" class="form-label">Conteúdo</label>
                                        <textarea class="form-control" id="new_info_content" rows="3" required></textarea>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="new_info_icon" class="form-label">Ícone</label>
                                                <select class="form-select" id="new_info_icon" required>
                                                    <option value="">Selecione um ícone</option>
                                                    <option value="fas fa-exclamation-triangle">⚠️ Alerta</option>
                                                    <option value="fas fa-clock">🕐 Relógio</option>
                                                    <option value="fas fa-phone">📞 Telefone</option>
                                                    <option value="fas fa-envelope">✉️ Email</option>
                                                    <option value="fas fa-map-marker-alt">📍 Localização</option>
                                                    <option value="fas fa-calendar">📅 Calendário</option>
                                                    <option value="fas fa-info-circle">ℹ️ Informação</option>
                                                    <option value="fas fa-bell">🔔 Notificação</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="new_info_priority" class="form-label">Prioridade</label>
                                                <select class="form-select" id="new_info_priority" required>
                                                    <option value="low">Baixa</option>
                                                    <option value="medium">Média</option>
                                                    <option value="high">Alta</option>
                                                    <option value="urgent">Urgente</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="new_info_color" class="form-label">Cor do Ícone</label>
                                        <input type="color" class="form-control form-control-color" id="new_info_color" value="#3498db">
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button type="button" class="btn btn-success" onclick="saveNewInformativo()">
                                    <i class="fas fa-save"></i> Salvar
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                return modal;
            }
            
            // Função para salvar novo informativo
            window.saveNewInformativo = function() {
                const form = document.getElementById('addInformativoForm');
                if (!form.checkValidity()) {
                    form.reportValidity();
                    return;
                }
                
                const newInformativo = {
                    id: nextInformativoId++,
                    title: document.getElementById('new_info_title').value,
                    content: document.getElementById('new_info_content').value,
                    icon: document.getElementById('new_info_icon').value,
                    priority: document.getElementById('new_info_priority').value,
                    color: document.getElementById('new_info_color').value,
                    active: true
                };
                
                informativosData.push(newInformativo);
                updateInformativosList();
                
                // Fechar modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('addInformativoModal'));
                modal.hide();
                
                showToast('Informativo criado com sucesso!', 'success');
            };
            
            // Função para editar informativo
            window.editInformativoItem = function(id) {
                const informativo = informativosData.find(info => info.id === id);
                if (!informativo) return;
                
                const modal = new bootstrap.Modal(document.getElementById('editInformativoItemModal') || createEditInformativoModal());
                
                // Preencher dados
                document.getElementById('edit_info_id').value = informativo.id;
                document.getElementById('edit_info_title').value = informativo.title;
                document.getElementById('edit_info_content').value = informativo.content;
                document.getElementById('edit_info_icon').value = informativo.icon;
                document.getElementById('edit_info_priority').value = informativo.priority;
                document.getElementById('edit_info_color').value = informativo.color;
                
                modal.show();
            };
            
            // Função para criar modal de edição de informativo
            function createEditInformativoModal() {
                const modal = document.createElement('div');
                modal.className = 'modal fade';
                modal.id = 'editInformativoItemModal';
                modal.innerHTML = `
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">
                                    <i class="fas fa-edit"></i> Editar Informativo
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <form id="editInformativoItemForm">
                                    <input type="hidden" id="edit_info_id">
                                    <div class="mb-3">
                                        <label for="edit_info_title" class="form-label">Título</label>
                                        <input type="text" class="form-control" id="edit_info_title" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="edit_info_content" class="form-label">Conteúdo</label>
                                        <textarea class="form-control" id="edit_info_content" rows="3" required></textarea>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="edit_info_icon" class="form-label">Ícone</label>
                                                <select class="form-select" id="edit_info_icon" required>
                                                    <option value="fas fa-exclamation-triangle">⚠️ Alerta</option>
                                                    <option value="fas fa-clock">🕐 Relógio</option>
                                                    <option value="fas fa-phone">📞 Telefone</option>
                                                    <option value="fas fa-envelope">✉️ Email</option>
                                                    <option value="fas fa-map-marker-alt">📍 Localização</option>
                                                    <option value="fas fa-calendar">📅 Calendário</option>
                                                    <option value="fas fa-info-circle">ℹ️ Informação</option>
                                                    <option value="fas fa-bell">🔔 Notificação</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="edit_info_priority" class="form-label">Prioridade</label>
                                                <select class="form-select" id="edit_info_priority" required>
                                                    <option value="low">Baixa</option>
                                                    <option value="medium">Média</option>
                                                    <option value="high">Alta</option>
                                                    <option value="urgent">Urgente</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="edit_info_color" class="form-label">Cor do Ícone</label>
                                        <input type="color" class="form-control form-control-color" id="edit_info_color">
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button type="button" class="btn btn-primary" onclick="saveEditedInformativo()">
                                    <i class="fas fa-save"></i> Salvar
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                return modal;
            }
            
            // Função para salvar informativo editado
            window.saveEditedInformativo = function() {
                const form = document.getElementById('editInformativoItemForm');
                if (!form.checkValidity()) {
                    form.reportValidity();
                    return;
                }
                
                const id = parseInt(document.getElementById('edit_info_id').value);
                const index = informativosData.findIndex(info => info.id === id);
                
                if (index !== -1) {
                    informativosData[index] = {
                        ...informativosData[index],
                        title: document.getElementById('edit_info_title').value,
                        content: document.getElementById('edit_info_content').value,
                        icon: document.getElementById('edit_info_icon').value,
                        priority: document.getElementById('edit_info_priority').value,
                        color: document.getElementById('edit_info_color').value
                    };
                    
                    updateInformativosList();
                    
                    // Fechar modal
                    const modal = bootstrap.Modal.getInstance(document.getElementById('editInformativoItemModal'));
                    modal.hide();
                    
                    showToast('Informativo atualizado com sucesso!', 'success');
                }
            };
            
            // Função para excluir informativo
            window.deleteInformativo = function(id) {
                const informativo = informativosData.find(info => info.id === id);
                if (!informativo) return;
                
                if (confirm(`Deseja excluir o informativo "${informativo.title}"?`)) {
                    const index = informativosData.findIndex(info => info.id === id);
                    if (index !== -1) {
                        informativosData[index].active = false;
                        updateInformativosList();
                        showToast('Informativo excluído com sucesso!', 'success');
                    }
                }
            };
            
            // Função para gerenciar informativos
            window.manageInformativos = function() {
                const modal = new bootstrap.Modal(document.getElementById('manageInformativosModal') || createManageInformativosModal());
                modal.show();
            };
            
            // Função para criar modal de gerenciamento de informativos
            function createManageInformativosModal() {
                const modal = document.createElement('div');
                modal.className = 'modal fade';
                modal.id = 'manageInformativosModal';
                modal.innerHTML = `
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">
                                    <i class="fas fa-cogs"></i> Gerenciar Informativos
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead class="table-dark">
                                            <tr>
                                                <th>Título</th>
                                                <th>Prioridade</th>
                                                <th>Status</th>
                                                <th>Ações</th>
                                            </tr>
                                        </thead>
                                        <tbody id="informativosManagementTable">
                                            <!-- Dados serão carregados aqui -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-success" onclick="addNewInformativo()">
                                    <i class="fas fa-plus"></i> Novo Informativo
                                </button>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                
                // Carregar dados na tabela
                const tbody = modal.querySelector('#informativosManagementTable');
                informativosData.forEach(informativo => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>
                            <strong>${informativo.title}</strong>
                            <br><small class="text-muted">${informativo.content.substring(0, 50)}...</small>
                        </td>
                        <td><span class="badge bg-${getPriorityBadgeColor(informativo.priority)}">${getPriorityLabel(informativo.priority)}</span></td>
                        <td><span class="badge bg-${informativo.active ? 'success' : 'secondary'}">${informativo.active ? 'Ativo' : 'Inativo'}</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="editInformativoItem(${informativo.id})" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </button>
                                ${informativo.active ? 
                                    `<button class="btn btn-outline-warning" onclick="toggleInformativo(${informativo.id})" title="Desativar">
                                        <i class="fas fa-eye-slash"></i>
                                    </button>` :
                                    `<button class="btn btn-outline-success" onclick="toggleInformativo(${informativo.id})" title="Ativar">
                                        <i class="fas fa-eye"></i>
                                    </button>`
                                }
                                <button class="btn btn-outline-danger" onclick="deleteInformativoPermanently(${informativo.id})" title="Excluir Permanentemente">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
                
                return modal;
            }
            
            // Função para alternar status do informativo
            window.toggleInformativo = function(id) {
                const index = informativosData.findIndex(info => info.id === id);
                if (index !== -1) {
                    informativosData[index].active = !informativosData[index].active;
                    updateInformativosList();
                    
                    // Atualizar modal se estiver aberto
                    const modal = document.getElementById('manageInformativosModal');
                    if (modal && modal.classList.contains('show')) {
                        modal.remove();
                        manageInformativos();
                    }
                    
                    showToast(`Informativo ${informativosData[index].active ? 'ativado' : 'desativado'} com sucesso!`, 'success');
                }
            };
            
            // Função para excluir informativo permanentemente
            window.deleteInformativoPermanently = function(id) {
                const informativo = informativosData.find(info => info.id === id);
                if (!informativo) return;
                
                if (confirm(`Deseja excluir permanentemente o informativo "${informativo.title}"? Esta ação não pode ser desfeita.`)) {
                    const index = informativosData.findIndex(info => info.id === id);
                    if (index !== -1) {
                        informativosData.splice(index, 1);
                        updateInformativosList();
                        
                        // Atualizar modal se estiver aberto
                        const modal = document.getElementById('manageInformativosModal');
                        if (modal && modal.classList.contains('show')) {
                            modal.remove();
                            manageInformativos();
                        }
                        
                        showToast('Informativo excluído permanentemente!', 'success');
                    }
                }
            };
            
            // ===== VARIÁVEIS GLOBAIS =====
            
            // Dados das notícias do Django (sincronizados com o banco de dados)
            let newsData = [];
            
            // Função para sincronizar dados das notícias com o Django
            function syncNewsDataFromDjango() {
                console.log('DEBUG: Sincronizando dados das notícias com Django...');
                
                try {
                    // Obter dados das notícias do contexto Django (dados já serializados)
                    const djangoNewsDataStr = '{{ assejur_news_json|escapejs }}';
                    console.log('DEBUG: String de dados Django:', djangoNewsDataStr);
                    
                    const djangoNewsData = djangoNewsDataStr ? JSON.parse(djangoNewsDataStr) : [];
                    console.log('DEBUG: Dados Django parseados:', djangoNewsData);
                    
                    if (djangoNewsData && djangoNewsData.length > 0) {
                        // Converter dados do Django para o formato esperado pelo carrossel
                        newsData = djangoNewsData.map(noticia => ({
                            id: noticia.id,
                            titulo: noticia.titulo,
                            resumo: noticia.resumo || 'Sem resumo disponível',
                            categoria: noticia.categoria,
                            icone: noticia.icone || 'fas fa-newspaper',
                            data: noticia.data_publicacao,
                            data_publicacao: noticia.data_publicacao,
                            prioridade: noticia.prioridade || 'media',
                            link: noticia.link_externo || '',
                            link_externo: noticia.link_externo || '',
                            content: noticia.conteudo || '',
                            conteudo: noticia.conteudo || '',
                            tags: noticia.tags || '',
                            status: noticia.ativo ? 'active' : 'inactive',
                            created_at: noticia.data_publicacao,
                            destaque: noticia.destaque || false,
                            ordem_exibicao: noticia.ordem_exibicao || 0,
                            imagem: noticia.imagem || '',
                            imagem_legenda: noticia.imagem_legenda || ''
                        }));
                        
                        console.log('DEBUG: Dados convertidos para o carrossel:', newsData);
                    } else {
                        console.log('DEBUG: Nenhuma notícia encontrada no Django, usando dados padrão');
                        // Dados padrão quando não há notícias no banco
                        newsData = [
                            {
                                id: 'default',
                                titulo: "Nenhuma Notícia Disponível",
                                resumo: "Ainda não há notícias da assessoria jurídica. Entre em contato para mais informações.",
                                categoria: "Informação",
                                icone: "fas fa-info-circle",
                                data: new Date().toISOString().split('T')[0],
                                prioridade: "normal",
                                link: "",
                                content: "Nenhuma notícia disponível no momento.",
                                tags: "",
                                status: "inactive",
                                created_at: new Date().toISOString(),
                                destaque: false,
                                ordem_exibicao: 0
                            }
                        ];
                    }
                    
                    // Ordenar por destaque, ordem de exibição e data
                    newsData.sort((a, b) => {
                        if (a.destaque !== b.destaque) return b.destaque - a.destaque;
                        if (a.ordem_exibicao !== b.ordem_exibicao) return b.ordem_exibicao - a.ordem_exibicao;
                        return new Date(b.data) - new Date(a.data);
                    });
                    
                    // Limitar a 6 notícias para o carrossel
                    if (newsData.length > 6) {
                        newsData = newsData.slice(0, 6);
                    }
                    
                    console.log('DEBUG: Dados finais para o carrossel:', newsData);
                console.log('✅ Carrossel sincronizado com sucesso com os dados do Django!');
                    
                } catch (error) {
                    console.error('DEBUG: Erro ao sincronizar dados das notícias:', error);
                    // Fallback para dados padrão em caso de erro
                    newsData = [
                        {
                            id: 'error',
                            titulo: "Erro ao Carregar Notícias",
                            resumo: "Houve um problema ao carregar as notícias. Tente recarregar a página.",
                            categoria: "Erro",
                            icone: "fas fa-exclamation-triangle",
                            data: new Date().toISOString().split('T')[0],
                            prioridade: "alta",
                            link: "",
                            content: "Erro de carregamento",
                            tags: "",
                            status: "inactive",
                            created_at: new Date().toISOString(),
                            destaque: false,
                            ordem_exibicao: 0
                        }
                    ];
                }
            }
            
            // Histórico de notícias arquivadas (notícias antigas que saíram do carrossel)
            let historicoData = [
                {
                    id: 101,
                    title: "Mudanças na Legislação Trabalhista",
                    excerpt: "Novas regras para contratos temporários de militares.",
                    category: "Direito Trabalhista",
                    icon: "fas fa-briefcase",
                    date: "2024-12-20",
                    archived_date: "2025-01-05",
                    priority: "normal",
                    status: "archived"
                },
                {
                    id: 102,
                    title: "Atualização do Código Penal Militar",
                    excerpt: "Alterações importantes nas penalidades disciplinares.",
                    category: "Direito Penal",
                    icon: "fas fa-gavel",
                    date: "2024-12-15",
                    archived_date: "2025-01-03",
                    priority: "important",
                    status: "archived"
                },
                {
                    id: 103,
                    title: "Nova Resolução sobre Licenças",
                    excerpt: "Procedimentos atualizados para licenças médicas e maternidade.",
                    category: "Direito Administrativo",
                    icon: "fas fa-balance-scale",
                    date: "2024-12-10",
                    archived_date: "2025-01-01",
                    priority: "normal",
                    status: "archived"
                },
                {
                    id: 104,
                    title: "Direitos Previdenciários 2024",
                    excerpt: "Resumo das principais mudanças previdenciárias do ano.",
                    category: "Direito Previdenciário",
                    icon: "fas fa-gavel",
                    date: "2024-11-30",
                    archived_date: "2024-12-31",
                    priority: "important",
                    status: "archived"
                },
                {
                    id: 105,
                    title: "Reforma da Previdência Social",
                    excerpt: "Principais alterações na previdência social para militares.",
                    category: "Direito Previdenciário",
                    icon: "fas fa-gavel",
                    date: "2024-11-25",
                    archived_date: "2024-12-28",
                    priority: "urgent",
                    status: "archived"
                },
                {
                    id: 106,
                    title: "Novos Procedimentos Administrativos",
                    excerpt: "Atualizações nos procedimentos administrativos militares.",
                    category: "Direito Administrativo",
                    icon: "fas fa-balance-scale",
                    date: "2024-11-20",
                    archived_date: "2024-12-25",
                    priority: "normal",
                    status: "archived"
                },
                {
                    id: 107,
                    title: "Direitos Civis dos Militares",
                    excerpt: "Clarificações sobre direitos civis dos militares em serviço.",
                    category: "Direito Civil",
                    icon: "fas fa-user-tie",
                    date: "2024-11-15",
                    archived_date: "2024-12-20",
                    priority: "normal",
                    status: "archived"
                },
                {
                    id: 108,
                    title: "Atualização da Legislação Constitucional",
                    excerpt: "Mudanças na interpretação constitucional para militares.",
                    category: "Direito Constitucional",
                    icon: "fas fa-book",
                    date: "2024-11-10",
                    archived_date: "2024-12-15",
                    priority: "important",
                    status: "archived"
                },
                {
                    id: 109,
                    title: "Reforma Tributária e Militares",
                    excerpt: "Impactos da reforma tributária na carreira militar.",
                    category: "Direito Tributário",
                    icon: "fas fa-calculator",
                    date: "2024-11-05",
                    archived_date: "2024-12-10",
                    priority: "normal",
                    status: "archived"
                },
                {
                    id: 110,
                    title: "Direitos Trabalhistas Específicos",
                    excerpt: "Direitos trabalhistas específicos para militares e policiais.",
                    category: "Direito Trabalhista",
                    icon: "fas fa-briefcase",
                    date: "2024-10-30",
                    archived_date: "2024-12-05",
                    priority: "normal",
                    status: "archived"
                }
            ];
            
            // Dados dos informativos
            let informativosData = [
                {
                    id: 1,
                    title: "Prazo para Recursos",
                    content: "Recursos administrativos devem ser protocolados em até 30 dias.",
                    icon: "fas fa-exclamation-triangle",
                    priority: "high",
                    color: "#ffc107",
                    active: true
                },
                {
                    id: 2,
                    title: "Horário de Atendimento",
                    content: "Segunda a Sexta: 8h às 17h | Sábados: 8h às 12h",
                    icon: "fas fa-clock",
                    priority: "medium",
                    color: "#17a2b8",
                    active: true
                },
                {
                    id: 3,
                    title: "Contato Urgente",
                    content: "Para casos urgentes: {{ telefone }}",
                    icon: "fas fa-phone",
                    priority: "urgent",
                    color: "#dc3545",
                    active: true
                }
            ];
            
            let nextNewsId = 6;
            let nextInformativoId = 4;
            let newsToDelete = null;
            let informativoToDelete = null;
            let currentHistoricoPage = 1;
            let historicoPerPage = 5;
            
            // ===== FUNÇÕES AUXILIARES =====
            
            // Função para formatar data para exibição
            function formatDateForDisplay(dateString) {
                const date = new Date(dateString);
                return date.toLocaleDateString('pt-BR', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });
            }
            
            // Função para obter rótulo de prioridade
            function getPriorityLabel(priority) {
                const labels = {
                    'baixa': 'Baixa',
                    'media': 'Média', 
                    'alta': 'Alta',
                    'urgente': 'Urgente',
                    'normal': 'Normal',
                    'importante': 'Importante',
                    // Compatibilidade com valores antigos
                    'low': 'Baixa',
                    'medium': 'Média', 
                    'high': 'Alta',
                    'urgent': 'Urgente',
                    'important': 'Importante'
                };
                return labels[priority] || priority;
            }
            
            // Função para obter cor do badge de prioridade
            function getPriorityBadgeColor(priority) {
                const colors = {
                    'baixa': 'secondary',
                    'media': 'info',
                    'alta': 'warning',
                    'urgente': 'danger',
                    'normal': 'primary',
                    'importante': 'warning',
                    // Compatibilidade com valores antigos
                    'low': 'secondary',
                    'medium': 'info',
                    'high': 'warning',
                    'urgent': 'danger',
                    'important': 'warning'
                };
                return colors[priority] || 'secondary';
            }
            

            
            // Função para recarregar o carrossel após mudanças
            function reloadCarousel() {
                console.log('DEBUG: Recarregando carrossel...');
                
                // Recarregar a página para obter dados atualizados do Django
                // Em uma implementação mais avançada, poderia usar AJAX
                setTimeout(() => {
                    window.location.reload();
                }, 1000);
            }
            
            // Expor função globalmente para uso em formulários
            window.reloadCarousel = reloadCarousel;
            
            // Função para abrir modal com detalhes da notícia
            window.showNewsModal = function(newsId, title, category, date, content, link, imageUrl, imageCaption) {
                console.log('DEBUG: Abrindo modal para notícia:', newsId);
                
                // Incrementar visualizações via AJAX
                if (newsId && newsId !== 'default') {
                    fetch(`/core/assejur/noticias/${newsId}/view/`, {
                        method: 'POST',
                        headers: {
                            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value,
                            'Content-Type': 'application/json',
                        },
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            console.log('Visualização registrada:', data.message);
                            // Atualizar contador na interface se necessário
                            updateNewsViewCount(newsId, data.visualizacoes);
                        }
                    })
                    .catch(error => {
                        console.error('Erro ao registrar visualização:', error);
                    });
                }
                
                // Preencher dados do modal
                document.getElementById('modalNewsTitle').textContent = title;
                document.getElementById('modalNewsCategory').textContent = category;
                document.getElementById('modalNewsDate').textContent = date;
                
                // Gerenciar imagem da notícia
                const modalImage = document.getElementById('modalNewsImage');
                const modalImageCaption = document.getElementById('modalNewsImageCaption');
                const modalExternalLink = document.getElementById('modalNewsExternalLink');
                
                if (imageUrl && imageUrl.trim() !== '') {
                    // Mostrar imagem
                    modalImage.style.display = 'block';
                    modalImage.querySelector('img').src = imageUrl;
                    modalImage.querySelector('img').alt = imageCaption || title;
                    
                    // Mostrar legenda se existir
                    if (imageCaption && imageCaption.trim() !== '') {
                        modalImageCaption.style.display = 'block';
                        modalImageCaption.querySelector('span').textContent = imageCaption;
                    } else {
                        modalImageCaption.style.display = 'none';
                    }
                } else {
                    // Ocultar imagem
                    modalImage.style.display = 'none';
                }
                
                // Formatar conteúdo
                let modalContent = '';
                if (content && content.trim() !== '') {
                    // Dividir o conteúdo em parágrafos se houver quebras de linha
                    const paragraphs = content.split('\n').filter(p => p.trim() !== '');
                    if (paragraphs.length > 1) {
                        modalContent = paragraphs.map(p => `<p class="news-full-content">${p.trim()}</p>`).join('');
                    } else {
                        modalContent = `<p class="news-full-content">${content}</p>`;
                    }
                } else {
                    modalContent = `
                        <div class="text-center text-muted py-4">
                            <i class="fas fa-info-circle fa-3x mb-3"></i>
                            <p class="news-full-content">Esta notícia não possui conteúdo detalhado disponível.</p>
                        </div>
                    `;
                }
                
                // Adicionar link externo se existir
                if (link && link.trim() !== '') {
                    modalContent += `
                        <div class="news-external-link mt-3">
                            <a href="${link}" target="_blank" class="btn btn-primary">
                                <i class="fas fa-external-link-alt"></i> Ler mais no site original
                            </a>
                        </div>
                    `;
                    modalExternalLink.href = link;
                    modalExternalLink.style.display = 'inline-block';
                } else {
                    modalExternalLink.style.display = 'none';
                }
                
                document.getElementById('modalNewsContent').innerHTML = modalContent;
                
                // Abrir modal
                const modal = new bootstrap.Modal(document.getElementById('newsDetailModal'));
                modal.show();
            };
            
            // Função para atualizar contador de visualizações na interface
            function updateNewsViewCount(newsId, newCount) {
                // Atualizar contador no carrossel se existir
                const newsItem = document.querySelector(`[data-news-id="${newsId}"]`);
                if (newsItem) {
                    const viewCounter = newsItem.querySelector('.view-counter');
                    if (viewCounter) {
                        viewCounter.textContent = newCount;
                    }
                }
            }
            
            // Adicionar event listeners aos botões "Leia Mais" do HTML estático
            document.addEventListener('DOMContentLoaded', function() {
                // Para botões do HTML estático
                document.querySelectorAll('.read-more-btn[data-news-id]').forEach(btn => {
                    btn.addEventListener('click', function(e) {
                        e.preventDefault();
                        
                        const newsId = this.getAttribute('data-news-id');
                        const title = this.getAttribute('data-news-title');
                        const category = this.getAttribute('data-news-category');
                        const date = this.getAttribute('data-news-date');
                        const content = this.getAttribute('data-news-content');
                        const extLink = this.getAttribute('data-news-link');
                        
                        const imageUrl = this.getAttribute('data-news-image');
                        const imageCaption = this.getAttribute('data-news-image-caption');
                        showNewsModal(newsId, title, category, date, content, extLink, imageUrl, imageCaption);
                    });
                });
            });
            
            // ===== FUNCIONALIDADES DE EDIÇÃO DA ASSEJUR =====
            
            // Função para editar a seção ASSEJUR
            window.editAasjurSection = function() {
                const modal = new bootstrap.Modal(document.getElementById('editAasjurModal'));
                modal.show();
            };
            
            // ===== CRUD COMPLETO PARA NOTÍCIAS JURÍDICAS =====
            
            // Função para abrir modal de nova notícia
            window.addNewNews = function() {
                // Limpar formulário
                document.getElementById('addNewsForm').reset();
                
                // Definir data atual como padrão
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('new_news_date').value = today;
                
                // Abrir modal
                const modal = new bootstrap.Modal(document.getElementById('addNewsModal'));
                modal.show();
            };
            
            // Função para criar nova notícia
            window.createNews = function() {
                const form = document.getElementById('addNewsForm');
                if (!form.checkValidity()) {
                    form.reportValidity();
                    return;
                }
                
                const newNews = {
                    id: nextNewsId++,
                    title: document.getElementById('new_news_title').value,
                    excerpt: document.getElementById('new_news_excerpt').value,
                    category: document.getElementById('new_news_category').value,
                    icon: document.getElementById('new_news_icon').value,
                    date: document.getElementById('new_news_date').value,
                    priority: document.getElementById('new_news_priority').value,
                    link: document.getElementById('new_news_link').value || "#",
                    content: document.getElementById('new_news_content').value,
                    tags: document.getElementById('new_news_tags').value
                };
                
                // Adicionar à lista de notícias
                newsData.push(newNews);
                
                // Verificar se precisa manter o limite de 6 notícias no carrossel
                maintainCarouselLimit();
                
                // Atualizar carrossel
                updateNewsCarousel();
                
                // Fechar modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('addNewsModal'));
                modal.hide();
                
                // Mostrar mensagem de sucesso
                showToast('Notícia criada com sucesso!', 'success');
                
                // Atualizar tabela de gerenciamento se estiver aberta
                if (document.getElementById('manageNewsModal').classList.contains('show')) {
                    loadNewsManagementTable();
                }
            };
            
            // Função para abrir modal de gerenciamento
            window.manageAllNews = function() {
                loadNewsManagementTable();
                const modal = new bootstrap.Modal(document.getElementById('manageNewsModal'));
                modal.show();
            };
            
            // Função para carregar tabela de gerenciamento
            function loadNewsManagementTable() {
                const tbody = document.getElementById('newsManagementTable');
                const totalCount = document.getElementById('totalNewsCount');
                const categoryStats = document.getElementById('categoryStats');
                const lastUpdateTime = document.getElementById('lastUpdateTime');
                
                // Limpar tabela
                tbody.innerHTML = '';
                
                // Preencher tabela
                newsData.forEach(news => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${news.id}</td>
                        <td>
                            <strong>${news.titulo}</strong>
                            <br><small class="text-muted">${news.resumo.substring(0, 60)}...</small>
                        </td>
                        <td>
                            <span class="badge bg-primary">${news.categoria}</span>
                        </td>
                        <td>${formatDateForDisplay(news.data)}</td>
                        <td>
                            <span class="badge bg-${getPriorityBadgeColor(news.prioridade)}">${getPriorityLabel(news.prioridade)}</span>
                        </td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="editNews(${news.id})" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-danger" onclick="deleteNews(${news.id})" title="Excluir">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
                
                // Atualizar contadores
                totalCount.textContent = newsData.length;
                
                // Estatísticas por categoria
                const categoryCounts = {};
                newsData.forEach(news => {
                    categoryCounts[news.categoria] = (categoryCounts[news.categoria] || 0) + 1;
                });
                
                categoryStats.innerHTML = '';
                Object.entries(categoryCounts).forEach(([category, count]) => {
                    const statItem = document.createElement('div');
                    statItem.className = 'd-flex justify-content-between mb-1';
                    statItem.innerHTML = `
                        <span class="small">${category}:</span>
                        <strong>${count}</strong>
                    `;
                    categoryStats.appendChild(statItem);
                });
                
                // Última atualização
                lastUpdateTime.textContent = new Date().toLocaleTimeString('pt-BR');
            };
            
            // Função para aplicar filtros
            window.applyFilters = function() {
                const categoryFilter = document.getElementById('filterCategory').value;
                const priorityFilter = document.getElementById('filterPriority').value;
                
                const tbody = document.getElementById('newsManagementTable');
                tbody.innerHTML = '';
                
                const filteredNews = newsData.filter(news => {
                    const categoryMatch = !categoryFilter || news.categoria === categoryFilter;
                    const priorityMatch = !priorityFilter || news.prioridade === priorityFilter;
                    return categoryMatch && priorityMatch;
                });
                
                filteredNews.forEach(news => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${news.id}</td>
                        <td>
                            <strong>${news.titulo}</strong>
                            <br><small class="text-muted">${news.resumo.substring(0, 60)}...</small>
                        </td>
                        <td>
                            <span class="badge bg-primary">${news.categoria}</span>
                        </td>
                        <td>${formatDateForDisplay(news.data)}</td>
                        <td>
                            <span class="badge bg-${getPriorityBadgeColor(news.prioridade)}">${getPriorityLabel(news.prioridade)}</span>
                        </td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="editNews(${news.id})" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-danger" onclick="deleteNews(${news.id})" title="Excluir">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
                
                // Atualizar contador
                document.getElementById('totalNewsCount').textContent = filteredNews.length;
            };
            
            // Função para obter cor do badge de prioridade
            function getPriorityBadgeColor(priority) {
                switch(priority) {
                    case 'urgent': return 'danger';
                    case 'important': return 'warning';
                    case 'normal': return 'secondary';
                    default: return 'secondary';
                }
            }
            
            // Função para obter label de prioridade
            function getPriorityLabel(priority) {
                switch(priority) {
                    case 'urgent': return 'Urgente';
                    case 'important': return 'Importante';
                    case 'normal': return 'Normal';
                    default: return 'Normal';
                }
            }
            
            // Função para salvar a seção ASSEJUR
            window.saveAasjurSection = function() {
                const title = document.getElementById('aasjur_title').value;
                const subtitle = document.getElementById('aasjur_subtitle').value;
                const description = document.getElementById('aasjur_description').value;
                const contact = document.getElementById('aasjur_contact').value;
                
                // Atualizar o conteúdo na página
                document.querySelector('.aasjur-header .section-title').textContent = title;
                document.querySelector('.aasjur-header .section-subtitle').textContent = subtitle;
                
                // Aqui você pode implementar a lógica para salvar no banco de dados
                console.log('Salvando seção ASSEJUR:', { title, subtitle, description, contact });
                
                // Fechar modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('editAasjurModal'));
                modal.hide();
                
                // Mostrar mensagem de sucesso
                showToast('Seção ASSEJUR atualizada com sucesso!', 'success');
            };
            
            // Função para testar o modal de edição
            window.testEditModal = function() {
                console.log('Testando modal de edição...');
                
                // Verificar se o modal existe
                const editModal = document.getElementById('editNewsModal');
                if (!editModal) {
                    console.error('Modal editNewsModal não encontrado!');
                    showToast('Erro: Modal de edição não encontrado!', 'error');
                    return;
                }
                
                console.log('Modal encontrado:', editModal);
                
                // Tentar abrir o modal
                try {
                    const modal = new bootstrap.Modal(editModal);
                    modal.show();
                    console.log('Modal aberto com sucesso no teste');
                    showToast('Modal de teste aberto com sucesso!', 'success');
                } catch (error) {
                    console.error('Erro ao abrir modal no teste:', error);
                    showToast('Erro ao abrir modal no teste: ' + error.message, 'error');
                }
            };
            
            // Função para mostrar detalhes da notícia
            window.showNewsDetails = function(newsId) {
                const news = newsData.find(n => n.id == newsId);
                if (!news) {
                    showToast('Notícia não encontrada!', 'error');
                    return;
                }
                
                // Criar modal de detalhes
                const modal = document.createElement('div');
                modal.className = 'modal fade';
                modal.innerHTML = `
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">
                                    <i class="${news.icone}"></i> ${news.titulo}
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <div class="mb-3">
                                    <span class="badge bg-primary">${news.categoria}</span>
                                    <span class="badge bg-secondary ms-2">${formatDateForDisplay(news.data)}</span>
                                </div>
                                <p><strong>Resumo:</strong> ${news.resumo}</p>
                                ${news.conteudo ? `<p><strong>Conteúdo:</strong> ${news.conteudo}</p>` : ''}
                                ${news.tags ? `<p><strong>Tags:</strong> ${news.tags}</p>` : ''}
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" onclick="editNews(${news.id})">
                                    <i class="fas fa-edit"></i> Editar
                                </button>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                const bsModal = new bootstrap.Modal(modal);
                bsModal.show();
                
                modal.addEventListener('hidden.bs.modal', () => {
                    modal.remove();
                });
            };
            
            // Função para editar notícias
            window.editNews = function(newsId) {
                console.log('editNews chamada com ID:', newsId);
                
                // Verificar se o modal existe
                const editModal = document.getElementById('editNewsModal');
                if (!editModal) {
                    console.error('Modal editNewsModal não encontrado!');
                    showToast('Erro: Modal de edição não encontrado!', 'error');
                    return;
                }
                
                console.log('Modal encontrado:', editModal);
                
                // Dados padrão baseados no HTML estático
                let newsDataToEdit = {
                    id: newsId,
                    titulo: 'Nova Lei de Benefícios',
                    categoria: 'Direito Previdenciário',
                    icone: 'fas fa-gavel',
                    resumo: 'Atualizações importantes sobre a legislação previdenciária para militares e policiais.',
                    data: '2025-01-15',
                    link: '',
                    conteudo: 'Conteúdo completo da notícia sobre a nova lei de benefícios...',
                    tags: 'previdência, militar, benefícios'
                };
                
                // Ajustar dados baseados no ID
                if (newsId == 1) {
                    newsDataToEdit = {
                        id: 1,
                        titulo: 'Nova Lei de Benefícios',
                        categoria: 'Direito Previdenciário',
                        icone: 'fas fa-gavel',
                        resumo: 'Atualizações importantes sobre a legislação previdenciária para militares e policiais.',
                        data: '2025-01-15',
                        link: '',
                        conteudo: 'Conteúdo completo da notícia sobre a nova lei de benefícios...',
                        tags: 'previdência, militar, benefícios'
                    };
                } else if (newsId == 2) {
                    newsDataToEdit = {
                        id: 2,
                        titulo: 'Processos Disciplinares',
                        categoria: 'Direito Administrativo',
                        icone: 'fas fa-balance-scale',
                        resumo: 'Orientações sobre procedimentos e defesa em processos administrativos disciplinares.',
                        data: '2025-01-12',
                        link: '',
                        conteudo: 'Conteúdo completo sobre processos disciplinares...',
                        tags: 'administrativo, disciplinar, defesa'
                    };
                } else if (newsId == 3) {
                    newsDataToEdit = {
                        id: 3,
                        titulo: 'Promoções e Progressões',
                        categoria: 'Direito Militar',
                        icone: 'fas fa-shield-alt',
                        resumo: 'Informações sobre critérios e procedimentos para promoções na carreira militar.',
                        data: '2025-01-10',
                        link: '',
                        conteudo: 'Conteúdo completo sobre promoções militares...',
                        tags: 'militar, promoção, carreira'
                    };
                }
                
                // Se há dados dinâmicos, usar os dados reais
                if (window.newsData && window.newsData.length > 0) {
                    const foundNews = window.newsData.find(n => n.id == newsId);
                    if (foundNews) {
                        newsDataToEdit = foundNews;
                        console.log('Usando dados dinâmicos:', newsDataToEdit);
                    }
                }
                
                console.log('Dados da notícia para edição:', newsDataToEdit);
                
                // Preencher o modal
                try {
                    const idField = document.getElementById('edit_news_id');
                    const titleField = document.getElementById('edit_news_title');
                    const excerptField = document.getElementById('edit_news_excerpt');
                    const categoryField = document.getElementById('edit_news_category');
                    const iconField = document.getElementById('edit_news_icon');
                    const dateField = document.getElementById('edit_news_date');
                    const linkField = document.getElementById('edit_news_link');
                    const contentField = document.getElementById('edit_news_content');
                    const tagsField = document.getElementById('edit_news_tags');
                    
                    if (idField) idField.value = newsDataToEdit.id;
                    if (titleField) titleField.value = newsDataToEdit.titulo;
                    if (excerptField) excerptField.value = newsDataToEdit.resumo;
                    if (categoryField) categoryField.value = newsDataToEdit.categoria;
                    if (iconField) iconField.value = newsDataToEdit.icone;
                    if (dateField) dateField.value = newsDataToEdit.data;
                    if (linkField) linkField.value = newsDataToEdit.link || '';
                    if (contentField) contentField.value = newsDataToEdit.conteudo || '';
                    if (tagsField) tagsField.value = newsDataToEdit.tags || '';
                    
                    console.log('Modal preenchido com sucesso');
                    
                    // Abrir modal
                    const modal = new bootstrap.Modal(editModal);
                    modal.show();
                    
                    console.log('Modal aberto com sucesso');
                } catch (error) {
                    console.error('Erro ao preencher modal:', error);
                    showToast('Erro ao abrir modal de edição!', 'error');
                }
            };
            
            // Função para salvar notícias
            window.saveNews = function() {
                const form = document.getElementById('editNewsForm');
                if (!form.checkValidity()) {
                    form.reportValidity();
                    return;
                }
                
                const newsId = parseInt(document.getElementById('edit_news_id').value);
                const newsIndex = newsData.findIndex(n => n.id === newsId);
                
                if (newsIndex === -1) {
                    showToast('Notícia não encontrada!', 'error');
                    return;
                }
                
                // Atualizar dados
                newsData[newsIndex] = {
                    ...newsData[newsIndex],
                    title: document.getElementById('edit_news_title').value,
                    excerpt: document.getElementById('edit_news_excerpt').value,
                    category: document.getElementById('edit_news_category').value,
                    icon: document.getElementById('edit_news_icon').value,
                    date: document.getElementById('edit_news_date').value,
                    link: document.getElementById('edit_news_link').value || "#",
                    content: document.getElementById('edit_news_content').value,
                    tags: document.getElementById('edit_news_tags').value
                };
                
                // Atualizar carrossel
                updateNewsCarousel();
                
                // Fechar modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('editNewsModal'));
                modal.hide();
                
                // Mostrar mensagem de sucesso
                showToast('Notícia atualizada com sucesso!', 'success');
                
                // Atualizar tabela de gerenciamento se estiver aberta
                if (document.getElementById('manageNewsModal').classList.contains('show')) {
                    loadNewsManagementTable();
                }
            };
            
            // Função para excluir notícia
            window.deleteNews = function(newsId) {
                const news = newsData.find(n => n.id == newsId);
                if (!news) {
                    showToast('Notícia não encontrada!', 'error');
                    return;
                }
                
                // Armazenar notícia para exclusão
                newsToDelete = news;
                
                // Preencher modal de confirmação
                document.getElementById('deleteNewsTitle').textContent = news.titulo;
                
                // Abrir modal de confirmação
                const modal = new bootstrap.Modal(document.getElementById('deleteNewsModal'));
                modal.show();
            };
            
            // Função para confirmar exclusão
            window.confirmDeleteNews = function() {
                if (!newsToDelete) {
                    showToast('Erro: Notícia não identificada para exclusão!', 'error');
                    return;
                }
                
                // Remover da lista
                const newsIndex = newsData.findIndex(n => n.id === newsToDelete.id);
                if (newsIndex !== -1) {
                    newsData.splice(newsIndex, 1);
                }
                
                // Atualizar carrossel
                updateNewsCarousel();
                
                // Fechar modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('deleteNewsModal'));
                modal.hide();
                
                // Mostrar mensagem de sucesso
                showToast('Notícia excluída com sucesso!', 'success');
                
                // Atualizar tabela de gerenciamento se estiver aberta
                if (document.getElementById('manageNewsModal').classList.contains('show')) {
                    loadNewsManagementTable();
                }
                
                // Limpar referência
                newsToDelete = null;
            };
            
            // Função para editar informativos individuais
            window.editInformativoItem = function(informativoId) {
                const informativoItem = document.querySelector(`[data-informativo-id="${informativoId}"]`);
                const title = informativoItem.querySelector('h5').textContent;
                const content = informativoItem.querySelector('p').textContent;
                const icon = informativoItem.querySelector('.informativo-icon i').className;
                
                // Preencher o modal
                document.getElementById('edit_informativo_id').value = informativoId;
                document.getElementById('edit_informativo_title').value = title;
                document.getElementById('edit_informativo_content').value = content;
                document.getElementById('edit_informativo_icon').value = icon;
                
                // Abrir modal
                const modal = new bootstrap.Modal(document.getElementById('editInformativoModal'));
                modal.show();
            };
            
            // Função para salvar informativos
            window.saveInformativo = function() {
                const informativoId = document.getElementById('edit_informativo_id').value;
                const title = document.getElementById('edit_informativo_title').value;
                const content = document.getElementById('edit_informativo_content').value;
                const icon = document.getElementById('edit_informativo_icon').value;
                const color = document.getElementById('edit_informativo_color').value;
                
                // Atualizar o conteúdo na página
                const informativoItem = document.querySelector(`[data-informativo-id="${informativoId}"]`);
                informativoItem.querySelector('h5').textContent = title;
                informativoItem.querySelector('p').textContent = content;
                informativoItem.querySelector('.informativo-icon i').className = icon;
                informativoItem.querySelector('.informativo-icon').style.background = `linear-gradient(135deg, ${color}, #ff8c42)`;
                
                // Aqui você pode implementar a lógica para salvar no banco de dados
                console.log('Salvando informativo:', { informativoId, title, content, icon, color });
                
                // Fechar modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('editInformativoModal'));
                modal.hide();
                
                // Mostrar mensagem de sucesso
                showToast('Informativo atualizado com sucesso!', 'success');
            };
            
            // Função para editar informativos gerais
            window.editInformativos = function() {
                // Carregar informativos atuais
                loadCurrentInformativos();
                
                // Abrir modal
                const modal = new bootstrap.Modal(document.getElementById('editInformativosModal'));
                modal.show();
            };
            
            // Função para carregar informativos atuais
            function loadCurrentInformativos() {
                const informativosList = document.getElementById('currentInformativosList');
                const informativos = document.querySelectorAll('.informativo-item');
                
                let html = '';
                informativos.forEach((item, index) => {
                    const title = item.querySelector('h5').textContent;
                    const content = item.querySelector('p').textContent;
                    html += `
                        <div class="card mb-2">
                            <div class="card-body p-2">
                                <h6 class="card-title mb-1">${title}</h6>
                                <p class="card-text small mb-2">${content}</p>
                                <button class="btn btn-sm btn-outline-primary" onclick="editInformativoItem(${index + 1})">
                                    <i class="fas fa-edit"></i> Editar
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                informativosList.innerHTML = html;
            }
            
            // Função para formatar data para input
            function formatDateForInput(dateStr) {
                const date = new Date(dateStr);
                return date.toISOString().split('T')[0];
            }
            

            
            // Event listener para adicionar novo informativo
            document.getElementById('addInformativoForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const icon = document.getElementById('new_informativo_icon').value;
                const title = document.getElementById('new_informativo_title').value;
                const content = document.getElementById('new_informativo_content').value;
                
                // Aqui você pode implementar a lógica para adicionar no banco de dados
                console.log('Adicionando novo informativo:', { icon, title, content });
                
                // Limpar formulário
                this.reset();
                
                // Mostrar mensagem de sucesso
                showToast('Novo informativo adicionado com sucesso!', 'success');
            });
        });
    </script>
    
    <!-- ===== MODAIS DE EDIÇÃO DA ASSEJUR ===== -->
    
    <!-- Modal de Edição da Seção ASSEJUR -->
    <div class="modal fade" id="editAasjurModal" tabindex="-1" aria-labelledby="editAasjurModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editAasjurModalLabel">
                        <i class="fas fa-edit"></i> Editar Seção ASSEJUR
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editAasjurForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="aasjur_title" class="form-label">Título da Seção</label>
                                    <input type="text" class="form-control" id="aasjur_title" value="Mural da ASSEJUR" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="aasjur_subtitle" class="form-label">Subtítulo</label>
                                    <input type="text" class="form-control" id="aasjur_subtitle" value="Assessoria Jurídica - Informações, notícias e orientações legais" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="aasjur_description" class="form-label">Descrição Detalhada</label>
                            <textarea class="form-control" id="aasjur_description" rows="3" placeholder="Descrição mais detalhada da seção..."></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="aasjur_contact" class="form-label">Informações de Contato</label>
                            <input type="text" class="form-control" id="aasjur_contact" value="Para mais informações, entre em contato com nossa equipe jurídica.">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="saveAasjurSection()">
                        <i class="fas fa-save"></i> Salvar Alterações
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de Criação de Nova Notícia -->
    <div class="modal fade" id="addNewsModal" tabindex="-1" aria-labelledby="addNewsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addNewsModalLabel">
                        <i class="fas fa-plus"></i> Nova Notícia Jurídica
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addNewsForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="new_news_category" class="form-label">Categoria</label>
                                    <select class="form-select" id="new_news_category" required>
                                        <option value="">Selecione uma categoria</option>
                                        <option value="Direito Previdenciário">Direito Previdenciário</option>
                                        <option value="Direito Administrativo">Direito Administrativo</option>
                                        <option value="Direito Militar">Direito Militar</option>
                                        <option value="Direito Civil">Direito Civil</option>
                                        <option value="Direito Penal">Direito Penal</option>
                                        <option value="Direito Trabalhista">Direito Trabalhista</option>
                                        <option value="Direito Constitucional">Direito Constitucional</option>
                                        <option value="Direito Tributário">Direito Tributário</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="new_news_icon" class="form-label">Ícone</label>
                                    <select class="form-select" id="new_news_icon" required>
                                        <option value="">Selecione um ícone</option>
                                        <option value="fas fa-gavel">🔨 Gavel (Direito)</option>
                                        <option value="fas fa-balance-scale">⚖️ Balança (Justiça)</option>
                                        <option value="fas fa-shield-alt">🛡️ Escudo (Militar)</option>
                                        <option value="fas fa-user-tie">👔 Usuário (Civil)</option>
                                        <option value="fas fa-gavel">⚖️ Gavel (Penal)</option>
                                        <option value="fas fa-briefcase">💼 Pasta (Trabalhista)</option>
                                        <option value="fas fa-book">📚 Livro (Constitucional)</option>
                                        <option value="fas fa-calculator">🧮 Calculadora (Tributário)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="new_news_title" class="form-label">Título da Notícia</label>
                            <input type="text" class="form-control" id="new_news_title" placeholder="Digite o título da notícia..." required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="new_news_excerpt" class="form-label">Resumo da Notícia</label>
                            <textarea class="form-control" id="new_news_excerpt" rows="3" placeholder="Digite um resumo da notícia..." required></textarea>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="new_news_date" class="form-label">Data de Publicação</label>
                                    <input type="date" class="form-control" id="new_news_date" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="new_news_priority" class="form-label">Prioridade</label>
                                    <select class="form-select" id="new_news_priority">
                                        <option value="normal">Normal</option>
                                        <option value="important">Importante</option>
                                        <option value="urgent">Urgente</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="new_news_link" class="form-label">Link "Ler mais" (opcional)</label>
                            <input type="url" class="form-control" id="new_news_link" placeholder="https://...">
                        </div>
                        
                        <div class="mb-3">
                            <label for="new_news_content" class="form-label">Conteúdo Completo</label>
                            <textarea class="form-control" id="new_news_content" rows="5" placeholder="Digite o conteúdo completo da notícia..."></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="new_news_tags" class="form-label">Tags (opcional)</label>
                            <input type="text" class="form-control" id="new_news_tags" placeholder="Ex: previdência, militar, benefícios">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-success" onclick="createNews()">
                        <i class="fas fa-plus"></i> Criar Notícia
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Edição de Notícias -->
    <div class="modal fade" id="editNewsModal" tabindex="-1" aria-labelledby="editNewsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editNewsModalLabel">
                        <i class="fas fa-edit"></i> Editar Notícia
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editNewsForm">
                        <input type="hidden" id="edit_news_id">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="edit_news_category" class="form-label">Categoria</label>
                                    <select class="form-select" id="edit_news_category" required>
                                        <option value="Direito Previdenciário">Direito Previdenciário</option>
                                        <option value="Direito Administrativo">Direito Administrativo</option>
                                        <option value="Direito Militar">Direito Militar</option>
                                        <option value="Direito Civil">Direito Civil</option>
                                        <option value="Direito Penal">Direito Penal</option>
                                        <option value="Direito Trabalhista">Direito Trabalhista</option>
                                        <option value="Direito Constitucional">Direito Constitucional</option>
                                        <option value="Direito Tributário">Direito Tributário</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="edit_news_icon" class="form-label">Ícone</label>
                                    <select class="form-select" id="edit_news_icon" required>
                                        <option value="fas fa-gavel">🔨 Gavel (Direito)</option>
                                        <option value="fas fa-balance-scale">⚖️ Balança (Justiça)</option>
                                        <option value="fas fa-shield-alt">🛡️ Escudo (Militar)</option>
                                        <option value="fas fa-user-tie">👔 Usuário (Civil)</option>
                                        <option value="fas fa-gavel">⚖️ Gavel (Penal)</option>
                                        <option value="fas fa-briefcase">💼 Pasta (Trabalhista)</option>
                                        <option value="fas fa-book">📚 Livro (Constitucional)</option>
                                        <option value="fas fa-calculator">🧮 Calculadora (Tributário)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="edit_news_title" class="form-label">Título da Notícia</label>
                            <input type="text" class="form-control" id="edit_news_title" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="edit_news_excerpt" class="form-label">Resumo da Notícia</label>
                            <textarea class="form-control" id="edit_news_excerpt" rows="3" required></textarea>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="edit_news_date" class="form-label">Data</label>
                                    <input type="date" class="form-control" id="edit_news_date" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="edit_news_link" class="form-label">Link "Ler mais"</label>
                                    <input type="url" class="form-control" id="edit_news_link" placeholder="https://...">
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="edit_news_content" class="form-label">Conteúdo Completo</label>
                            <textarea class="form-control" id="edit_news_content" rows="5" placeholder="Conteúdo completo da notícia..."></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="edit_news_tags" class="form-label">Tags</label>
                            <input type="text" class="form-control" id="edit_news_tags" placeholder="Ex: previdência, militar, benefícios">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="saveNews()">
                        <i class="fas fa-save"></i> Salvar Notícia
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de Gerenciamento de Notícias -->
    <div class="modal fade" id="manageNewsModal" tabindex="-1" aria-labelledby="manageNewsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="manageNewsModalLabel">
                        <i class="fas fa-cogs"></i> Gerenciar Notícias Jurídicas
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-8">
                            <h6>Notícias Existentes</h6>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>ID</th>
                                            <th>Título</th>
                                            <th>Categoria</th>
                                            <th>Data</th>
                                            <th>Prioridade</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="newsManagementTable">
                                        <!-- Dados das notícias serão carregados aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <h6>Estatísticas</h6>
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Total de Notícias:</span>
                                        <strong id="totalNewsCount">0</strong>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Por Categoria:</span>
                                    </div>
                                    <div id="categoryStats">
                                        <!-- Estatísticas por categoria serão carregadas aqui -->
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Última Atualização:</span>
                                        <small id="lastUpdateTime">-</small>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-3">
                                <h6>Filtros Rápidos</h6>
                                <div class="mb-2">
                                    <select class="form-select form-select-sm" id="filterCategory">
                                        <option value="">Todas as Categorias</option>
                                        <option value="Direito Previdenciário">Direito Previdenciário</option>
                                        <option value="Direito Administrativo">Direito Administrativo</option>
                                        <option value="Direito Militar">Direito Militar</option>
                                        <option value="Direito Civil">Direito Civil</option>
                                        <option value="Direito Penal">Direito Penal</option>
                                        <option value="Direito Trabalhista">Direito Trabalhista</option>
                                        <option value="Direito Constitucional">Direito Constitucional</option>
                                        <option value="Direito Tributário">Direito Tributário</option>
                                    </select>
                                </div>
                                <div class="mb-2">
                                    <select class="form-select form-select-sm" id="filterPriority">
                                        <option value="">Todas as Prioridades</option>
                                        <option value="normal">Normal</option>
                                        <option value="important">Importante</option>
                                        <option value="urgent">Urgente</option>
                                    </select>
                                </div>
                                <button class="btn btn-outline-secondary btn-sm w-100" onclick="applyFilters()">
                                    <i class="fas fa-filter"></i> Aplicar Filtros
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" onclick="addNewNews()">
                        <i class="fas fa-plus"></i> Nova Notícia
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de Confirmação de Exclusão -->
    <div class="modal fade" id="deleteNewsModal" tabindex="-1" aria-labelledby="deleteNewsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="deleteNewsModalLabel">
                        <i class="fas fa-exclamation-triangle"></i> Confirmar Exclusão
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Tem certeza que deseja excluir a notícia <strong id="deleteNewsTitle"></strong>?</p>
                    <p class="text-muted small">Esta ação não pode ser desfeita.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" onclick="confirmDeleteNews()">
                        <i class="fas fa-trash"></i> Excluir Definitivamente
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de Edição de Informativos -->
    <div class="modal fade" id="editInformativoModal" tabindex="-1" aria-labelledby="editInformativoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editInformativoModalLabel">
                        <i class="fas fa-info-circle"></i> Editar Informativo
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editInformativoForm">
                        <input type="hidden" id="edit_informativo_id">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="edit_informativo_icon" class="form-label">Ícone</label>
                                    <select class="form-select" id="edit_informativo_icon" required>
                                        <option value="fas fa-exclamation-triangle">⚠️ Triângulo (Alerta)</option>
                                        <option value="fas fa-clock">🕐 Relógio (Horário)</option>
                                        <option value="fas fa-phone">📞 Telefone (Contato)</option>
                                        <option value="fas fa-envelope">✉️ Envelope (Email)</option>
                                        <option value="fas fa-map-marker-alt">📍 Marcador (Localização)</option>
                                        <option value="fas fa-calendar">📅 Calendário (Data)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="edit_informativo_color" class="form-label">Cor do Ícone</label>
                                    <input type="color" class="form-control form-control-color" id="edit_informativo_color" value="#3498db">
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="edit_informativo_title" class="form-label">Título do Informativo</label>
                            <input type="text" class="form-control" id="edit_informativo_title" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="edit_informativo_content" class="form-label">Conteúdo</label>
                            <textarea class="form-control" id="edit_informativo_content" rows="3" required></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="edit_informativo_priority" class="form-label">Prioridade</label>
                            <select class="form-select" id="edit_informativo_priority">
                                <option value="low">Baixa</option>
                                <option value="medium">Média</option>
                                <option value="high">Alta</option>
                                <option value="urgent">Urgente</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="saveInformativo()">
                        <i class="fas fa-save"></i> Salvar Informativo
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de Edição Geral de Informativos -->
    <div class="modal fade" id="editInformativosModal" tabindex="-1" aria-labelledby="editInformativosModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editInformativosModalLabel">
                        <i class="fas fa-cogs"></i> Gerenciar Todos os Informativos
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Informativos Atuais</h6>
                            <div id="currentInformativosList">
                                <!-- Lista de informativos será carregada aqui -->
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h6>Adicionar Novo Informativo</h6>
                            <form id="addInformativoForm">
                                <div class="mb-3">
                                    <label for="new_informativo_icon" class="form-label">Ícone</label>
                                    <select class="form-select" id="new_informativo_icon" required>
                                        <option value="fas fa-exclamation-triangle">⚠️ Triângulo</option>
                                        <option value="fas fa-clock">🕐 Relógio</option>
                                        <option value="fas fa-phone">📞 Telefone</option>
                                        <option value="fas fa-envelope">✉️ Email</option>
                                        <option value="fas fa-map-marker-alt">📍 Localização</option>
                                        <option value="fas fa-calendar">📅 Calendário</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="new_informativo_title" class="form-label">Título</label>
                                    <input type="text" class="form-control" id="new_informativo_title" required>
                                </div>
                                <div class="mb-3">
                                    <label for="new_informativo_content" class="form-label">Conteúdo</label>
                                    <textarea class="form-control" id="new_informativo_content" rows="3" required></textarea>
                                </div>
                                <button type="submit" class="btn btn-success">
                                    <i class="fas fa-plus"></i> Adicionar
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- AOS Animation JS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        // Inicializar AOS
        AOS.init({
            duration: 1000,
            easing: 'ease-in-out',
            once: true,
            offset: 100
        });
        
        // Adicionar animações aos elementos
        document.addEventListener('DOMContentLoaded', function() {
            // Animar elementos ao carregar
            const animatedElements = document.querySelectorAll('.hero-title, .hero-subtitle, .stat-item, .news-carousel-container, .aasjur-old-news');
            
            animatedElements.forEach((element, index) => {
                element.style.opacity = '0';
                element.style.transform = 'translateY(30px)';
                
                setTimeout(() => {
                    element.style.transition = 'all 0.8s ease';
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, index * 200);
            });
            
            // Inicializar carrosséis
            initializeCarousels();
        });
        
        // ===== FUNCIONALIDADE COMPLETA DOS CARROSSÉIS =====
        
        // Carrossel de Notícias Jurídicas
        function initializeNewsCarousel() {
            const newsCarousel = document.getElementById('aasjurNewsCarousel');
            const prevBtn = document.getElementById('prevNewsBtn');
            const nextBtn = document.getElementById('nextNewsBtn');
            const indicators = document.querySelectorAll('.news-indicator');
            
            if (!newsCarousel) return;
            
            let currentSlide = 0;
            const totalSlides = document.querySelectorAll('.newspaper-item').length;
            
            // Função para atualizar o carrossel
            function updateNewsCarousel() {
                // Esconder todos os slides
                document.querySelectorAll('.newspaper-item').forEach((item, index) => {
                    item.style.display = 'none';
                    item.classList.remove('active');
                });
                
                // Mostrar apenas o slide atual
                const currentItem = document.querySelectorAll('.newspaper-item')[currentSlide];
                if (currentItem) {
                    currentItem.style.display = 'block';
                    currentItem.classList.add('active');
                }
                
                // Atualizar estado dos botões
                if (prevBtn) {
                    prevBtn.disabled = currentSlide === 0;
                    prevBtn.style.opacity = currentSlide === 0 ? '0.5' : '1';
                }
                if (nextBtn) {
                    nextBtn.disabled = currentSlide === totalSlides - 1;
                    nextBtn.style.opacity = currentSlide === totalSlides - 1 ? '0.5' : '1';
                }
                
                // Atualizar indicadores
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentSlide);
                });
                
                console.log(`Notícias: Slide ${currentSlide + 1} de ${totalSlides} ativado`);
            }
            
            // Função para ir para o próximo slide
            function nextSlide() {
                if (currentSlide < totalSlides - 1) {
                    currentSlide++;
                    updateNewsCarousel();
                }
            }
            
            // Função para ir para o slide anterior
            function prevSlide() {
                if (currentSlide > 0) {
                    currentSlide--;
                    updateNewsCarousel();
                }
            }
            
            // Função para ir para um slide específico
            function goToSlide(slideIndex) {
                if (slideIndex >= 0 && slideIndex < totalSlides) {
                    currentSlide = slideIndex;
                    updateNewsCarousel();
                }
            }
            
            // Event listeners para os botões
            if (prevBtn) {
                prevBtn.addEventListener('click', prevSlide);
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', nextSlide);
            }
            
            // Event listeners para os indicadores
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => goToSlide(index));
            });
            
            // Navegação por teclado
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    prevSlide();
                } else if (e.key === 'ArrowRight') {
                    nextSlide();
                }
            });
            
            // Auto-play com pausa no hover
            let autoPlayInterval;
            
            function startAutoPlay() {
                autoPlayInterval = setInterval(() => {
                    if (currentSlide < totalSlides - 1) {
                        nextSlide();
                    } else {
                        currentSlide = 0; // Voltar ao início
                        updateNewsCarousel();
                    }
                }, 5000); // Mudar a cada 5 segundos
            }
            
            function stopAutoPlay() {
                if (autoPlayInterval) {
                    clearInterval(autoPlayInterval);
                }
            }
            
            // Pausar auto-play no hover
            newsCarousel.addEventListener('mouseenter', stopAutoPlay);
            newsCarousel.addEventListener('mouseleave', startAutoPlay);
            
            // Iniciar auto-play
            startAutoPlay();
            
            // Inicializar carrossel
            updateNewsCarousel();
            
            console.log('Carrossel de Notícias inicializado com', totalSlides, 'slides');
        }
        
        // Carrossel do Feed Social (Instagram)
        function initializeInstagramCarousel() {
            const instagramCarousel = document.getElementById('instagramCarousel');
            const prevBtn = document.getElementById('prevInstagramBtn');
            const nextBtn = document.getElementById('nextInstagramBtn');
            const indicators = document.querySelectorAll('.instagram-indicator-btn');
            
            if (!instagramCarousel) return;
            
            let currentSlide = 0;
            const totalSlides = document.querySelectorAll('.instagram-post').length;
            
            console.log('🔍 Total de posts encontrados:', totalSlides);
            console.log('🔍 Posts individuais:', document.querySelectorAll('.instagram-post'));
            
            // Função para atualizar o carrossel
            function updateInstagramCarousel() {
                console.log('🔄 Atualizando carrossel Instagram, slide atual:', currentSlide);
                
                // Esconder todos os posts
                document.querySelectorAll('.instagram-post').forEach((post, index) => {
                    post.style.display = 'none';
                    post.classList.remove('active');
                    console.log(`📱 Post ${index}: escondido`);
                });
                
                // Mostrar apenas o post atual
                const currentPost = document.querySelectorAll('.instagram-post')[currentSlide];
                if (currentPost) {
                    currentPost.style.display = 'block';
                    currentPost.classList.add('active');
                    console.log(`✅ Post ${currentSlide} ativado:`, currentPost);
                } else {
                    console.error(`❌ Post ${currentSlide} não encontrado!`);
                }
                
                // Atualizar estado dos botões
                if (prevBtn) {
                    prevBtn.disabled = currentSlide === 0;
                    prevBtn.style.opacity = currentSlide === 0 ? '0.5' : '1';
                }
                if (nextBtn) {
                    nextBtn.disabled = currentSlide === totalSlides - 1;
                    nextBtn.style.opacity = currentSlide === totalSlides - 1 ? '0.5' : '1';
                }
                
                // Atualizar indicadores
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentSlide);
                });
                
                console.log(`Instagram: Post ${currentSlide + 1} de ${totalSlides} ativado`);
            }
            
            // Função para ir para o próximo post
            function nextPost() {
                if (currentSlide < totalSlides - 1) {
                    currentSlide++;
                    updateInstagramCarousel();
                }
            }
            
            // Função para ir para o post anterior
            function prevPost() {
                if (currentSlide > 0) {
                    currentSlide--;
                    updateInstagramCarousel();
                }
            }
            
            // Função para ir para um post específico
            function goToPost(postIndex) {
                if (postIndex >= 0 && postIndex < totalSlides) {
                    currentSlide = postIndex;
                    updateInstagramCarousel();
                }
            }
            
            // Event listeners para os botões
            if (prevBtn) {
                prevBtn.addEventListener('click', prevPost);
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', nextPost);
            }
            
            // Event listeners para os indicadores
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => goToPost(index));
            });
            
            // Navegação por teclado
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    prevPost();
                } else if (e.key === 'ArrowRight') {
                    nextPost();
                }
            });
            
            // Carrossel manual - sem auto-play automático
            console.log('Carrossel configurado para navegação manual apenas');
            
            // Inicializar carrossel
            updateInstagramCarousel();
            
            console.log('Carrossel Instagram inicializado com', totalSlides, 'posts');
            
            // Debug: verificar se os posts estão sendo encontrados
            console.log('Posts encontrados:', document.querySelectorAll('.instagram-post'));
            console.log('Posts ativos:', document.querySelectorAll('.instagram-post.active'));
        }
        
        // Função para inicializar todos os carrosséis
        function initializeCarousels() {
            initializeNewsCarousel();
            initializeInstagramCarousel();
        }
        
        // Função para scroll suave para seções
        function smoothScrollToSection(sectionId) {
            const target = document.querySelector(sectionId);
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }
        
        // Função para controlar o menu lateral sticky
        function initializeStickySidebar() {
            const sidebar = document.querySelector('.sidebar-menu');
            const navbar = document.querySelector('.modern-navbar');
            
            if (!sidebar || !navbar) return;
            
            // Posição inicial do menu lateral
            sidebar.style.position = 'fixed';
            sidebar.style.right = '0';
            sidebar.style.top = '120px';
            sidebar.style.zIndex = '1000';
            sidebar.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
            
            // Criar botão de toggle para o menu recolhido
            const toggleButton = document.createElement('div');
            toggleButton.className = 'sidebar-toggle-btn';
            toggleButton.innerHTML = '<i class="fas fa-chevron-left"></i>';
            toggleButton.style.cssText = `
                position: fixed;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 40px;
                height: 80px;
                background: var(--primary-color);
                color: white;
                border-radius: 8px 0 0 8px;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                z-index: 999;
                transition: all 0.3s ease;
                opacity: 0;
                pointer-events: none;
            `;
            
            // Adicionar botão ao body
            document.body.appendChild(toggleButton);
            
            // Função para mostrar o menu lateral
            function showSidebar() {
                sidebar.style.transform = 'translateX(0)';
                sidebar.style.opacity = '1';
                sidebar.style.boxShadow = '-5px 0 25px rgba(0,0,0,0.1)';
                toggleButton.style.opacity = '0';
                toggleButton.style.pointerEvents = 'none';
                console.log('Menu lateral mostrado');
            }
            
            // Função para recolher o menu lateral
            function hideSidebar() {
                sidebar.style.transform = 'translateX(100%)';
                sidebar.style.opacity = '0.8';
                sidebar.style.boxShadow = 'none';
                toggleButton.style.opacity = '1';
                toggleButton.style.pointerEvents = 'auto';
                console.log('Menu lateral recolhido');
            }
            
            // Função para controlar visibilidade baseada na seção
            function updateSidebarVisibility() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const feedSection = document.getElementById('feed');
                const sobreSection = document.getElementById('sobre');
                
                if (feedSection && sobreSection) {
                    const feedBottom = feedSection.offsetTop + feedSection.offsetHeight;
                    const sobreTop = sobreSection.offsetTop;
                    
                    if (scrollTop < feedBottom - 200) {
                        // Na primeira seção (feed) - mostrar menu
                        showSidebar();
                    } else if (scrollTop >= sobreTop - 100) {
                        // Na segunda seção (sobre) ou além - recolher menu
                        hideSidebar();
                    } else {
                        // Entre as seções - recolher menu
                        hideSidebar();
                    }
                }
            }
            
            // Event listener para o botão de toggle
            toggleButton.addEventListener('click', function() {
                if (sidebar.style.transform === 'translateX(100%)') {
                    showSidebar();
                } else {
                    hideSidebar();
                }
            });
            
            // Event listener para scroll
            window.addEventListener('scroll', updateSidebarVisibility);
            

            
            // Event listener para redimensionamento da janela
            window.addEventListener('resize', updateSidebarVisibility);
            
            // Inicializar visibilidade
            updateSidebarVisibility();
            
            console.log('Menu lateral inteligente inicializado - recolhe ao entrar na segunda seção (sobre)');
        }
        

        
        // Função para mostrar todos os comentários em modal estilo Instagram
        function showAllComments(postId) {
            console.log(`=== SHOW ALL COMMENTS CHAMADA ===`);
            console.log(`Post ID: ${postId}`);
            console.log(`Função showAllComments definida:`, typeof showAllComments);
            console.log(`Mostrando todos os comentários para post ${postId}`);
            
            // Buscar dados do post
            const postElement = document.querySelector(`[data-post-id="${postId}"]`);
            if (!postElement) {
                console.error(`Post ${postId} não encontrado!`);
                return;
            }
            
            // Obter informações do post
            const postTitle = postElement.querySelector('.post-title')?.textContent || 'Post';
            const postImage = postElement.querySelector('.post-image img')?.src;
            const postContent = postElement.querySelector('.post-text')?.textContent || '';
            
            // Criar modal
            const modal = document.createElement('div');
            modal.className = 'instagram-comments-modal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: fadeIn 0.3s ease-out;
            `;
            
            // Conteúdo do modal
            modal.innerHTML = `
                <div class="modal-content" style="
                    background: white;
                    border-radius: 12px;
                    width: 90%;
                    max-width: 500px;
                    max-height: 80vh;
                    overflow: hidden;
                    display: flex;
                    flex-direction: column;
                    animation: slideUp 0.3s ease-out;
                ">
                    <!-- Header do Modal -->
                    <div class="modal-header" style="
                        padding: 16px;
                        border-bottom: 1px solid #dbdbdb;
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        background: #fafafa;
                    ">
                        <h4 style="margin: 0; font-size: 16px; font-weight: 600; color: #262626;">Comentários</h4>
                        <button class="close-modal" style="
                            background: none;
                            border: none;
                            font-size: 24px;
                            cursor: pointer;
                            color: #8e8e8e;
                            padding: 0;
                            width: 30px;
                            height: 30px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        ">&times;</button>
                    </div>
                    
                    <!-- Conteúdo do Post -->
                    <div class="post-preview" style="
                        padding: 16px;
                        border-bottom: 1px solid #dbdbdb;
                        background: white;
                    ">
                        <div style="display: flex; align-items: center; margin-bottom: 12px;">
                            <img src="${postImage || 'https://via.placeholder.com/32x32/667eea/ffffff?text=ABMEPI'}" 
                                 alt="ABMEPI" 
                                 style="width: 32px; height: 32px; border-radius: 50%; margin-right: 12px;">
                            <div>
                                <div style="font-weight: 600; color: #262626; font-size: 14px;">ABMEPI Oficial</div>
                                <div style="color: #8e8e8e; font-size: 12px;">${postTitle}</div>
                            </div>
                        </div>
                        <p style="margin: 0; color: #262626; font-size: 14px; line-height: 1.4;">${postContent}</p>
                    </div>
                    
                    <!-- Lista de Comentários -->
                    <div class="comments-list" style="
                        flex: 1;
                        overflow-y: auto;
                        padding: 16px;
                        background: white;
                    ">
                        <div class="loading-comments" style="
                            text-align: center;
                            padding: 20px;
                            color: #8e8e8e;
                            font-size: 14px;
                        ">
                            <i class="fas fa-spinner fa-spin" style="margin-right: 8px;"></i>
                            Carregando comentários...
                        </div>
                    </div>
                    
                    <!-- Formulário de Comentário -->
                    <div class="comment-form-modal" style="
                        padding: 16px;
                        border-top: 1px solid #dbdbdb;
                        background: white;
                    ">
                        <div style="display: flex; align-items: center;">
                            <input type="text" class="comment-input-modal" 
                                   placeholder="Adicione um comentário..." 
                                   style="
                                       flex: 1;
                                       border: none;
                                       outline: none;
                                       font-size: 14px;
                                       padding: 8px 0;
                                       color: #262626;
                                   ">
                            <button class="post-comment-btn" style="
                                background: none;
                                border: none;
                                color: #0095f6;
                                font-weight: 600;
                                font-size: 14px;
                                cursor: pointer;
                                padding: 8px 16px;
                                opacity: 0.3;
                            " disabled>Publicar</button>
                        </div>
                    </div>
                </div>
            `;
            
            // Adicionar ao body
            document.body.appendChild(modal);
            
            // Carregar comentários via AJAX
            loadAllComments(postId, modal);
            
            // Event listeners
            const closeBtn = modal.querySelector('.close-modal');
            const commentInput = modal.querySelector('.comment-input-modal');
            const postBtn = modal.querySelector('.post-comment-btn');
            
            // Fechar modal
            closeBtn.addEventListener('click', () => {
                modal.remove();
            });
            
            // Fechar ao clicar fora
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
            
            // Fechar com ESC
            document.addEventListener('keydown', function closeOnEsc(e) {
                if (e.key === 'Escape') {
                    modal.remove();
                    document.removeEventListener('keydown', closeOnEsc);
                }
            });
            
            // Input de comentário
            commentInput.addEventListener('input', function() {
                if (this.value.trim().length > 0) {
                    postBtn.style.opacity = '1';
                    postBtn.disabled = false;
                } else {
                    postBtn.style.opacity = '0.3';
                    postBtn.disabled = true;
                }
            });
            
            // Enviar comentário
            postBtn.addEventListener('click', () => {
                if (commentInput.value.trim()) {
                    submitCommentFromModal(postId, commentInput.value.trim(), modal);
                }
            });
            
            // Enter para enviar
            commentInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && commentInput.value.trim()) {
                    submitCommentFromModal(postId, commentInput.value.trim(), modal);
                }
            });
            
            // Focar no input
            commentInput.focus();
        }
        
        // Função para carregar todos os comentários
        function loadAllComments(postId, modal) {
            fetch(`/core/posts/${postId}/comments/`, {
                method: 'GET',
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    displayAllComments(data.comments, modal);
                } else {
                    showErrorInModal('Erro ao carregar comentários', modal);
                }
            })
            .catch(error => {
                console.error('Erro ao carregar comentários:', error);
                showErrorInModal('Erro ao carregar comentários', modal);
            });
        }
        
        // Função para exibir todos os comentários
        function displayAllComments(comments, modal) {
            const commentsList = modal.querySelector('.comments-list');
            const loadingElement = modal.querySelector('.loading-comments');
            
            if (loadingElement) {
                loadingElement.remove();
            }
            
            if (comments.length === 0) {
                commentsList.innerHTML = `
                    <div style="text-align: center; padding: 40px 20px; color: #8e8e8e;">
                        <i class="fas fa-comment-slash" style="font-size: 48px; margin-bottom: 16px; opacity: 0.5;"></i>
                        <p style="margin: 0; font-size: 14px;">Nenhum comentário ainda</p>
                        <p style="margin: 8px 0 0 0; font-size: 12px;">Seja o primeiro a comentar!</p>
                    </div>
                `;
                return;
            }
            
            const commentsHTML = comments.map(comment => `
                <div class="comment-item-modal" style="
                    display: flex;
                    align-items: flex-start;
                    margin-bottom: 16px;
                    padding: 0;
                ">
                    <div style="
                        width: 32px;
                        height: 32px;
                        border-radius: 50%;
                        background: #f0f0f0;
                        margin-right: 12px;
                        flex-shrink: 0;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: #8e8e8e;
                        font-size: 14px;
                        font-weight: 600;
                    ">${comment.usuario_nome ? comment.usuario_nome.charAt(0).toUpperCase() : 'U'}</div>
                    <div style="flex: 1;">
                        <div style="margin-bottom: 4px;">
                            <span style="font-weight: 600; color: #262626; font-size: 14px; margin-right: 8px;">
                                ${comment.usuario_nome || 'Usuário'}
                            </span>
                            <span style="color: #8e8e8e; font-size: 12px;">${comment.tempo_relativo || ''}</span>
                        </div>
                        <div style="color: #262626; font-size: 14px; line-height: 1.4;">${comment.conteudo}</div>
                    </div>
                </div>
            `).join('');
            
            commentsList.innerHTML = commentsHTML;
        }
        
        // Função para enviar comentário do modal
        function submitCommentFromModal(postId, conteudo, modal) {
            const commentInput = modal.querySelector('.comment-input-modal');
            const postBtn = modal.querySelector('.post-comment-btn');
            
            // Desabilitar durante envio
            commentInput.disabled = true;
            postBtn.disabled = true;
            postBtn.textContent = 'Enviando...';
            
            // Preparar dados
            const formData = new FormData();
            formData.append('conteudo', conteudo);
            
            // Enviar via AJAX
            fetch(`/core/posts/${postId}/comment/`, {
                method: 'POST',
                headers: {
                    'X-CSRFToken': getCsrfToken(),
                    'X-Requested-With': 'XMLHttpRequest'
                },
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Limpar input
                    commentInput.value = '';
                    postBtn.style.opacity = '0.3';
                    postBtn.disabled = true;
                    
                    // Recarregar comentários
                    loadAllComments(postId, modal);
                    
                    // Atualizar contador no post original
                    updateCommentsCount(postId, data.comments_count);
                    
                    // Adicionar comentário à interface do post
                    addCommentToInterface(postId, data.comment);
                    
                    showToast('Comentário enviado com sucesso!', 'success');
                } else {
                    showToast(data.message || 'Erro ao enviar comentário', 'error');
                }
            })
            .catch(error => {
                console.error('Erro ao enviar comentário:', error);
                showToast('Erro ao enviar comentário. Tente novamente.', 'error');
            })
            .finally(() => {
                // Reabilitar
                commentInput.disabled = false;
                postBtn.disabled = false;
                postBtn.textContent = 'Publicar';
                commentInput.focus();
            });
        }
        
        // Função para mostrar erro no modal
        function showErrorInModal(message, modal) {
            const commentsList = modal.querySelector('.comments-list');
            commentsList.innerHTML = `
                <div style="text-align: center; padding: 40px 20px; color: #e74c3c;">
                    <i class="fas fa-exclamation-triangle" style="font-size: 48px; margin-bottom: 16px;"></i>
                    <p style="margin: 0; font-size: 14px;">${message}</p>
                    <button onclick="loadAllComments('${postId}', this.closest('.instagram-comments-modal'))" 
                            style="
                                background: #0095f6;
                                color: white;
                                border: none;
                                padding: 8px 16px;
                                border-radius: 4px;
                                margin-top: 16px;
                                cursor: pointer;
                                font-size: 14px;
                            ">Tentar novamente</button>
                </div>
            `;
        }

        // Função para inicializar funcionalidades dos botões do feed
        function initializeFeedButtons() {
            console.log('=== Inicializando botões do feed ===');
            console.log('Posts encontrados:', document.querySelectorAll('[data-post-id]').length);
            console.log('Botões de like encontrados:', document.querySelectorAll('.like-btn').length);
            console.log('Inputs de comentário encontrados:', document.querySelectorAll('.comment-input').length);
            console.log('Containers de comentários encontrados:', document.querySelectorAll('.post-comments').length);
            
            // Event listeners para botões de like
            document.addEventListener('click', function(e) {
                if (e.target.closest('.like-btn')) {
                    const likeBtn = e.target.closest('.like-btn');
                    const postId = likeBtn.getAttribute('data-post-id');
                    
                    if (postId && postId !== 'default') {
                        console.log('=== LIKE CLICADO ===');
                        console.log('Post ID:', postId);
                        console.log('Botão:', likeBtn);
                        console.log('Função handleLikeClick disponível:', typeof handleLikeClick);
                        
                        try {
                            handleLikeClick(postId, likeBtn);
                        } catch (error) {
                            console.error('Erro ao processar like:', error);
                            alert('Erro ao processar like: ' + error.message);
                        }
                    }
                }
            });
            
            // Event listeners para botões de comentário
            document.addEventListener('click', function(e) {
                if (e.target.closest('.comment-btn')) {
                    const commentBtn = e.target.closest('.comment-btn');
                    const postId = commentBtn.getAttribute('data-post-id');
                    
                    if (postId && postId !== 'default') {
                        console.log('Comentário clicado para post:', postId);
                        handleCommentClick(postId, commentBtn);
                    }
                }
            });
            
            // Event listeners para botões de compartilhamento
            document.addEventListener('click', function(e) {
                if (e.target.closest('.share-btn')) {
                    const shareBtn = e.target.closest('.share-btn');
                    const postId = shareBtn.getAttribute('data-post-id');
                    
                    if (postId && postId !== 'default') {
                        console.log('Compartilhar clicado para post:', postId);
                        handleShareClick(postId, shareBtn);
                    }
                }
            });
            
            // Event listeners para botões de salvar
            document.addEventListener('click', function(e) {
                if (e.target.closest('.save-btn')) {
                    const saveBtn = e.target.closest('.save-btn');
                    const postId = saveBtn.getAttribute('data-post-id');
                    
                    if (postId && postId !== 'default') {
                        console.log('Salvar clicado para post:', postId);
                        handleSaveClick(postId, saveBtn);
                    }
                }
            });
            
            // Event listeners para "Ver todos os comentários"
            document.addEventListener('click', function(e) {
                if (e.target.closest('.view-all-comments')) {
                    const viewAllLink = e.target.closest('.view-all-comments');
                    const postId = viewAllLink.getAttribute('data-post-id');
                    
                    if (postId && postId !== 'default') {
                        e.preventDefault();
                        console.log('Link "Ver todos" clicado para post:', postId);
                        
                        // Verificar se a função existe
                        if (typeof showAllComments === 'function') {
                            showAllComments(postId);
                        } else {
                            console.error('Função showAllComments não está definida!');
                            alert('Função não disponível. Recarregue a página.');
                        }
                    }
                }
            });
            

            
            // Event listeners para envio de comentários
            document.addEventListener('keypress', function(e) {
                if (e.target.classList.contains('comment-input')) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        const postId = e.target.getAttribute('data-post-id');
                        if (postId && postId !== 'default') {
                            console.log('=== ENVIANDO COMENTÁRIO ===');
                            console.log('Post ID:', postId);
                            console.log('Input:', e.target);
                            console.log('Valor:', e.target.value);
                            console.log('Função submitCommentFromInput disponível:', typeof submitCommentFromInput);
                            
                            try {
                                submitCommentFromInput(e.target);
                            } catch (error) {
                                console.error('Erro ao enviar comentário:', error);
                                alert('Erro ao enviar comentário: ' + error.message);
                            }
                        }
                    }
                }
            });
            
            // Event listeners para botões de emoji (envio de comentários)
            document.addEventListener('click', function(e) {
                if (e.target.closest('.emoji-btn')) {
                    const emojiBtn = e.target.closest('.emoji-btn');
                    const postId = emojiBtn.getAttribute('data-post-id');
                    if (postId && postId !== 'default') {
                        console.log('Enviando comentário via emoji para post:', postId);
                        const commentInput = document.querySelector(`[data-post-id="${postId}"] .comment-input`);
                        if (commentInput) {
                            submitCommentFromInput(commentInput);
                        }
                    }
                }
            });
            
            console.log('Botões do feed inicializados');
        }
        
        // Função para enviar comentário a partir do input
        function submitCommentFromInput(commentInput) {
            const postId = commentInput.getAttribute('data-post-id');
            const conteudo = commentInput.value.trim();
            const commentName = document.querySelector(`[data-post-id="${postId}"] .comment-name`);
            const nomeUsuario = commentName ? commentName.value.trim() : '';
            
            if (!conteudo) {
                showToast('Por favor, digite um comentário', 'warning');
                return;
            }
            
            if (conteudo.length < 3) {
                showToast('Comentário deve ter pelo menos 3 caracteres', 'warning');
                return;
            }
            
            // Desabilitar inputs durante o envio
            commentInput.disabled = true;
            if (commentName) commentName.disabled = true;
            
            // Preparar dados para envio
            const formData = new FormData();
            formData.append('conteudo', conteudo);
            if (nomeUsuario) {
                formData.append('nome_usuario', nomeUsuario);
            }
            
            // Enviar comentário via AJAX
            fetch(`/core/posts/${postId}/comment/`, {
                method: 'POST',
                headers: {
                    'X-CSRFToken': getCsrfToken(),
                    'X-Requested-With': 'XMLHttpRequest'
                },
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    console.log('Comentário enviado com sucesso:', data);
                    
                    // Limpar inputs
                    commentInput.value = '';
                    if (commentName) commentName.value = '';
                    
                    // Adicionar comentário à interface imediatamente
                    const postElement = document.querySelector(`[data-post-id="${postId}"]`);
                    if (postElement) {
                        const commentsContainer = document.getElementById(`comments-${postId}`);
                        if (commentsContainer) {
                            const commentsPreview = commentsContainer.querySelector('.comments-preview');
                            if (commentsPreview) {
                                // Remover mensagem de "nenhum comentário"
                                const noCommentsMsg = commentsPreview.querySelector('.no-comments');
                                if (noCommentsMsg) {
                                    noCommentsMsg.remove();
                                }
                                
                                // Criar novo comentário
                                const commentItem = document.createElement('div');
                                commentItem.className = 'comment-item';
                                commentItem.style.cssText = 'background: #f5f5f5; margin: 5px 0; padding: 8px; border-radius: 5px; border-left: 3px solid #007bff; display: block !important; visibility: visible !important; opacity: 1 !important; color: #000000;';
                                
                                const userName = data.comment.usuario_nome || data.comment.nome_usuario || data.comment.author_name || 'Usuário';
                                commentItem.innerHTML = `<strong>${userName}:</strong> ${data.comment.conteudo}`;
                                
                                // Adicionar ao início da lista
                                commentsPreview.insertBefore(commentItem, commentsPreview.firstChild);
                                
                                // Atualizar contador de comentários
                                const commentBtn = postElement.querySelector('.comment-btn');
                                if (commentBtn) {
                                    const countSpan = commentBtn.querySelector('.comments-count');
                                    if (countSpan) {
                                        countSpan.textContent = data.comments_count;
                                    }
                                }
                                
                                // Efeito visual de confirmação
                                postElement.style.transition = 'transform 0.15s ease';
                                postElement.style.transform = 'scale(1.02)';
                                setTimeout(() => {
                                    postElement.style.transform = 'scale(1)';
                                }, 150);
                            }
                        }
                    }
                    
                    showToast('Comentário enviado com sucesso!', 'success');
                } else {
                    showToast(data.message || 'Erro ao enviar comentário', 'error');
                }
            })
            .catch(error => {
                console.error('Erro ao enviar comentário:', error);
                showToast('Erro ao enviar comentário. Tente novamente.', 'error');
            })
            .finally(() => {
                // Reabilitar inputs
                commentInput.disabled = false;
                if (commentName) commentName.disabled = false;
                commentInput.focus();
            });
        }
        
        // Função para lidar com cliques no botão de like
        function handleLikeClick(postId, likeBtn) {
            console.log(`=== HANDLE LIKE CLICK ===`);
            console.log(`Post ID: ${postId}`);
            console.log(`Botão:`, likeBtn);
            console.log(`CSRF Token:`, getCsrfToken());

            // Desabilitar botão durante o processamento
            likeBtn.disabled = true;
            
            // Enviar like via AJAX
            fetch(`/core/posts/${postId}/like/`, {
                method: 'POST',
                headers: {
                    'X-CSRFToken': getCsrfToken(),
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    console.log('Like processado com sucesso:', data);
                    
                    // Atualizar interface imediatamente
                    const postElement = document.querySelector(`[data-post-id="${postId}"]`);
                    if (postElement) {
                        // Atualizar botão de like
                        const likeBtn = postElement.querySelector('.like-btn');
                        if (likeBtn) {
                            const icon = likeBtn.querySelector('i');
                            if (icon) {
                                if (data.liked) {
                                    icon.classList.remove('far');
                                    icon.classList.add('fas');
                                    likeBtn.classList.add('liked');
                                } else {
                                    icon.classList.remove('fas');
                                    icon.classList.add('far');
                                    likeBtn.classList.remove('liked');
                                }
                            }
                            
                            // Atualizar contador no botão
                            const countSpan = likeBtn.querySelector('.likes-count');
                            if (countSpan) {
                                countSpan.textContent = data.likes_count;
                            }
                        }
                        
                        // Atualizar contador de texto "X curtidas"
                        const textLikeCounters = postElement.querySelectorAll('.likes-count');
                        textLikeCounters.forEach(counter => {
                            if (!counter.closest('.like-btn')) {
                                const span = counter.querySelector('span');
                                if (span) {
                                    span.textContent = data.likes_count;
                                }
                            }
                        });
                        
                        // Efeito visual de confirmação
                        postElement.style.transition = 'transform 0.15s ease';
                        postElement.style.transform = 'scale(1.02)';
                        setTimeout(() => {
                            postElement.style.transform = 'scale(1)';
                        }, 150);
                    }
                    
                    // Mostrar toast de feedback
                    showToast(data.message, 'success');
                } else {
                    showToast(data.message || 'Erro ao processar like', 'error');
                }
            })
            .catch(error => {
                console.error('Erro ao processar like:', error);
                showToast('Erro ao processar like. Tente novamente.', 'error');
            })
            .finally(() => {
                // Reabilitar botão
                likeBtn.disabled = false;
            });
        }
        
        // Função para lidar com cliques no botão de comentário
        function handleCommentClick(postId, commentBtn) {
            console.log(`Comentário clicado para post ${postId}`);
            
            // Focar no campo de comentário
            const commentInput = document.querySelector(`[data-post-id="${postId}"] .comment-input`);
            if (commentInput) {
                commentInput.focus();
            }
        }
        
        // Função para lidar com cliques no botão de compartilhamento
        function handleShareClick(postId, shareBtn) {
            console.log(`Compartilhar clicado para post ${postId}`);
            
            // Implementar funcionalidade de compartilhamento
            showToast('Funcionalidade de compartilhamento em desenvolvimento', 'info');
        }
        
        // Função para lidar com cliques no botão de salvar
        function handleSaveClick(postId, saveBtn) {
            console.log(`Salvar clicado para post ${postId}`);
            
            // Implementar funcionalidade de salvar
            showToast('Funcionalidade de salvar em desenvolvimento', 'info');
        }
        
        // Função para obter token CSRF
        function getCsrfToken() {
            console.log('Buscando CSRF token...');
            
            // Primeiro, tentar buscar no template
            const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]');
            if (csrfToken) {
                console.log('CSRF token encontrado no template:', csrfToken.value);
                return csrfToken.value;
            }
            
            // Fallback: buscar em cookies
            const cookies = document.cookie.split(';');
            for (let cookie of cookies) {
                const [name, value] = cookie.trim().split('=');
                if (name === 'csrftoken') {
                    console.log('CSRF token encontrado em cookies:', value);
                    return value;
                }
            }
            
            console.log('CSRF token não encontrado');
            return '';
        }
        
        // Função para inicializar tudo
        function initializeAll() {
            console.log('=== Inicializando ABMEPI Portal ===');
            console.log('Data/Hora:', new Date().toLocaleString());

            // Log inicial de debug
            console.log('Posts encontrados:', document.querySelectorAll('[data-post-id]').length);
            console.log('Botões de like encontrados:', document.querySelectorAll('.like-btn').length);
            console.log('Inputs de comentário encontrados:', document.querySelectorAll('.comment-input').length);
            console.log('Containers de comentários:', document.querySelectorAll('.post-comments').length);
            console.log('Botões de comentário:', document.querySelectorAll('.comment-btn').length);
            
            // Inicializar todas as funcionalidades
            try {
                initializeCarousels();
                console.log('✓ Carrossel de notícias inicializado');
            } catch (e) {
                console.error('✗ Erro ao inicializar carrossel de notícias:', e);
            }
            
            try {
                initializeStickySidebar();
                console.log('✓ Sidebar inicializada');
            } catch (e) {
                console.error('✗ Erro ao inicializar sidebar:', e);
            }
            
            try {
                initializeFeedButtons();
                console.log('✓ Botões do feed inicializados');
            } catch (e) {
                console.error('✗ Erro ao inicializar botões do feed:', e);
                console.error('Stack trace:', e.stack);
            }
            
            try {
                initializeInstagramCarousel();
                console.log('✓ Carrossel Instagram inicializado');
            } catch (e) {
                console.error('✗ Erro ao inicializar carrossel Instagram:', e);
            }
            
            console.log('=== Inicialização completa ===');
            console.log('Status final:');
            console.log('- Posts:', document.querySelectorAll('[data-post-id]').length);
            console.log('- Botões de like:', document.querySelectorAll('.like-btn').length);
            console.log('- Inputs de comentário:', document.querySelectorAll('.comment-input').length);
            console.log('- Containers de comentários:', document.querySelectorAll('.post-comments').length);
        }
        
        // Inicializar quando o DOM estiver pronto
        console.log('=== Verificando estado do DOM ===');
        console.log('Document readyState:', document.readyState);
        
        if (document.readyState === 'loading') {
            console.log('DOM ainda carregando, aguardando DOMContentLoaded...');
            document.addEventListener('DOMContentLoaded', initializeAll);
        } else {
            console.log('DOM já carregado, inicializando imediatamente...');
            initializeAll();
        }
    </script>
</body>
</html>