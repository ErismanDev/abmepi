{% load static %}

<form id="pacienteForm" method="post">
    {% csrf_token %}
    
    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label for="{{ form.associado.id_for_label }}" class="form-label">{{ form.associado.label }}</label>
                {{ form.associado }}
                {% if form.associado.errors %}
                    <div class="invalid-feedback">{{ form.associado.errors.0 }}</div>
                {% endif %}
                <div class="form-text">Selecione o associado que será cadastrado como paciente</div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="mb-3">
                <label for="{{ form.psicologo_responsavel.id_for_label }}" class="form-label">{{ form.psicologo_responsavel.label }}</label>
                {{ form.psicologo_responsavel }}
                {% if form.psicologo_responsavel.errors %}
                    <div class="invalid-feedback">{{ form.psicologo_responsavel.errors.0 }}</div>
                {% endif %}
                <div class="form-text">Psicólogo responsável pelo atendimento inicial</div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label for="{{ form.data_primeira_consulta.id_for_label }}" class="form-label">{{ form.data_primeira_consulta.label }}</label>
                <input type="date" 
                       name="{{ form.data_primeira_consulta.name }}" 
                       id="{{ form.data_primeira_consulta.id_for_label }}" 
                       class="form-control" 
                       value="{% if form.data_primeira_consulta.value %}{{ form.data_primeira_consulta.value|date:'Y-m-d' }}{% endif %}">
                {% if form.data_primeira_consulta.errors %}
                    <div class="invalid-feedback">{{ form.data_primeira_consulta.errors.0 }}</div>
                {% endif %}
                <div class="form-text">Data da primeira consulta ou avaliação</div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="mb-3">
                <div class="form-check">
                    <input type="checkbox" 
                           name="{{ form.ativo.name }}" 
                           id="{{ form.ativo.id_for_label }}" 
                           class="form-check-input"
                           value="1"
                           {% if form.ativo.value %}checked{% endif %}>
                    <input type="hidden" name="{{ form.ativo.name }}" value="0">
                    <label class="form-check-label" for="{{ form.ativo.id_for_label }}">
                        {{ form.ativo.label }}
                    </label>
                </div>
                {% if form.ativo.errors %}
                    <div class="invalid-feedback">{{ form.ativo.errors.0 }}</div>
                {% endif %}
                <div class="form-text">Paciente ativo no sistema</div>
            </div>
        </div>
    </div>
    
    <div class="mb-3">
        <label for="{{ form.observacoes_iniciais.id_for_label }}" class="form-label">{{ form.observacoes_iniciais.label }}</label>
        {{ form.observacoes_iniciais }}
        {% if form.observacoes_iniciais.errors %}
            <div class="invalid-feedback">{{ form.observacoes_iniciais.errors.0 }}</div>
        {% endif %}
        <div class="form-text">Observações iniciais sobre o caso, motivos da busca por atendimento, etc.</div>
    </div>
</form>
