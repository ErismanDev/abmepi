{% load static %}

<form id="agendaForm" method="post">
    {% csrf_token %}
    
    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label for="{{ form.psicologo.id_for_label }}" class="form-label">{{ form.psicologo.label }}</label>
                {{ form.psicologo }}
                {% if form.psicologo.errors %}
                    <div class="invalid-feedback">{{ form.psicologo.errors.0 }}</div>
                {% endif %}
                <div class="form-text">Psicólogo para o qual a agenda será criada</div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="mb-3">
                <label for="{{ form.data.id_for_label }}" class="form-label">{{ form.data.label }}</label>
                <input type="date" 
                       name="{{ form.data.name }}" 
                       id="{{ form.data.id_for_label }}" 
                       class="form-control" 
                       value="{% if form.data.value %}{{ form.data.value|date:'Y-m-d' }}{% endif %}"
                       required>
                {% if form.data.errors %}
                    <div class="invalid-feedback">{{ form.data.errors.0 }}</div>
                {% endif %}
                <div class="form-text">Data da agenda</div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label for="{{ form.hora_inicio.id_for_label }}" class="form-label">{{ form.hora_inicio.label }}</label>
                <input type="time" 
                       name="{{ form.hora_inicio.name }}" 
                       id="{{ form.hora_inicio.id_for_label }}" 
                       class="form-control" 
                       value="{% if form.hora_inicio.value %}{{ form.hora_inicio.value|time:'H:i' }}{% endif %}"
                       required>
                {% if form.hora_inicio.errors %}
                    <div class="invalid-feedback">{{ form.hora_inicio.errors.0 }}</div>
                {% endif %}
                <div class="form-text">Hora de início do horário</div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="mb-3">
                <label for="{{ form.hora_fim.id_for_label }}" class="form-label">{{ form.hora_fim.label }}</label>
                <input type="time" 
                       name="{{ form.hora_fim.name }}" 
                       id="{{ form.hora_fim.id_for_label }}" 
                       class="form-control" 
                       value="{% if form.hora_fim.value %}{{ form.hora_fim.value|time:'H:i' }}{% endif %}"
                       required>
                {% if form.hora_fim.errors %}
                    <div class="invalid-feedback">{{ form.hora_fim.errors.0 }}</div>
                {% endif %}
                <div class="form-text">Hora de fim do horário</div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <div class="form-check">
                    <input type="checkbox" 
                           name="{{ form.disponivel.name }}" 
                           id="{{ form.disponivel.id_for_label }}" 
                           class="form-check-input"
                           {% if form.disponivel.value %}checked{% endif %}>
                    <label class="form-check-label" for="{{ form.disponivel.id_for_label }}">
                        {{ form.disponivel.label }}
                    </label>
                </div>
                {% if form.disponivel.errors %}
                    <div class="invalid-feedback">{{ form.disponivel.errors.0 }}</div>
                {% endif %}
                <div class="form-text">Horário disponível para agendamento</div>
            </div>
        </div>
    </div>
    
    <div class="mb-3">
        <label for="{{ form.observacoes.id_for_label }}" class="form-label">{{ form.observacoes.label }}</label>
        <textarea name="{{ form.observacoes.name }}" 
                  id="{{ form.observacoes.id_for_label }}" 
                  class="form-control" 
                  rows="2" 
                  placeholder="Observações sobre o horário...">{% if form.observacoes.value %}{{ form.observacoes.value }}{% endif %}</textarea>
        {% if form.observacoes.errors %}
            <div class="invalid-feedback">{{ form.observacoes.errors.0 }}</div>
        {% endif %}
        <div class="form-text">Observações sobre o horário, restrições, etc.</div>
    </div>
</form>
